{"config":{"indexing":"full","lang":["en","ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\u200b\\-]"},"docs":[{"location":"","text":"Hello! \u00b6 \u4f60\u597d\uff01 \u00b6 \u8fd9\u91cc\u662f godot42 \u7684\u4e2a\u4eba\u535a\u5ba2!\ud83d\ude0a \u00b6 \ud83d\udc49 \u9879\u76ee\u5730\u5740 \u00b6 \ud83d\udc49 Github \u4e3b\u9875 \u00b6","title":"Hello!"},{"location":"#hello","text":"","title":"Hello!"},{"location":"#_1","text":"","title":"\u4f60\u597d\uff01"},{"location":"#godot42","text":"","title":"\u8fd9\u91cc\u662f godot42 \u7684\u4e2a\u4eba\u535a\u5ba2!\ud83d\ude0a"},{"location":"#_2","text":"","title":"\ud83d\udc49 \u9879\u76ee\u5730\u5740 "},{"location":"#github","text":"","title":"\ud83d\udc49 Github \u4e3b\u9875"},{"location":"Blog/All_Go_Rhyme/Leet%20Code%20Index/","text":"Leet Code Indexing \u00b6 9 Palindrome 282 Trie Tree \u524d\u7f00\u6811 138 \u590d\u6742\u94fe\u8868\u7684\u590d\u5236 155 \u5305\u542bmin\u51fd\u6570\u7684\u6808 866 Prime Palindrome 950 \u6309\u9012\u589e\u987a\u5e8f\u663e\u793a\u5361\u724c","title":"Leet Code Indexing"},{"location":"Blog/All_Go_Rhyme/Leet%20Code%20Index/#leet-code-indexing","text":"9 Palindrome 282 Trie Tree \u524d\u7f00\u6811 138 \u590d\u6742\u94fe\u8868\u7684\u590d\u5236 155 \u5305\u542bmin\u51fd\u6570\u7684\u6808 866 Prime Palindrome 950 \u6309\u9012\u589e\u987a\u5e8f\u663e\u793a\u5361\u724c","title":"Leet Code Indexing"},{"location":"Blog/All_Go_Rhyme/LeetCode/","text":"9. Palindrome \u00b6 C++ 1 2 3 4 5 6 7 8 9 10 11 bool isPalindrome ( int x ){ auto str = std :: to_string \uff08 x ); int l = 0 , r = size -1 ; while ( l < r ){ if ( str [ l ] == str [ r ]) { ++ l ; -- r ;} else return false ; } return true ; } C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 bool isPalindrome ( int x ) { if ( x < 0 ) return false ; long long y = x ; long long temp = 0 ; while ( y > 0 ){ temp = temp * 10 + y % 10 ; y /= 10 ; } return temp == x ? true : false ; } \u00b6 155. \u5305\u542bmin\u51fd\u6570\u7684\u6808 \u00b6 \u7528\u4e00\u4e2a\u6808\u6765\u5b58\u50a8\uff0c\u4e00\u4e2a\u6808\u6765\u8bb0\u5f55\u6700\u5c0f\u503c 138. \u590d\u6742\u94fe\u8868\u7684\u590d\u5236 \u00b6 Hash Map \u5b58\u50a8\u6bcf\u4e2a\u8282\u70b9\u5bf9\u5e94\u7684node C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Node * copyRandomList ( Node * head ) { if ( ! head ) return nullptr ; Node * it = head ; map < Node * , Node *> kv ; // \u521b\u5efa\u4e0e\u539f\u6765\u94fe\u8868\u5bf9\u5e94\u7684\u8282\u70b9 while ( it ){ kv [ it ] = new Node ( it -> val ); it = it -> next ; } // \u9644\u4e0a\u539f\u94fe\u8868\u5bf9\u5e94\u7684\u6307\u9488\u7684map\u7684\u503c it = head ; while ( it ){ kv [ it ] -> next = kv [ it -> next ]; kv [ it ] -> random = kv [ it -> random ]; it = it -> next ; } return kv [ head ]; \u62fc\u63a5\u539f\u94fe\u8868\uff0c\u4e09\u6b21\u904d\u5386 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 Node * copyRandomList ( Node * head ) { if ( ! head ) return nullptr ; Node * it = head ; // \u521b\u9020\u590d\u5236\u8282\u70b9 while ( it ){ Node * temp = it -> next ; it -> next = new Node ( it -> val ); it -> next -> next = temp ; it = it -> next -> next ; } // \u590d\u5236 random \u6307\u9488 it = head ; while ( it ){ Node * copy = it -> next ; if ( it -> random ){ copy -> random = it -> random -> next ; } it = copy -> next ; } // \u62fc\u63a5\u590d\u539f\u4e24\u4e2a\u94fe\u8868 it = head ; Node * ret = head -> next ; Node * copy = ret ; while ( it -> next -> next ){ it -> next = it -> next -> next ; copy -> next = copy -> next -> next ; it = it -> next ; copy = copy -> next ; } it -> next = nullptr ; return ret ; } 282. Trie Tree (\u524d\u7f00\u6811) \u00b6 Source url : https://github.com/godotc/All-Go-Rhyme/blob/master/leetcode/208.cc \u73b0\u5728\u662f 2022/9/11 5:11 AM \u6d6a\u8d39\u4e865\u4e2a\u5c0f\u65f6\uff0c\u60f3\u4e86\u4e00\u5806\u903b\u8f91\u6765\u5224\u5b9a\u8fd4\u56de\u503c (startWith()), \u7ed3\u679c\u53ea\u9700\u8981 return true \u5c31\u884c\u4e86 \u6211\u662f\u4e0d\u662f\u5f00\u59cb\u8001\u5e74\u75f4\u5446\u4e86\uff1f \u6216\u8005\u8bf4\uff0c\u8fd9\u5c31\u5e94\u8be5\u662f\u6211\u672c\u6765\u7684\u6c34\u5e73? 412. Fizz Buzz \u00b6 \u8f6c\u5b57\u7b26\u4e32 828. \u7edf\u8ba1\u5b57\u4e32\u4e2d\u7684\u552f\u4e00\u5b57\u7b26 \u00b6 Timeout method C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 - old int countUniqueChars ( string & s ){ int ret = 0 ; vector < int > chars ( 128 , 0 ); for ( char i : s ){ chars [ i ] += 1 ; } for ( int i : chars ){ if ( i == 1 ) ret += 1 ; } return ret ; } - in dp int countUniqueChars ( string & s ){ int ret = 0 ; vector < int > close ( 128 , -1 ); vector < int > secondClose ( 128 , -1 ); for ( int i = 0 ; i < s . size (); ++ i ){ char ch = s [ i ]; if ( close [ ch ] == -1 ){ ++ ret ; close [ ch ] == i ; } else { if ( secondClose [ ch ] == -1 ){ -- ret ; secondClose [ ch ] = close [ ch ]; close [ ch ] = i ; } } } } void generateAllSubStrs ( string & s , int idx , vector < string >& substrs ){ for ( int i = s . size (); i > idx ; -- i ) { substrs . push_back ( s . substr ( idx , i - idx )); } } int uniqueLetterString ( string s ) { int n = s . size (); vector < string > substrs ; for ( int i = 0 ; i < n ; ++ i ){ generateAllSubStrs ( s , i , substrs ); } int ret = 0 ; for ( auto s : substrs ){ ret += countUniqueChars ( s ); } return ret ; } Dynamic Plan C++ 1 866. Prime Palindrome \u00b6 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // Origin ver. timeout... int primePalindrome ( int n ) { if ( n == 1 ) return 2 ; int origin = n ; while ( 1 ) { int i = 2 ; for (; i <= n ; ++ i ){ if ( n % i == 0 ){ break ; } } if ( i >= origin ){ if ( isPalindrome ( i )) return n ; } n ++ ; } return n ; } - [ ] TODO: update is_prime algoritme 950. \u6309\u9012\u589e\u987a\u5e8f\u663e\u793a\u5361\u724c \u00b6 \u601d\u8def\uff1a\u5c06\u67e5\u770b\u724c\u7684\u64cd\u4f5c\u5012\u8fc7\u6765\uff0c\u6211\u4eec\u6bcf\u6b21\u653e\u5165\u5361\u7247\u7684\u65f6\u5019\uff0c\u5148\u5c06\u5e95\u90e8\u7684\u5361\u7247\u653e\u5230\u9876\u4e0a\u6765 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 vector < int > deckRevealedIncreasing ( vector < int >& deck ) { sort ( deck . begin (), deck . end (), greater < int > ()); deque < int > deq ; int n = deck . size (); for ( int i = 0 ; i < n ; ++ i ) { if ( ! deq . empty ()){ deq . push_front ( deq . back ()); deq . pop_back (); } deq . push_front ( deck [ i ]); } return vector < int > ( deq . begin (), deq . end ()); } offer 12 dfs \u00b6 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 #include <iostream> #include <vector> using namespace std ; class Solution { public : int m , n ; int len ; bool dfs ( int x , int y , vector < vector < char >> & board , int idx , string & word , vector < vector < bool >> & visited ) { if ( idx == len ) return true ; for ( int i = -1 ; i <= 1 ; ++ i ) { if ( x + i < 0 || x + i >= m ) continue ; for ( int j = -1 ; j <= 1 ; ++ j ) { if ( i == 0 && j == 0 ) continue ; // \u672c\u8eab if ( i == j || i == -1 ) continue ; //\u56db\u89d2 if ( y + j < 0 || y + j >= n ) continue ; // \u8d8a\u754c if ( visited [ x + i ][ y + j ]) continue ; // \u524d\u7f6e\u8282\u70b9 if ( board [ x + i ][ y + j ] == word [ idx ]) { visited [ x + i ][ y + j ] = true ; int ret = dfs ( x + i , y + j , board , idx + 1 , word , visited ); if ( ret ) return true ; } } } visited [ x ][ y ] = false ; return false ; } bool exist ( vector < vector < char >> & board , string word ) { m = board . size (); n = board [ 0 ]. size (); len = word . size (); vector < vector < bool >> visited ( m , { vector < bool > ( n , false )}); char ch = word [ 0 ]; for ( int i = 0 ; i < m ; ++ i ) { for ( int j = 0 ; j < n ; ++ j ) { if ( board [ i ][ j ] == ch ) { visited [ i ][ j ] = true ; bool ret = dfs ( i , j , board , 1 , word , visited ); if ( ret ) return true ; } } } return false ; } }; int main () { vector < vector < char >> test = { { 'A' , 'B' , 'C' , 'E' }, { 'S' , 'F' , 'C' , 'S' }, { 'A' , 'D' , 'E' , 'E' }}; string word = \"ABCCED\" ; Solution s ; cout << s . exist ( test , word );","title":"LeetCode"},{"location":"Blog/All_Go_Rhyme/LeetCode/#9-palindrome","text":"C++ 1 2 3 4 5 6 7 8 9 10 11 bool isPalindrome ( int x ){ auto str = std :: to_string \uff08 x ); int l = 0 , r = size -1 ; while ( l < r ){ if ( str [ l ] == str [ r ]) { ++ l ; -- r ;} else return false ; } return true ; }","title":"9. Palindrome"},{"location":"Blog/All_Go_Rhyme/LeetCode/#c-1-2-3-4-5-6-7-8-9-10-11-12-13-bool-ispalindromeint-x-ifx0-return-false-long-long-y-x-long-long-temp-0-whiley0-temptemp10y10-y10-return-tempxtruefalse","text":"","title":"C++ 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13    bool isPalindrome(int x) {\n\n       if(x&lt;0) return false;\n        long long  y =x;\n        long long  temp = 0;\n       while(y&gt;0){\n           temp=temp*10+y%10;\n           y/=10;\n       }\n\n\n      return temp==x?true:false;\n    }\n"},{"location":"Blog/All_Go_Rhyme/LeetCode/#155-min","text":"\u7528\u4e00\u4e2a\u6808\u6765\u5b58\u50a8\uff0c\u4e00\u4e2a\u6808\u6765\u8bb0\u5f55\u6700\u5c0f\u503c","title":"155. \u5305\u542bmin\u51fd\u6570\u7684\u6808"},{"location":"Blog/All_Go_Rhyme/LeetCode/#138","text":"Hash Map \u5b58\u50a8\u6bcf\u4e2a\u8282\u70b9\u5bf9\u5e94\u7684node C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Node * copyRandomList ( Node * head ) { if ( ! head ) return nullptr ; Node * it = head ; map < Node * , Node *> kv ; // \u521b\u5efa\u4e0e\u539f\u6765\u94fe\u8868\u5bf9\u5e94\u7684\u8282\u70b9 while ( it ){ kv [ it ] = new Node ( it -> val ); it = it -> next ; } // \u9644\u4e0a\u539f\u94fe\u8868\u5bf9\u5e94\u7684\u6307\u9488\u7684map\u7684\u503c it = head ; while ( it ){ kv [ it ] -> next = kv [ it -> next ]; kv [ it ] -> random = kv [ it -> random ]; it = it -> next ; } return kv [ head ]; \u62fc\u63a5\u539f\u94fe\u8868\uff0c\u4e09\u6b21\u904d\u5386 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 Node * copyRandomList ( Node * head ) { if ( ! head ) return nullptr ; Node * it = head ; // \u521b\u9020\u590d\u5236\u8282\u70b9 while ( it ){ Node * temp = it -> next ; it -> next = new Node ( it -> val ); it -> next -> next = temp ; it = it -> next -> next ; } // \u590d\u5236 random \u6307\u9488 it = head ; while ( it ){ Node * copy = it -> next ; if ( it -> random ){ copy -> random = it -> random -> next ; } it = copy -> next ; } // \u62fc\u63a5\u590d\u539f\u4e24\u4e2a\u94fe\u8868 it = head ; Node * ret = head -> next ; Node * copy = ret ; while ( it -> next -> next ){ it -> next = it -> next -> next ; copy -> next = copy -> next -> next ; it = it -> next ; copy = copy -> next ; } it -> next = nullptr ; return ret ; }","title":"138. \u590d\u6742\u94fe\u8868\u7684\u590d\u5236"},{"location":"Blog/All_Go_Rhyme/LeetCode/#282-trie-tree","text":"Source url : https://github.com/godotc/All-Go-Rhyme/blob/master/leetcode/208.cc \u73b0\u5728\u662f 2022/9/11 5:11 AM \u6d6a\u8d39\u4e865\u4e2a\u5c0f\u65f6\uff0c\u60f3\u4e86\u4e00\u5806\u903b\u8f91\u6765\u5224\u5b9a\u8fd4\u56de\u503c (startWith()), \u7ed3\u679c\u53ea\u9700\u8981 return true \u5c31\u884c\u4e86 \u6211\u662f\u4e0d\u662f\u5f00\u59cb\u8001\u5e74\u75f4\u5446\u4e86\uff1f \u6216\u8005\u8bf4\uff0c\u8fd9\u5c31\u5e94\u8be5\u662f\u6211\u672c\u6765\u7684\u6c34\u5e73?","title":"282. Trie Tree (\u524d\u7f00\u6811)"},{"location":"Blog/All_Go_Rhyme/LeetCode/#412-fizz-buzz","text":"\u8f6c\u5b57\u7b26\u4e32","title":"412. Fizz Buzz"},{"location":"Blog/All_Go_Rhyme/LeetCode/#828","text":"Timeout method C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 - old int countUniqueChars ( string & s ){ int ret = 0 ; vector < int > chars ( 128 , 0 ); for ( char i : s ){ chars [ i ] += 1 ; } for ( int i : chars ){ if ( i == 1 ) ret += 1 ; } return ret ; } - in dp int countUniqueChars ( string & s ){ int ret = 0 ; vector < int > close ( 128 , -1 ); vector < int > secondClose ( 128 , -1 ); for ( int i = 0 ; i < s . size (); ++ i ){ char ch = s [ i ]; if ( close [ ch ] == -1 ){ ++ ret ; close [ ch ] == i ; } else { if ( secondClose [ ch ] == -1 ){ -- ret ; secondClose [ ch ] = close [ ch ]; close [ ch ] = i ; } } } } void generateAllSubStrs ( string & s , int idx , vector < string >& substrs ){ for ( int i = s . size (); i > idx ; -- i ) { substrs . push_back ( s . substr ( idx , i - idx )); } } int uniqueLetterString ( string s ) { int n = s . size (); vector < string > substrs ; for ( int i = 0 ; i < n ; ++ i ){ generateAllSubStrs ( s , i , substrs ); } int ret = 0 ; for ( auto s : substrs ){ ret += countUniqueChars ( s ); } return ret ; } Dynamic Plan C++ 1","title":"828. \u7edf\u8ba1\u5b57\u4e32\u4e2d\u7684\u552f\u4e00\u5b57\u7b26"},{"location":"Blog/All_Go_Rhyme/LeetCode/#866-prime-palindrome","text":"C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 // Origin ver. timeout... int primePalindrome ( int n ) { if ( n == 1 ) return 2 ; int origin = n ; while ( 1 ) { int i = 2 ; for (; i <= n ; ++ i ){ if ( n % i == 0 ){ break ; } } if ( i >= origin ){ if ( isPalindrome ( i )) return n ; } n ++ ; } return n ; } - [ ] TODO: update is_prime algoritme","title":"866. Prime Palindrome"},{"location":"Blog/All_Go_Rhyme/LeetCode/#950","text":"\u601d\u8def\uff1a\u5c06\u67e5\u770b\u724c\u7684\u64cd\u4f5c\u5012\u8fc7\u6765\uff0c\u6211\u4eec\u6bcf\u6b21\u653e\u5165\u5361\u7247\u7684\u65f6\u5019\uff0c\u5148\u5c06\u5e95\u90e8\u7684\u5361\u7247\u653e\u5230\u9876\u4e0a\u6765 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 vector < int > deckRevealedIncreasing ( vector < int >& deck ) { sort ( deck . begin (), deck . end (), greater < int > ()); deque < int > deq ; int n = deck . size (); for ( int i = 0 ; i < n ; ++ i ) { if ( ! deq . empty ()){ deq . push_front ( deq . back ()); deq . pop_back (); } deq . push_front ( deck [ i ]); } return vector < int > ( deq . begin (), deq . end ()); }","title":"950. \u6309\u9012\u589e\u987a\u5e8f\u663e\u793a\u5361\u724c"},{"location":"Blog/All_Go_Rhyme/LeetCode/#offer-12-dfs","text":"C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 #include <iostream> #include <vector> using namespace std ; class Solution { public : int m , n ; int len ; bool dfs ( int x , int y , vector < vector < char >> & board , int idx , string & word , vector < vector < bool >> & visited ) { if ( idx == len ) return true ; for ( int i = -1 ; i <= 1 ; ++ i ) { if ( x + i < 0 || x + i >= m ) continue ; for ( int j = -1 ; j <= 1 ; ++ j ) { if ( i == 0 && j == 0 ) continue ; // \u672c\u8eab if ( i == j || i == -1 ) continue ; //\u56db\u89d2 if ( y + j < 0 || y + j >= n ) continue ; // \u8d8a\u754c if ( visited [ x + i ][ y + j ]) continue ; // \u524d\u7f6e\u8282\u70b9 if ( board [ x + i ][ y + j ] == word [ idx ]) { visited [ x + i ][ y + j ] = true ; int ret = dfs ( x + i , y + j , board , idx + 1 , word , visited ); if ( ret ) return true ; } } } visited [ x ][ y ] = false ; return false ; } bool exist ( vector < vector < char >> & board , string word ) { m = board . size (); n = board [ 0 ]. size (); len = word . size (); vector < vector < bool >> visited ( m , { vector < bool > ( n , false )}); char ch = word [ 0 ]; for ( int i = 0 ; i < m ; ++ i ) { for ( int j = 0 ; j < n ; ++ j ) { if ( board [ i ][ j ] == ch ) { visited [ i ][ j ] = true ; bool ret = dfs ( i , j , board , 1 , word , visited ); if ( ret ) return true ; } } } return false ; } }; int main () { vector < vector < char >> test = { { 'A' , 'B' , 'C' , 'E' }, { 'S' , 'F' , 'C' , 'S' }, { 'A' , 'D' , 'E' , 'E' }}; string word = \"ABCCED\" ; Solution s ; cout << s . exist ( test , word );","title":"offer 12 dfs"},{"location":"Blog/All_Go_Rhyme/NowCoder/","text":"BM29 \u4e8c\u53c9\u6811\u4e2d\u548c\u4e3a\u67d0\u4e00\u503c\u7684\u8def\u5f84 \u00b6 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 bool assertSum ( TreeNode * node , int temp , int sum ) { if ( ! node ){ return false ; } temp += node -> val ; if ( temp == sum ){ if ( ! node -> left &&! node -> right ) return true ; } // key or operator return assertSum ( node -> left , temp , sum ) || assertSum ( node -> right , temp , sum ); } bool hasPathSum ( TreeNode * root , int sum ) { // write code here int temp = 0 ; return assertSum ( root , temp , sum ); }","title":"NowCoder"},{"location":"Blog/All_Go_Rhyme/NowCoder/#bm29","text":"C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 bool assertSum ( TreeNode * node , int temp , int sum ) { if ( ! node ){ return false ; } temp += node -> val ; if ( temp == sum ){ if ( ! node -> left &&! node -> right ) return true ; } // key or operator return assertSum ( node -> left , temp , sum ) || assertSum ( node -> right , temp , sum ); } bool hasPathSum ( TreeNode * root , int sum ) { // write code here int temp = 0 ; return assertSum ( root , temp , sum ); }","title":"BM29 \u4e8c\u53c9\u6811\u4e2d\u548c\u4e3a\u67d0\u4e00\u503c\u7684\u8def\u5f84"},{"location":"Blog/C_Cpp/Lock/","text":"Lock \u00b6 lock_guard \u548c unique_lock \u7684\u533a\u522b \u00b6 lock_guard \u5728 \u6784\u9020 lock_guard\u5bf9\u8c61\u65f6 \u5c31\u8fdb\u884c\u4e86\u52a0\u9501\uff0c\u76f4\u5230\u751f\u547d\u5468\u671f\u7ed3\u675f( return \u6216\u51fa {} ) \u65e0\u6cd5\u624b\u52a8\u89e3\u9501 C++ 1 2 3 4 5 6 std :: mutex mtx ; void func ( int idx ){ std :: lock_guard < mutex > lock ( mtx ); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; } unique_lock \u53ef\u4ee5\u81ea\u5df1\u7075\u6d3b\u7684\u52a0\u9501\u89e3\u9501 defer_lock \u4e3a\u8be5\u7c7b\u7684\u4e00\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u5ef6\u8fdf\u52a0\u9501 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 std :: mutex mtx ; void func ( int idx ){ std :: unique_lock lock ( mtx , std :: defer_lock ); /* \u5148\u8fdb\u884c\u4e00\u4e9b\u7ebf\u7a0b\u5b89\u5168\u7684\u64cd\u4f5c */ lock . lock (); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; lock . unlock (); /* \u518d\u6b21\u8fdb\u884c\u4e00\u4e9b\u7ebf\u7a0b\u5b89\u5168\u7684\u64cd\u4f5c */ lock . lock (); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; // \u5728\u51fa\u5b9a\u4e49\u57df\u540e\u81ea\u52a8\u91ca\u653e\u9501 } \u4e00\u4e2a unique_lock \u53ef\u4ee5\u548c\u53e6\u4e00\u4e2a swap() \u4e00\u4e2a unique_lock \u88ab = \u8d4b\u503c, \u53f3\u8fb9\u4e3a\u53e6\u4e00\u4e2au_lock, \u6e90\u7801: C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 void swap ( unique_lock & _Other ) _NOEXCEPT { // swap with _Other _STD swap ( _Pmtx , _Other . _Pmtx ); _STD swap ( _Owns , _Other . _Owns ); } unique_lock & operator = ( unique_lock && _Other ) _NOEXCEPT { // destructive copy if ( this != & _Other ) { // different, move contents if ( _Owns ) _Pmtx -> unlock (); _Pmtx = _Other . _Pmtx ; _Owns = _Other . _Owns ; _Other . _Pmtx = 0 ; _Other . _Owns = false ; } return ( * this ); }","title":"Lock"},{"location":"Blog/C_Cpp/Lock/#lock","text":"","title":"Lock"},{"location":"Blog/C_Cpp/Lock/#lock_guard-unique_lock","text":"lock_guard \u5728 \u6784\u9020 lock_guard\u5bf9\u8c61\u65f6 \u5c31\u8fdb\u884c\u4e86\u52a0\u9501\uff0c\u76f4\u5230\u751f\u547d\u5468\u671f\u7ed3\u675f( return \u6216\u51fa {} ) \u65e0\u6cd5\u624b\u52a8\u89e3\u9501 C++ 1 2 3 4 5 6 std :: mutex mtx ; void func ( int idx ){ std :: lock_guard < mutex > lock ( mtx ); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; } unique_lock \u53ef\u4ee5\u81ea\u5df1\u7075\u6d3b\u7684\u52a0\u9501\u89e3\u9501 defer_lock \u4e3a\u8be5\u7c7b\u7684\u4e00\u4e2a\u53c2\u6570\uff0c\u7528\u4e8e\u5ef6\u8fdf\u52a0\u9501 C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 std :: mutex mtx ; void func ( int idx ){ std :: unique_lock lock ( mtx , std :: defer_lock ); /* \u5148\u8fdb\u884c\u4e00\u4e9b\u7ebf\u7a0b\u5b89\u5168\u7684\u64cd\u4f5c */ lock . lock (); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; lock . unlock (); /* \u518d\u6b21\u8fdb\u884c\u4e00\u4e9b\u7ebf\u7a0b\u5b89\u5168\u7684\u64cd\u4f5c */ lock . lock (); cout << std :: this_thread :: get_id () << \" \" << idx << endl ; // \u5728\u51fa\u5b9a\u4e49\u57df\u540e\u81ea\u52a8\u91ca\u653e\u9501 } \u4e00\u4e2a unique_lock \u53ef\u4ee5\u548c\u53e6\u4e00\u4e2a swap() \u4e00\u4e2a unique_lock \u88ab = \u8d4b\u503c, \u53f3\u8fb9\u4e3a\u53e6\u4e00\u4e2au_lock, \u6e90\u7801: C++ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 void swap ( unique_lock & _Other ) _NOEXCEPT { // swap with _Other _STD swap ( _Pmtx , _Other . _Pmtx ); _STD swap ( _Owns , _Other . _Owns ); } unique_lock & operator = ( unique_lock && _Other ) _NOEXCEPT { // destructive copy if ( this != & _Other ) { // different, move contents if ( _Owns ) _Pmtx -> unlock (); _Pmtx = _Other . _Pmtx ; _Owns = _Other . _Owns ; _Other . _Pmtx = 0 ; _Other . _Owns = false ; } return ( * this ); }","title":"lock_guard \u548c unique_lock \u7684\u533a\u522b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/","text":"\u591a\u8fdb\u7a0b\u4e0e\u591a\u7ebf\u7a0b \u00b6 \u591a\u8fdb\u7a0b \u00b6 1. Context \u4e0a\u4e0b\u6587 \u5207\u6362\u5f00\u9500 \u00b6 \u9875\u8868\u76ee\u5f55\u9879\u66f4\u65b0 \u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e \u5207\u6362 kernel status stack \uff08\u5185\u6838\u6001\u6808\uff09 Flush TLB L1 ~ L3 \u7684 cache indirectly expired (disabled). Directly access memory. 2. \u8fdb\u7a0b\u7684\u5171\u4eab\u7a7a\u95f4 \u00b6 \u8fdb\u7a0b\u4e0d\u5171\u4eab\u6808\u7a7a\u95f4\uff0c \u6bcf\u4e2a Process \u90fd\u6709 independent virtual address space (\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4) \u5171\u4eab\u5185\u5b58 3. \u8fdb\u7a0b\u7684\u4e09\u79cd\u72b6\u6001: \u00b6 \u5c31\u7eea Ready \u8fd0\u884c Running \u963b\u585e Blocking 4. IPC (Internal Process Contact) \u8fdb\u7a0b\u95f4\u901a\u4fe1 \u00b6 pipe , fifo \u7ba1\u9053 Memory Share Message Queue Signal (\u5f00\u9500\u5c0f\uff0c\u4f46\u4f20\u9012\u7684\u4fe1\u606f\u7b80\u5355) Semaphore \uff08\u4fe1\u53f7\u91cf\uff09 Socket \uff08\u5e38\u7528\uff09 5. \u50f5\u5c38\u8fdb\u7a0b \u00b6 \u5b50\u8fdb\u7a0b\u5148\u7ed3\u675f\uff0c\u7236\u8fdb\u7a0b\u6ca1\u6709\u56de\u6536\u6389\u5b50\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u663e\u793a\u4e3a zoobie Process 6. \u5b64\u513f\u8fdb\u7a0b \u00b6 \u7236\u8fdb\u7a0b\u5148\u7ed3\u675f\uff0c\u5b50\u8fdb\u7a0b\u4ecd\u7136\u5b58\u6d3b\uff0c \u5c06\u7531\u7cfb\u7edf\u7684 init \u8fdb\u7a0b\u8d1f\u8d23\u56de\u6536\u76f8\u5173\u8d44\u6e90 \u591a\u7ebf\u7a0b \u00b6 1. \u7ebf\u7a0b\u95f4\u540c\u6b65 \u00b6 \u4e92\u65a5\u9501 \u8bfb\u5199\u9501 \u6761\u4ef6\u53d8\u91cf condition_variable \u4fe1\u53f7\u91cf \u81ea\u65cb\u9501\uff08avoid \u8fdb\u7a0b\u6216\u7ebf\u7a0b\u7684 context \u5207\u6362\u5f00\u9500) 2. \u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90 \u00b6 \u6587\u4ef6\u63cf\u8ff0\u7b26 ( fd \u5185\u6838\u7ba1\u7406) PID \u548c PGID \u540c\u8fdb\u7a0b\u7684\u5185\u5b58\u5730\u5740\u7a7a\u95f4\uff1a .text \u4ee3\u7801\u6bb5 .data \u6570\u636e\u6bb5 .bss \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5 \u5806\u533a \u5168\u5c40\u53d8\u91cf \u9759\u6001\u53d8\u91cf \u6bcf\u79cd\u4fe1\u53f7\u7684 handler (\u5904\u7406\u65b9\u5f0f) \u8fdb\u7a0b\u7684\u5f53\u524d\u76ee\u5f55 cwd 3. \u7ebf\u7a0b\u72ec\u4eab\u7684\u8d44\u6e90 \u00b6 \u7ebf\u7a0b\u7684 stack \u5bc4\u5b58\u5668\u7684\u503c \u7ebf\u7a0bID TID \u9519\u8bef\u8fd4\u56de\u7684 errno \u53d8\u91cf \u7ebf\u7a0b\u4fe1\u53f7\u5c4f\u853d\u5b57 \u7ebf\u7a0b\u4f18\u5148\u7ea7","title":"\u591a\u7ebf\u7a0b/\u8fdb\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#_1","text":"","title":"\u591a\u8fdb\u7a0b\u4e0e\u591a\u7ebf\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#_2","text":"","title":"\u591a\u8fdb\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#1-context","text":"\u9875\u8868\u76ee\u5f55\u9879\u66f4\u65b0 \u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e \u5207\u6362 kernel status stack \uff08\u5185\u6838\u6001\u6808\uff09 Flush TLB L1 ~ L3 \u7684 cache indirectly expired (disabled). Directly access memory.","title":"1. Context \u4e0a\u4e0b\u6587 \u5207\u6362\u5f00\u9500"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#2","text":"\u8fdb\u7a0b\u4e0d\u5171\u4eab\u6808\u7a7a\u95f4\uff0c \u6bcf\u4e2a Process \u90fd\u6709 independent virtual address space (\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4) \u5171\u4eab\u5185\u5b58","title":"2. \u8fdb\u7a0b\u7684\u5171\u4eab\u7a7a\u95f4"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#3","text":"\u5c31\u7eea Ready \u8fd0\u884c Running \u963b\u585e Blocking","title":"3. \u8fdb\u7a0b\u7684\u4e09\u79cd\u72b6\u6001:"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#4-ipc-internal-process-contact","text":"pipe , fifo \u7ba1\u9053 Memory Share Message Queue Signal (\u5f00\u9500\u5c0f\uff0c\u4f46\u4f20\u9012\u7684\u4fe1\u606f\u7b80\u5355) Semaphore \uff08\u4fe1\u53f7\u91cf\uff09 Socket \uff08\u5e38\u7528\uff09","title":"4. IPC (Internal Process Contact) \u8fdb\u7a0b\u95f4\u901a\u4fe1"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#5","text":"\u5b50\u8fdb\u7a0b\u5148\u7ed3\u675f\uff0c\u7236\u8fdb\u7a0b\u6ca1\u6709\u56de\u6536\u6389\u5b50\u8fdb\u7a0b\u7684\u8d44\u6e90\uff0c\u663e\u793a\u4e3a zoobie Process","title":"5.  \u50f5\u5c38\u8fdb\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#6","text":"\u7236\u8fdb\u7a0b\u5148\u7ed3\u675f\uff0c\u5b50\u8fdb\u7a0b\u4ecd\u7136\u5b58\u6d3b\uff0c \u5c06\u7531\u7cfb\u7edf\u7684 init \u8fdb\u7a0b\u8d1f\u8d23\u56de\u6536\u76f8\u5173\u8d44\u6e90","title":"6. \u5b64\u513f\u8fdb\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#_3","text":"","title":"\u591a\u7ebf\u7a0b"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#1","text":"\u4e92\u65a5\u9501 \u8bfb\u5199\u9501 \u6761\u4ef6\u53d8\u91cf condition_variable \u4fe1\u53f7\u91cf \u81ea\u65cb\u9501\uff08avoid \u8fdb\u7a0b\u6216\u7ebf\u7a0b\u7684 context \u5207\u6362\u5f00\u9500)","title":"1. \u7ebf\u7a0b\u95f4\u540c\u6b65"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#2_1","text":"\u6587\u4ef6\u63cf\u8ff0\u7b26 ( fd \u5185\u6838\u7ba1\u7406) PID \u548c PGID \u540c\u8fdb\u7a0b\u7684\u5185\u5b58\u5730\u5740\u7a7a\u95f4\uff1a .text \u4ee3\u7801\u6bb5 .data \u6570\u636e\u6bb5 .bss \u672a\u521d\u59cb\u5316\u6570\u636e\u6bb5 \u5806\u533a \u5168\u5c40\u53d8\u91cf \u9759\u6001\u53d8\u91cf \u6bcf\u79cd\u4fe1\u53f7\u7684 handler (\u5904\u7406\u65b9\u5f0f) \u8fdb\u7a0b\u7684\u5f53\u524d\u76ee\u5f55 cwd","title":"2. \u7ebf\u7a0b\u5171\u4eab\u7684\u8d44\u6e90"},{"location":"Blog/C_Cpp/MultiProcess_MultiThread/#3_1","text":"\u7ebf\u7a0b\u7684 stack \u5bc4\u5b58\u5668\u7684\u503c \u7ebf\u7a0bID TID \u9519\u8bef\u8fd4\u56de\u7684 errno \u53d8\u91cf \u7ebf\u7a0b\u4fe1\u53f7\u5c4f\u853d\u5b57 \u7ebf\u7a0b\u4f18\u5148\u7ea7","title":"3. \u7ebf\u7a0b\u72ec\u4eab\u7684\u8d44\u6e90"},{"location":"Blog/C_Cpp/STD_IO/","text":"STD_IO \u76f8\u5173 \u00b6 1. cout \u56fa\u5b9a\u5c0f\u6570\u4f4d\u6570 \u00b6 C++ 1 2 3 4 5 6 #include <iostream> #include <iomanip> std :: cout << std :: fixed << std :: setprecision ( 5 ) << number << std :: endl ; - if no std :: fixed - output will be scientific notation format . C 1 2 #include <stdio.h> printf ( \"%.5lf\" , number ); 2. \u91cd\u8f7d\u64cd\u4f5c\u7b26 << \u00b6 Overload << can't be a member function, Because It's a Linked-Like coding (\u94fe\u5f0f\u7f16\u7a0b). It will always return std::ostream& Use friend function define in class. Also can declare it outside as global function, Use class's print function to access private members. Use transition-timing-function (\u8fc7\u6e21\u51fd\u6570): C++ 1 2 3 4 5 6 7 8 9 10 11 class Test { std :: ostream & Output ( std :: ostream & out ){ return out << \"data: \" << data ; } Test data ; } std :: ostream & operator << ( std :: ostream & out , Test & test ){ return test . Output ( out ); } 3. \u683c\u5f0f\u5316\u5b57\u7b26\u4e32 \u00b6 \u5f53\u4f20\u5165\u7684\u662f\u4e00\u4e2a format,.... \u53ef\u53d8\u53c2\u65f6\uff0c\u9700\u8981\u7528 va_list \u6765\u63a5\u4f4f\u53c2\u6570 C++ 1 2 3 4 va_list arg_ptr ; va_start ( arg_ptr , format ); int size = vsnprintf ( NULL , 0 , format , arg_ptr ); va_end ( arg_ptr ); \u6ce8\u610f \uff1a \u5728\u7528 vsnprintf \u83b7\u53d6\u957f\u5ea6\u540e\uff0c\u5148 va_end(arg_ptr) , \u7136\u540e\u9700\u8981\u518d\u6b21\u4f7f\u7528\u4e00\u8f6e va_... \u51fd\u6570\u6765\u83b7\u53d6\u53ef\u53d8\u53c2\u6570 \u5426\u5219\u4f1a\u4ea7\u751f\u4e71\u7801 \u5728\u8f93\u51fa\u5230\u67d0\u4e2a\u7f13\u51b2\u533a\u4e2d\u9700\u8981\u4f7f\u7528 vnsprintf \u51fd\u6570\uff0c\u5426\u5219\u6253\u5370\u51fa\u4e0d\u53c2\u6570 C++ 1 2 3 4 5 6 vsprintf ( buf , size + 1 , format , arg_ptr ); // \u9519\u8bef\uff0c\u65e0\u6cd5\u663e\u793a\u53c2\u6570 va_list arg_ptr ; va_start ( arg_ptr , format ); vnsprintf ( buf , size + 1 , format , arg_ptr ); va_end ( arg_ptr );","title":"STD-IO"},{"location":"Blog/C_Cpp/STD_IO/#std_io","text":"","title":"STD_IO \u76f8\u5173"},{"location":"Blog/C_Cpp/STD_IO/#1-cout","text":"C++ 1 2 3 4 5 6 #include <iostream> #include <iomanip> std :: cout << std :: fixed << std :: setprecision ( 5 ) << number << std :: endl ; - if no std :: fixed - output will be scientific notation format . C 1 2 #include <stdio.h> printf ( \"%.5lf\" , number );","title":"1. cout \u56fa\u5b9a\u5c0f\u6570\u4f4d\u6570"},{"location":"Blog/C_Cpp/STD_IO/#2","text":"Overload << can't be a member function, Because It's a Linked-Like coding (\u94fe\u5f0f\u7f16\u7a0b). It will always return std::ostream& Use friend function define in class. Also can declare it outside as global function, Use class's print function to access private members. Use transition-timing-function (\u8fc7\u6e21\u51fd\u6570): C++ 1 2 3 4 5 6 7 8 9 10 11 class Test { std :: ostream & Output ( std :: ostream & out ){ return out << \"data: \" << data ; } Test data ; } std :: ostream & operator << ( std :: ostream & out , Test & test ){ return test . Output ( out ); }","title":"2. \u91cd\u8f7d\u64cd\u4f5c\u7b26 &lt;&lt;"},{"location":"Blog/C_Cpp/STD_IO/#3","text":"\u5f53\u4f20\u5165\u7684\u662f\u4e00\u4e2a format,.... \u53ef\u53d8\u53c2\u65f6\uff0c\u9700\u8981\u7528 va_list \u6765\u63a5\u4f4f\u53c2\u6570 C++ 1 2 3 4 va_list arg_ptr ; va_start ( arg_ptr , format ); int size = vsnprintf ( NULL , 0 , format , arg_ptr ); va_end ( arg_ptr ); \u6ce8\u610f \uff1a \u5728\u7528 vsnprintf \u83b7\u53d6\u957f\u5ea6\u540e\uff0c\u5148 va_end(arg_ptr) , \u7136\u540e\u9700\u8981\u518d\u6b21\u4f7f\u7528\u4e00\u8f6e va_... \u51fd\u6570\u6765\u83b7\u53d6\u53ef\u53d8\u53c2\u6570 \u5426\u5219\u4f1a\u4ea7\u751f\u4e71\u7801 \u5728\u8f93\u51fa\u5230\u67d0\u4e2a\u7f13\u51b2\u533a\u4e2d\u9700\u8981\u4f7f\u7528 vnsprintf \u51fd\u6570\uff0c\u5426\u5219\u6253\u5370\u51fa\u4e0d\u53c2\u6570 C++ 1 2 3 4 5 6 vsprintf ( buf , size + 1 , format , arg_ptr ); // \u9519\u8bef\uff0c\u65e0\u6cd5\u663e\u793a\u53c2\u6570 va_list arg_ptr ; va_start ( arg_ptr , format ); vnsprintf ( buf , size + 1 , format , arg_ptr ); va_end ( arg_ptr );","title":"3. \u683c\u5f0f\u5316\u5b57\u7b26\u4e32"},{"location":"Blog/C_Cpp/%E4%BD%8D%E6%93%8D%E4%BD%9C/","text":"Bit Operate \u00b6 struct \u548c \u4f4d\u57df\u540d(bit field) \u628a\u4f4d\u62bd\u53d6\u64cd\u4f5c\u4ea4\u7ed9\u7f16\u8bd1\u5668 union \u5c06\u6570\u636e\u89e3\u91ca\u6210\u4e0d\u540c\u7684\u7c7b\u578b \u6307\u9488 \u6309\u6307\u9488\u7c7b\u578b\u5bf9\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u89e3\u91ca switch-case \u4e8c\u8fdb\u5236\u5e38\u6570(GNU dialect) ob0101010100 \u76f4\u63a5\u6284\u53d6\u624b\u518c","title":"\u4f4d\u64cd\u4f5c"},{"location":"Blog/C_Cpp/%E4%BD%8D%E6%93%8D%E4%BD%9C/#bit-operate","text":"struct \u548c \u4f4d\u57df\u540d(bit field) \u628a\u4f4d\u62bd\u53d6\u64cd\u4f5c\u4ea4\u7ed9\u7f16\u8bd1\u5668 union \u5c06\u6570\u636e\u89e3\u91ca\u6210\u4e0d\u540c\u7684\u7c7b\u578b \u6307\u9488 \u6309\u6307\u9488\u7c7b\u578b\u5bf9\u5185\u5b58\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u89e3\u91ca switch-case \u4e8c\u8fdb\u5236\u5e38\u6570(GNU dialect) ob0101010100 \u76f4\u63a5\u6284\u53d6\u624b\u518c","title":"Bit Operate"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/","text":"KEY WORD \u00b6 explicit \u00b6 \u8981\u6c42\u663e\u793a\u6784\u9020\u7684\uff0c\u4e0d\u80fd\u9690\u5f0f\u4f20\u5165\u53c2\u6570 const \u00b6 1. \u5982\u4f55\u7406\u89e3 const int* | int *const | const int *const \u00b6 connt \u5728 * \u4e4b\u524d\u6ca1\u6709\u533a\u522b const int * \u4e0e int * const const int *const static \u00b6 \u8ba9\u53d8\u91cf\u53ea\u80fd\u5728\u5f53\u524d\u6587\u4ef6\u4f7f\u7528\uff0c\u5728\u5176\u4ed6\u6587\u4ef6 extern \u65e0\u6cd5\u5f15\u7528 C++ 1 2 3 4 5 main . cc static int val ; utils . cc extern int val ; \u7f16\u8bd1\u540eutils.cc \u4e2dval\u53d8\u91cf\u65e0\u6cd5\u67e5\u627e\u5230","title":"\u5173\u952e\u5b57"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#key-word","text":"","title":"KEY WORD"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#explicit","text":"\u8981\u6c42\u663e\u793a\u6784\u9020\u7684\uff0c\u4e0d\u80fd\u9690\u5f0f\u4f20\u5165\u53c2\u6570","title":"explicit"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#const","text":"","title":"const"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#1-const-int-int-const-const-int-const","text":"connt \u5728 * \u4e4b\u524d\u6ca1\u6709\u533a\u522b const int * \u4e0e int * const const int *const","title":"1. \u5982\u4f55\u7406\u89e3 const int* | int *const |  const int *const"},{"location":"Blog/C_Cpp/%E5%85%B3%E9%94%AE%E5%AD%97/#static","text":"\u8ba9\u53d8\u91cf\u53ea\u80fd\u5728\u5f53\u524d\u6587\u4ef6\u4f7f\u7528\uff0c\u5728\u5176\u4ed6\u6587\u4ef6 extern \u65e0\u6cd5\u5f15\u7528 C++ 1 2 3 4 5 main . cc static int val ; utils . cc extern int val ; \u7f16\u8bd1\u540eutils.cc \u4e2dval\u53d8\u91cf\u65e0\u6cd5\u67e5\u627e\u5230","title":"static"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/","text":"Function Pointer \u00b6 \u53cd\u6c47\u7f16 \u00b6 objdump \u51fd\u6570\u6307\u9488 \u00b6 \u7528 type (*name)(parameterTypes...) \u66ff\u6362 \u8c03\u7528\u65b9\u5f0f typedef \u00b6 \u5c06\u51fd\u6570\u6307\u9488\u5b9a\u4e49\u4e3a\u7c7b\u578b \u4e3a\u7ed3\u6784\u4f53\u4e3a\u4e0d\u540c\u7c7b\u578b\u547d\u540d \u5206\u522b\u662f: \u539f\u578b\uff0c\u6307\u9488\uff0c\u56fa\u5b9a\u5927\u5c0f\u6570\u7ec4 \u4fbf\u6377\u5730\u5b9a\u4e49\u56de\u8c03\u51fd\u6570 \u4e3a\u4e8b\u4ef6\u5c01\u88c5\u56de\u8c03\u51fd\u6570 \u4f7f\u7528 void * \u4e07\u80fd\u6307\u9488 \u00b6 \u63a5\u4f4f\u4efb\u610f\u51fd\u6570\u6307\u9488\u5e76\u8c03\u7528","title":"\u51fd\u6570\u6307\u9488"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#function-pointer","text":"","title":"Function Pointer"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#_1","text":"objdump","title":"\u53cd\u6c47\u7f16"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#_2","text":"\u7528 type (*name)(parameterTypes...) \u66ff\u6362 \u8c03\u7528\u65b9\u5f0f","title":"\u51fd\u6570\u6307\u9488"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#typedef","text":"\u5c06\u51fd\u6570\u6307\u9488\u5b9a\u4e49\u4e3a\u7c7b\u578b \u4e3a\u7ed3\u6784\u4f53\u4e3a\u4e0d\u540c\u7c7b\u578b\u547d\u540d \u5206\u522b\u662f: \u539f\u578b\uff0c\u6307\u9488\uff0c\u56fa\u5b9a\u5927\u5c0f\u6570\u7ec4 \u4fbf\u6377\u5730\u5b9a\u4e49\u56de\u8c03\u51fd\u6570 \u4e3a\u4e8b\u4ef6\u5c01\u88c5\u56de\u8c03\u51fd\u6570","title":"typedef"},{"location":"Blog/C_Cpp/%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/#void","text":"\u63a5\u4f4f\u4efb\u610f\u51fd\u6570\u6307\u9488\u5e76\u8c03\u7528","title":"\u4f7f\u7528 void * \u4e07\u80fd\u6307\u9488"},{"location":"Blog/C_Cpp/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/","text":"\u5b57\u7b26\u4e32\u5904\u7406 \u00b6 1. \u8f6c\u5b57\u7b26\u4e32 \u00b6 C++ 1 2 3 4 5 int a = 42 ; char * cstr = itoa ( a ); string str = string ( cstr ); string str = std :: to_string ( integer ) 2. \u5b57\u7b26\u4e32\u8f6c int \u00b6 C++ 1 2 int n = atoi ( str . c_str ()); int n = std :: stoi ( str );","title":"\u5b57\u7b26\u4e32\u5904\u7406"},{"location":"Blog/C_Cpp/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#_1","text":"","title":"\u5b57\u7b26\u4e32\u5904\u7406"},{"location":"Blog/C_Cpp/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#1","text":"C++ 1 2 3 4 5 int a = 42 ; char * cstr = itoa ( a ); string str = string ( cstr ); string str = std :: to_string ( integer )","title":"1. \u8f6c\u5b57\u7b26\u4e32"},{"location":"Blog/C_Cpp/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86/#2-int","text":"C++ 1 2 int n = atoi ( str . c_str ()); int n = std :: stoi ( str );","title":"2. \u5b57\u7b26\u4e32\u8f6c int"},{"location":"Blog/C_Cpp/%E5%AE%8F%E5%AE%9A%E4%B9%89/","text":"Macro Define \u00b6 C++ 1 2 3 4 __DATE__ __TIME__ __FILE__ __LINE__ __FUNC__ \u662f\u4e00\u4e2a\u9884\u5b9a\u4e49\u53d8\u91cf","title":"\u5b8f\u5b9a\u4e49"},{"location":"Blog/C_Cpp/%E5%AE%8F%E5%AE%9A%E4%B9%89/#macro-define","text":"C++ 1 2 3 4 __DATE__ __TIME__ __FILE__ __LINE__ __FUNC__ \u662f\u4e00\u4e2a\u9884\u5b9a\u4e49\u53d8\u91cf","title":"Macro Define"},{"location":"Blog/C_Cpp/%E6%96%87%E4%BB%B6%E6%B5%81/","text":"File Stream I/O \u00b6 std::ios::ate std::ios:trunc \u6253\u5f00\u6587\u4ef6\u540e move offset to \u6587\u4ef6\u5c3e\u90e8(at end) \u5c06\u5148\u524d\u7684\u6587\u4ef6\u79fb\u9664 std::istream::tellg Get position in input sequence Returns the position of the current character in the input stream. Internally, the function accesses the input sequence by first constructing a sentry object (with noskipws set to true ) without evaluating it. Then, if member fail returns true , the function returns -1 . Otherwise, returns rdbuf ()-> pubseekoff (0,cur,in). Finally, it destroys the sentry object before returning. C++ 1 2 3 std :: ifstream file ( filename , std :: ios :: ate | std :: ios :: binary ); ... size_t fileSize = ( size_t ) file . tellg ();","title":"\u6587\u4ef6\u6d41"},{"location":"Blog/C_Cpp/%E6%96%87%E4%BB%B6%E6%B5%81/#file-stream-io","text":"std::ios::ate std::ios:trunc \u6253\u5f00\u6587\u4ef6\u540e move offset to \u6587\u4ef6\u5c3e\u90e8(at end) \u5c06\u5148\u524d\u7684\u6587\u4ef6\u79fb\u9664 std::istream::tellg Get position in input sequence Returns the position of the current character in the input stream. Internally, the function accesses the input sequence by first constructing a sentry object (with noskipws set to true ) without evaluating it. Then, if member fail returns true , the function returns -1 . Otherwise, returns rdbuf ()-> pubseekoff (0,cur,in). Finally, it destroys the sentry object before returning. C++ 1 2 3 std :: ifstream file ( filename , std :: ios :: ate | std :: ios :: binary ); ... size_t fileSize = ( size_t ) file . tellg ();","title":"File Stream I/O"},{"location":"Blog/C_Cpp/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/","text":"auto ptr \u00b6 unique_ptr \u00b6","title":"auto ptr"},{"location":"Blog/C_Cpp/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/#auto-ptr","text":"","title":"auto ptr"},{"location":"Blog/C_Cpp/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/#unique_ptr","text":"","title":"unique_ptr"},{"location":"Blog/C_Cpp/%E6%A0%87%E5%87%86%E5%BA%93/","text":"Standard Library \u00b6 std::optional C++ 1 2 3 4 5 6 template < class T > class optional {...}; std :: optional < uint32_t > value ; value . data (); // Return contained value Contained the value that my or my not be present. \u7c7b\u578b\u8f6c\u6362 func Description reinterpret_cast<T>() \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362,\u4f46\u662f\u6ca1\u6709\u8fdb\u884c\u4e8c\u8fdb\u5236\u8f6c\u6362(\u7528\u4e8e\u6307\u9488\uff0c\u5f15\u7528\uff0c\u6307\u9488\u548c\u4f4d\u6570\u76f8\u540c\u7684int\uff0c\u6574\u6570\u5230\u6307\u9488\u4e4b\u95f4\u7684\u8f6c\u6362) static_cast<T>() \u8f6c\u6362\u7c7b\u578b\uff0c\u5728\u7f16\u8bd1\u671f\u95f4\u5f3a\u5236\u8f6c\u6362\uff0cc\u9690\u5f0f\u8f6c\u6362\u7684\u66ff\u4ee3 dynamic_cast<T>() \u8f6c\u6362\u6307\u9488\u548c\u5f15\u7528, \u4f1a\u5148\u68c0\u67e5\u6307\u9488\u6307\u5411\u7684\u7c7b\u578b\u662f\u5426\u7b26\u5408\u8f6c\u6362\u517c\u5bb9\uff0c\u4e0d\u7b26\u5408\u4f1a\u83b7\u5f97\u7a7a\u6307\u9488 const_cast<T>() \u4fee\u6539 const \u7c7b\u578b\u53d8\u91cf \u65f6\u95f4\u70b9/\u65f6\u95f4\u6bb5 std::iota \u6ce8\u610f\u533a\u5206 itoa C++ 1 2 #inclue <numeric> std :: itoa ( begin_it , end_it , start_val )","title":"\u6807\u51c6\u5e93"},{"location":"Blog/C_Cpp/%E6%A0%87%E5%87%86%E5%BA%93/#standard-library","text":"std::optional C++ 1 2 3 4 5 6 template < class T > class optional {...}; std :: optional < uint32_t > value ; value . data (); // Return contained value Contained the value that my or my not be present. \u7c7b\u578b\u8f6c\u6362 func Description reinterpret_cast<T>() \u5f3a\u5236\u7c7b\u578b\u8f6c\u6362,\u4f46\u662f\u6ca1\u6709\u8fdb\u884c\u4e8c\u8fdb\u5236\u8f6c\u6362(\u7528\u4e8e\u6307\u9488\uff0c\u5f15\u7528\uff0c\u6307\u9488\u548c\u4f4d\u6570\u76f8\u540c\u7684int\uff0c\u6574\u6570\u5230\u6307\u9488\u4e4b\u95f4\u7684\u8f6c\u6362) static_cast<T>() \u8f6c\u6362\u7c7b\u578b\uff0c\u5728\u7f16\u8bd1\u671f\u95f4\u5f3a\u5236\u8f6c\u6362\uff0cc\u9690\u5f0f\u8f6c\u6362\u7684\u66ff\u4ee3 dynamic_cast<T>() \u8f6c\u6362\u6307\u9488\u548c\u5f15\u7528, \u4f1a\u5148\u68c0\u67e5\u6307\u9488\u6307\u5411\u7684\u7c7b\u578b\u662f\u5426\u7b26\u5408\u8f6c\u6362\u517c\u5bb9\uff0c\u4e0d\u7b26\u5408\u4f1a\u83b7\u5f97\u7a7a\u6307\u9488 const_cast<T>() \u4fee\u6539 const \u7c7b\u578b\u53d8\u91cf \u65f6\u95f4\u70b9/\u65f6\u95f4\u6bb5 std::iota \u6ce8\u610f\u533a\u5206 itoa C++ 1 2 #inclue <numeric> std :: itoa ( begin_it , end_it , start_val )","title":"Standard Library"},{"location":"Blog/C_Cpp/%E6%A8%A1%E6%9D%BF/","text":"Template \u00b6","title":"Template"},{"location":"Blog/C_Cpp/%E6%A8%A1%E6%9D%BF/#template","text":"","title":"Template"},{"location":"Blog/C_Cpp/%E7%BB%A7%E6%89%BF/","text":"1. protected public private \u00b6 1. \u6743\u9650\u533a\u522b \u00b6 public protected private \u7c7b\u5185\u8bbf\u95ee \u221a \u221a \u221a \u7c7b\u5916\u8bbf\u95ee(\u5bf9\u8c61/\u5b9e\u4f8b\u8bbf\u95ee) \u221a \u00d7 \u00d7 \u5b50\u7c7b\u8bbf\u95ee \u221a \u221a \u00d7 \u53cb\u5143\u51fd\u6570\u8bbf\u95ee \u221a \u221a \u221a \u53cb\u5143\u5bf9\u8c61(class)\u8bbf\u95ee \u221a \u00d7 \u00d7 public \u4e0e protect \u7684\u4e3b\u8981\u533a\u522b: \u5b9e\u4f8b\u5316\u7684class \u5bf9\u8c61 \u65e0\u6cd5\u8bbf\u95ee protect \u6210\u5458, \u53ea\u80fd\u5728 class definition \u4e2d\u8bbf\u95ee 2. \u7ee7\u627f\u4e4b\u540e \u00b6 \u7ee7\u627f\u65b9\u5f0f public protected private public public protected \u65e0\u6cd5\u8bbf\u95ee protected protected protected \u65e0\u6cd5\u8bbf\u95ee private private private \u65e0\u6cd5\u8bbf\u95ee 3. \u8f6c\u6362 \u00b6 \u5b50\u7c7b\u53ef\u88ab\u8d4b\u503c\u7ed9\u7236\u7c7b \u7236\u7c7b\u4e0d\u53ef\u8d4b\u503c\u7ed9\u5b50\u7c7b \u7236\u7c7b\u7684\u6307\u9488\u53ef\u4ee5\u5f3a\u8f6c\u4e3a\u5b50\u7c7b\uff0c\u4f46\u662f\u524d\u63d0\u662f\u6307\u5411\u7684\u5b50\u7c7b\u533a\u57df\uff0c\u5426\u5219\u4e0d\u5b89\u5168","title":"\u7ee7\u627f"},{"location":"Blog/C_Cpp/%E7%BB%A7%E6%89%BF/#1-protected-public-private","text":"","title":"1. protected  public private"},{"location":"Blog/C_Cpp/%E7%BB%A7%E6%89%BF/#1","text":"public protected private \u7c7b\u5185\u8bbf\u95ee \u221a \u221a \u221a \u7c7b\u5916\u8bbf\u95ee(\u5bf9\u8c61/\u5b9e\u4f8b\u8bbf\u95ee) \u221a \u00d7 \u00d7 \u5b50\u7c7b\u8bbf\u95ee \u221a \u221a \u00d7 \u53cb\u5143\u51fd\u6570\u8bbf\u95ee \u221a \u221a \u221a \u53cb\u5143\u5bf9\u8c61(class)\u8bbf\u95ee \u221a \u00d7 \u00d7 public \u4e0e protect \u7684\u4e3b\u8981\u533a\u522b: \u5b9e\u4f8b\u5316\u7684class \u5bf9\u8c61 \u65e0\u6cd5\u8bbf\u95ee protect \u6210\u5458, \u53ea\u80fd\u5728 class definition \u4e2d\u8bbf\u95ee","title":"1. \u6743\u9650\u533a\u522b"},{"location":"Blog/C_Cpp/%E7%BB%A7%E6%89%BF/#2","text":"\u7ee7\u627f\u65b9\u5f0f public protected private public public protected \u65e0\u6cd5\u8bbf\u95ee protected protected protected \u65e0\u6cd5\u8bbf\u95ee private private private \u65e0\u6cd5\u8bbf\u95ee","title":"2. \u7ee7\u627f\u4e4b\u540e"},{"location":"Blog/C_Cpp/%E7%BB%A7%E6%89%BF/#3","text":"\u5b50\u7c7b\u53ef\u88ab\u8d4b\u503c\u7ed9\u7236\u7c7b \u7236\u7c7b\u4e0d\u53ef\u8d4b\u503c\u7ed9\u5b50\u7c7b \u7236\u7c7b\u7684\u6307\u9488\u53ef\u4ee5\u5f3a\u8f6c\u4e3a\u5b50\u7c7b\uff0c\u4f46\u662f\u524d\u63d0\u662f\u6307\u5411\u7684\u5b50\u7c7b\u533a\u57df\uff0c\u5426\u5219\u4e0d\u5b89\u5168","title":"3. \u8f6c\u6362"},{"location":"Blog/Golang/RPC/","text":"RPC \u00b6 3 \u4e2a\u5b9e\u4f8b\u6765\u8fdb\u884c\u8fdc\u7a0b\u8c03\u7528 Consumer getProxy(interfacename), \u83b7\u5f97\u4e00\u4e2ahandler(\u51fd\u6570\u6307\u9488\u6216\u8005proxyInstace), \u6765\u8c03\u7528\u8fdc\u7aef\u7684\u65b9\u6cd5 Consumer \u5728\u83b7\u53d6\u5230\u8fdc\u7aef\u4e3b\u673a\u540e\u672c\u5730\u91c7\u7528url\u7f13\u5b58\u52a0\u901f\u8fdb\u7a0b \u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528 zookeeper\uff0credis \u6765\u5b9e\u884c\u96c6\u7fa4\u7ba1\u7406\uff08provider\u6302\u6389\u7b49\u7b49\uff09 Provider \u5728\u672c\u5730\u6ce8\u518c\u53ef\u4ee5 remote call \u7684\u65b9\u6cd5 \u5728\u516c\u5171\u4f4d\u7f6e\u4fdd\u5b58interface \u5982\u4f55\u5b9e\u73b0\u6ce8\u518c\u4e2d\u5fc3 \u00b6 \u5171\u4eab\u4e00\u4e9b\u6570\u636e\uff08\u6ce8\u518c\u7684\u4e3b\u673a\u5730\u5740\u7b49\u7b49\uff09 \u5fc3\u8df3\u68c0\u6d4b \uff08\u96c6\u7fa4\u7ba1\u7406, \u68c0\u6d4bProvider\u662f\u5426\u5728\u7ebf\uff09 \u76d1\u542c\u673a\u5236\uff08consumer \u5982\u4f55\u5f97\u77e5 \u8fdc\u7aef\u7684\u6570\u636e\u53d8\u5316\uff09 \u975e\u963b\u585e \u00b6 C++ \u540c\u6b65\u963b\u585e\u5730\u8c03\u7528 \u5f02\u6b65\u975e\u963b\u585e\u5730\u8c03\u7528 (\u4ee5callback\u5f62\u5f0f) go \u540c\u6b65\u975e\u963b\u585e (\u534f\u7a0b) \u5b9e\u73b0\u65b9\u5f0f \u00b6 \u4e00\u5f00\u59cb\u91c7\u7528json\u4f46\u662f\u6548\u7387\u592a\u4f4e\uff0c\u5fc3\u554a\u5728\u4e00\u822c\u90fd\u662fprotobuf protobuf \u91c7\u7528\u63a5\u53e3\u63cf\u8ff0\u8bed\u8a00 IDL(interface descripted language)\u6765\u7f16\u5199 GRPC 4\u79cd\u6a21\u5f0f \u00b6 grpc \u81ea\u5e26\u7684\u56db\u79cd\u8303\u4f8b 1. \u4e00\u5143rpc - \u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94 - \u8fd4\u56de\u7684\u662fresponse\u7ed3\u6784\u4f53 \u670d\u52a1\u5668\u7aef\u6d41 \u4e00\u4e2a\u8bf7\u6c42\u591a\u4e2a\u56de\u5e94 \u8fd4\u56de\u7684\u662f stream \u6d41(\u97f3\u89c6\u9891\u56de\u5e94) \u5ba2\u6237\u7aef\u6d41 \u591a\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94 \u53d1\u9001\u7684\u662fstream\uff0c\u4f20\u9001\u8fde\u7eed\u7684\u4fe1\u606f \u8fd4\u56de\u4e00\u4e2a summary \u5bf9\u6d41\u7684\u603b\u56de\u5e94\uff08\u5982\u4f20\u6587\u4ef6\uff0c\u6587\u5b57\u6d41\uff09 \u53cc\u5411\u6d41 \u53cc\u65b9\u90fd\u662f stream \u6765\u4ea4\u6d41\u4e0e\u56de\u5e94 \u4ee5 EOF \u8ba4\u5b9a\u4e3a\u7ed3\u675f","title":"RPC"},{"location":"Blog/Golang/RPC/#rpc","text":"3 \u4e2a\u5b9e\u4f8b\u6765\u8fdb\u884c\u8fdc\u7a0b\u8c03\u7528 Consumer getProxy(interfacename), \u83b7\u5f97\u4e00\u4e2ahandler(\u51fd\u6570\u6307\u9488\u6216\u8005proxyInstace), \u6765\u8c03\u7528\u8fdc\u7aef\u7684\u65b9\u6cd5 Consumer \u5728\u83b7\u53d6\u5230\u8fdc\u7aef\u4e3b\u673a\u540e\u672c\u5730\u91c7\u7528url\u7f13\u5b58\u52a0\u901f\u8fdb\u7a0b \u6ce8\u518c\u4e2d\u5fc3\u4f7f\u7528 zookeeper\uff0credis \u6765\u5b9e\u884c\u96c6\u7fa4\u7ba1\u7406\uff08provider\u6302\u6389\u7b49\u7b49\uff09 Provider \u5728\u672c\u5730\u6ce8\u518c\u53ef\u4ee5 remote call \u7684\u65b9\u6cd5 \u5728\u516c\u5171\u4f4d\u7f6e\u4fdd\u5b58interface","title":"RPC"},{"location":"Blog/Golang/RPC/#_1","text":"\u5171\u4eab\u4e00\u4e9b\u6570\u636e\uff08\u6ce8\u518c\u7684\u4e3b\u673a\u5730\u5740\u7b49\u7b49\uff09 \u5fc3\u8df3\u68c0\u6d4b \uff08\u96c6\u7fa4\u7ba1\u7406, \u68c0\u6d4bProvider\u662f\u5426\u5728\u7ebf\uff09 \u76d1\u542c\u673a\u5236\uff08consumer \u5982\u4f55\u5f97\u77e5 \u8fdc\u7aef\u7684\u6570\u636e\u53d8\u5316\uff09","title":"\u5982\u4f55\u5b9e\u73b0\u6ce8\u518c\u4e2d\u5fc3"},{"location":"Blog/Golang/RPC/#_2","text":"C++ \u540c\u6b65\u963b\u585e\u5730\u8c03\u7528 \u5f02\u6b65\u975e\u963b\u585e\u5730\u8c03\u7528 (\u4ee5callback\u5f62\u5f0f) go \u540c\u6b65\u975e\u963b\u585e (\u534f\u7a0b)","title":"\u975e\u963b\u585e"},{"location":"Blog/Golang/RPC/#_3","text":"\u4e00\u5f00\u59cb\u91c7\u7528json\u4f46\u662f\u6548\u7387\u592a\u4f4e\uff0c\u5fc3\u554a\u5728\u4e00\u822c\u90fd\u662fprotobuf protobuf \u91c7\u7528\u63a5\u53e3\u63cf\u8ff0\u8bed\u8a00 IDL(interface descripted language)\u6765\u7f16\u5199","title":"\u5b9e\u73b0\u65b9\u5f0f"},{"location":"Blog/Golang/RPC/#grpc-4","text":"grpc \u81ea\u5e26\u7684\u56db\u79cd\u8303\u4f8b 1. \u4e00\u5143rpc - \u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94 - \u8fd4\u56de\u7684\u662fresponse\u7ed3\u6784\u4f53 \u670d\u52a1\u5668\u7aef\u6d41 \u4e00\u4e2a\u8bf7\u6c42\u591a\u4e2a\u56de\u5e94 \u8fd4\u56de\u7684\u662f stream \u6d41(\u97f3\u89c6\u9891\u56de\u5e94) \u5ba2\u6237\u7aef\u6d41 \u591a\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94 \u53d1\u9001\u7684\u662fstream\uff0c\u4f20\u9001\u8fde\u7eed\u7684\u4fe1\u606f \u8fd4\u56de\u4e00\u4e2a summary \u5bf9\u6d41\u7684\u603b\u56de\u5e94\uff08\u5982\u4f20\u6587\u4ef6\uff0c\u6587\u5b57\u6d41\uff09 \u53cc\u5411\u6d41 \u53cc\u65b9\u90fd\u662f stream \u6765\u4ea4\u6d41\u4e0e\u56de\u5e94 \u4ee5 EOF \u8ba4\u5b9a\u4e3a\u7ed3\u675f","title":"GRPC 4\u79cd\u6a21\u5f0f"},{"location":"Blog/Golang/channel/","text":"Channel \u00b6 \u7c7b\u4f3c\u4e8e\u7ba1\u9053\uff0c\u8fdb\u884c\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\uff0c \u64cd\u4f5c\u7b26\u662f <- \uff08\u6570\u636e\u6d41\u5411\uff09 Go 1 2 ch <- V // \u53d1\u9001 v \u5230 chan ch \u4e2d V := <- ch // V \u7684\u503c\u4e3a \u4ece\u7ba1\u9053\u4e2d \u63a5\u6536\u6570j\u636e \u901a\u8fc7 <- \u6307\u5b9a\u6570\u636e\u65b9\u5411\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5219\u662f\u53cc\u5411\u7684\uff0c\u65e2\u53ef\u4ee5\u63a5\u6536\u4e5f\u53ef\u4ee5\u53d1\u9001\u6570\u636e Go 1 2 3 chan T // \u53ef\u4ee5\u63a5\u6536\u4e0e\u53d1\u9001 T \u7c7b\u578b data chan <- float64 // only \u53d1\u9001 f64 \u53ea\u5199 <- chan int // only \u63a5\u6536 int \u53ea\u8bfb Go 1 ch := make ( chan int , bufsize ) // ch \u4e3a \u53ef\u4ee5send/receive int, bufzie \u53c2\u6570\u51b3\u5b9a\u7ba1\u9053\u662f\u5426\u6709\u7f13\u51b2\uff08\u5f02\u6b65\uff09","title":"channel"},{"location":"Blog/Golang/channel/#channel","text":"\u7c7b\u4f3c\u4e8e\u7ba1\u9053\uff0c\u8fdb\u884c\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\uff0c \u64cd\u4f5c\u7b26\u662f <- \uff08\u6570\u636e\u6d41\u5411\uff09 Go 1 2 ch <- V // \u53d1\u9001 v \u5230 chan ch \u4e2d V := <- ch // V \u7684\u503c\u4e3a \u4ece\u7ba1\u9053\u4e2d \u63a5\u6536\u6570j\u636e \u901a\u8fc7 <- \u6307\u5b9a\u6570\u636e\u65b9\u5411\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5219\u662f\u53cc\u5411\u7684\uff0c\u65e2\u53ef\u4ee5\u63a5\u6536\u4e5f\u53ef\u4ee5\u53d1\u9001\u6570\u636e Go 1 2 3 chan T // \u53ef\u4ee5\u63a5\u6536\u4e0e\u53d1\u9001 T \u7c7b\u578b data chan <- float64 // only \u53d1\u9001 f64 \u53ea\u5199 <- chan int // only \u63a5\u6536 int \u53ea\u8bfb Go 1 ch := make ( chan int , bufsize ) // ch \u4e3a \u53ef\u4ee5send/receive int, bufzie \u53c2\u6570\u51b3\u5b9a\u7ba1\u9053\u662f\u5426\u6709\u7f13\u51b2\uff08\u5f02\u6b65\uff09","title":"Channel"},{"location":"Blog/Golang/%E7%BB%93%E6%9E%84%E4%BD%93%26%E7%AC%A6%E5%8F%B7/","text":"\u5728Go\u8bed\u8a00\u4e2d\uff0c\u5bf9\u7ed3\u6784\u4f53\u8fdb\u884c & \u53d6\u5730\u5740\u64cd\u4f5c\u65f6\uff0c\u89c6\u4e3a\u5bf9\u8be5\u7c7b\u578b\u8fdb\u884c\u4e00\u6b21 new \u7684\u5b9e\u4f8b\u5316\u64cd\u4f5c\uff0c\u53d6\u5730\u5740\u683c\u5f0f\u5982\u4e0b\uff1a p := &T{}","title":"\u7ed3\u6784\u4f53&\u7b26\u53f7"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E5%8E%9F%E7%90%86/","text":"\u00b6 \u865a\u62df\u5316\u7684\u67b6\u6784 \u00b6 \u5de6-docker \u53f3-\uff08\u4f01\u4e1a\u7ea7\uff09vmware \u5b9e\u9645\u4e0a \u6709\u7684\u4f01\u4e1a\u5c06\u865a\u62df\u5316\u8f6f\u4ef6\u76f4\u63a5\u5b89\u88c5\u5728\u4e86\u673a\u5668\u4e0a\u6240\u4ee5\u770b\u4e0a\u53bb\u5c11\u4e86\u4e00\u5c42\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u4f7f\u7528\u7684\u4e0b\u9762\u90fd\u8fd8\u6709\u4e00\u5c42\u7cfb\u7edfOS\u5c42 docker \u662f\u7528\u8fdb\u7a0b\u95f4\u9694\u79bb \u865a\u62df\u673a\u662f\u786c\u4ef6\u9694\u79bb docker \u7684 \u524d\u540e\u7aef\u6a21\u578b Namespace\uff08\u9694\u79bb\u7ebf\u7a0b\uff09 Cgroup\uff08linux\u9650\u5236\uff09 AUFS\uff08\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff09\u7c7b\u4f3cgit\u4e0d\u540c\u7248\u672c\u7684layer Namespace \u00b6 \u5982\u4f55\u521b\u5efa process \u81ea\u5df1\u7684 namespace \u00b6 Bash 1 2 sudo unshare --fork --pid --mount-proc hash ls -l /proc/<pid>/ns #\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f","title":"\u539f\u7406"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E5%8E%9F%E7%90%86/#_1","text":"","title":""},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E5%8E%9F%E7%90%86/#_2","text":"\u5de6-docker \u53f3-\uff08\u4f01\u4e1a\u7ea7\uff09vmware \u5b9e\u9645\u4e0a \u6709\u7684\u4f01\u4e1a\u5c06\u865a\u62df\u5316\u8f6f\u4ef6\u76f4\u63a5\u5b89\u88c5\u5728\u4e86\u673a\u5668\u4e0a\u6240\u4ee5\u770b\u4e0a\u53bb\u5c11\u4e86\u4e00\u5c42\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u4f7f\u7528\u7684\u4e0b\u9762\u90fd\u8fd8\u6709\u4e00\u5c42\u7cfb\u7edfOS\u5c42 docker \u662f\u7528\u8fdb\u7a0b\u95f4\u9694\u79bb \u865a\u62df\u673a\u662f\u786c\u4ef6\u9694\u79bb docker \u7684 \u524d\u540e\u7aef\u6a21\u578b Namespace\uff08\u9694\u79bb\u7ebf\u7a0b\uff09 Cgroup\uff08linux\u9650\u5236\uff09 AUFS\uff08\u8054\u5408\u6587\u4ef6\u7cfb\u7edf\uff09\u7c7b\u4f3cgit\u4e0d\u540c\u7248\u672c\u7684layer","title":"\u865a\u62df\u5316\u7684\u67b6\u6784"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E5%8E%9F%E7%90%86/#namespace","text":"","title":"Namespace"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E5%8E%9F%E7%90%86/#process-namespace","text":"Bash 1 2 sudo unshare --fork --pid --mount-proc hash ls -l /proc/<pid>/ns #\u67e5\u770b\u8fdb\u7a0b\u4fe1\u606f","title":"\u5982\u4f55\u521b\u5efa process \u81ea\u5df1\u7684 namespace"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E9%9A%94%E7%A6%BBpid/","text":"\u5982\u4f55\u5b9e\u73b0\u9694\u79bb \u00b6 see as https://blog.51cto.com/u_11440114/3001912 Linux Namespace \u00b6 \u6302\u8f7d /proc \u00b6 /proc \u6587\u4ef6\u5939 \u662f\u4e00\u4e2a\u4f2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u4ed6\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5185\u5b58\u4e2d - mount -h mount \u547d\u4ee4\u683c\u5f0f \u00b6 Bash 1 mount -t type device dir \u5728 initrd \u4e2d\u7684\u5199\u6cd5 Bash 1 $ mount -t proc proc /proc # \u5728initrd\u4e2d\u7684\u5199\u6cd5 \u5373 proc \u5176\u5b9e\u662f\u4e00\u79cd\u6587\u4ef6\u7cfb\u7edf \u547d\u4ee4\u628a proc \u8fd9\u4e2a\u4e2a\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230 /proc \u76eek\u5f55 \u7b2c\u4e8c\u4e2aproc\u88ab\u663e\u793a\u5728mount\u7684\u8f93\u51fa\u4e2d Bash 1 'proc on /proc type proc (rw,noexec,nosuid,nodev)' \u82e5\u5199\u6210 Bash 1 2 $ mount -t proc /proc /proc '/proc on /proc type proc(...)' \u5373 \u663e\u793a\u7684\u7b2c\u4e00\u4e2a\u6807\u5fd7 \u6539\u53d8 \u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a Bash 1 $ mount -t proc none /proc \u751a\u81f3\u53ef\u4ee5\u628anone\u6362\u6210\u4efb\u610f\u5b57\u6bcd\u7684\u7ec4\u5408\uff0c\u5982\uff1a Bash 1 $ mount -t proc lkdsfadflkjlkj /proc \u4f46\u663e\u7136\u6ca1\u6709\u4eba\u4f1a\u8fd9\u4e48\u505a\u3002\u56e0\u4e3a\u8c01\u90fd\u4e0d\u5e0c\u671b\u5728\u8fd0\u884cmount\u547d\u4ee4\u65f6\u770b\u5230\u4ee4\u4eba\u4e0d\u89e3\u7684\u8f93\u51fa\uff0c\u6240\u4ee5\u8bf4\u8fd8\u662fnone\u6700\u5408\u9002","title":"\u9694\u79bb"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E9%9A%94%E7%A6%BBpid/#_1","text":"see as https://blog.51cto.com/u_11440114/3001912","title":"\u5982\u4f55\u5b9e\u73b0\u9694\u79bb"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E9%9A%94%E7%A6%BBpid/#linux-namespace","text":"","title":"Linux Namespace"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E9%9A%94%E7%A6%BBpid/#proc","text":"/proc \u6587\u4ef6\u5939 \u662f\u4e00\u4e2a\u4f2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u4ed6\u53ea\u5b58\u5728\u4e8e\u5f53\u524d\u5185\u5b58\u4e2d - mount -h","title":"\u6302\u8f7d /proc"},{"location":"Blog/Golang/%E6%89%8B%E5%86%99Docker%E7%B3%BB%E5%88%97/%E9%9A%94%E7%A6%BBpid/#mount","text":"Bash 1 mount -t type device dir \u5728 initrd \u4e2d\u7684\u5199\u6cd5 Bash 1 $ mount -t proc proc /proc # \u5728initrd\u4e2d\u7684\u5199\u6cd5 \u5373 proc \u5176\u5b9e\u662f\u4e00\u79cd\u6587\u4ef6\u7cfb\u7edf \u547d\u4ee4\u628a proc \u8fd9\u4e2a\u4e2a\u865a\u62df\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u5230 /proc \u76eek\u5f55 \u7b2c\u4e8c\u4e2aproc\u88ab\u663e\u793a\u5728mount\u7684\u8f93\u51fa\u4e2d Bash 1 'proc on /proc type proc (rw,noexec,nosuid,nodev)' \u82e5\u5199\u6210 Bash 1 2 $ mount -t proc /proc /proc '/proc on /proc type proc(...)' \u5373 \u663e\u793a\u7684\u7b2c\u4e00\u4e2a\u6807\u5fd7 \u6539\u53d8 \u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a Bash 1 $ mount -t proc none /proc \u751a\u81f3\u53ef\u4ee5\u628anone\u6362\u6210\u4efb\u610f\u5b57\u6bcd\u7684\u7ec4\u5408\uff0c\u5982\uff1a Bash 1 $ mount -t proc lkdsfadflkjlkj /proc \u4f46\u663e\u7136\u6ca1\u6709\u4eba\u4f1a\u8fd9\u4e48\u505a\u3002\u56e0\u4e3a\u8c01\u90fd\u4e0d\u5e0c\u671b\u5728\u8fd0\u884cmount\u547d\u4ee4\u65f6\u770b\u5230\u4ee4\u4eba\u4e0d\u89e3\u7684\u8f93\u51fa\uff0c\u6240\u4ee5\u8bf4\u8fd8\u662fnone\u6700\u5408\u9002","title":"mount \u547d\u4ee4\u683c\u5f0f"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/","text":"Linear Algebra \u00b6 1. Vector \u00b6 \u4e0a\u6807 1. Magnitude(length) of a vector : \\(||\\vec{a}||\\) 2. Unit vector - Magnitude 1 - Normalization: \\(\\widehat{a}=\\vec{a}/||\\vec{a}||\\) - For represent a direction. Geometrically and Algebraically Dot product and Cross product \u00b6 \\(\\vec{a}*\\vec{b}=a_x*b_x+a_y*b_y\\) Dot Product for Projection \u00b6 $$ \\begin{align} \\vec{b}_\\perp=k\\widehat{a}\\ k\\widehat{a}= cos\\theta\\ |\\vec{b}| \\ ||\\vec{b}||cos\\theta=\\frac{\\vec{a}*\\vec{b}}{||\\vec{b}||}\\ \\ k=k\\widehat{a} \\end{align} $$ \\(\\widehat{a}\\) is a normalization vector. Effect of Dot product \u00b6 Can decompose (divide) a vec to double Cross Product \u00b6 calculate z axle Effect of Cross Product \u00b6 Determine left/right \\(\\vec{a} X \\vec{b}\\) : if > 0 : b is left to a if < 0: b is right to a Determine inner/outer: 3 edges as vec, multiply 3 point to P point, is all in one side (left/right) . P point is into this rectangle . 2. Orthonormal Coordinate Frames \u00b6 3. Matrices \u00b6 Matrix-Matrix Multiplication \u00b6 properties \u00b6 multiply a vec \u00b6 Treat vec as a column matrix Transpose of a Matrix \u00b6 Identity Matrix and Inverses \u00b6","title":"Linear Algebra"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#linear-algebra","text":"","title":"Linear Algebra"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#1-vector","text":"\u4e0a\u6807 1. Magnitude(length) of a vector : \\(||\\vec{a}||\\) 2. Unit vector - Magnitude 1 - Normalization: \\(\\widehat{a}=\\vec{a}/||\\vec{a}||\\) - For represent a direction. Geometrically and Algebraically","title":"1. Vector"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#dot-product-and-cross-product","text":"\\(\\vec{a}*\\vec{b}=a_x*b_x+a_y*b_y\\)","title":"Dot product and Cross product"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#dot-product-for-projection","text":"$$ \\begin{align} \\vec{b}_\\perp=k\\widehat{a}\\ k\\widehat{a}= cos\\theta\\ |\\vec{b}| \\ ||\\vec{b}||cos\\theta=\\frac{\\vec{a}*\\vec{b}}{||\\vec{b}||}\\ \\ k=k\\widehat{a} \\end{align} $$ \\(\\widehat{a}\\) is a normalization vector.","title":"Dot Product for Projection"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#effect-of-dot-product","text":"Can decompose (divide) a vec to double","title":"Effect of Dot product"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#cross-product","text":"calculate z axle","title":"Cross Product"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#effect-of-cross-product","text":"Determine left/right \\(\\vec{a} X \\vec{b}\\) : if > 0 : b is left to a if < 0: b is right to a Determine inner/outer: 3 edges as vec, multiply 3 point to P point, is all in one side (left/right) . P point is into this rectangle .","title":"Effect of Cross Product"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#2-orthonormal-coordinate-frames","text":"","title":"2. Orthonormal Coordinate Frames"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#3-matrices","text":"","title":"3. Matrices"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#matrix-matrix-multiplication","text":"","title":"Matrix-Matrix Multiplication"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#properties","text":"","title":"properties"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#multiply-a-vec","text":"Treat vec as a column matrix","title":"multiply a vec"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#transpose-of-a-matrix","text":"","title":"Transpose of a Matrix"},{"location":"Blog/Grphcics/GAMES101/1.%20Linear%20Algebra/#identity-matrix-and-inverses","text":"","title":"Identity Matrix and Inverses"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/","text":"Transformation \u00b6 1. Normal transformation \u00b6 Rotation \u00b6 #### \\(\\therefore R_{-\\theta} = {R_\\theta}^{-1}\\) (By definition) $$\\begin{gather} Text Only 1 2 3 4 5 R_{\\theta}= \\begin{pmatrix} cos\\theta & -sin\\theta\\\\ -sin\\theta & cos\\theta\\end{pmatrix}\\quad\\\\ R_{-\\theta} = \\begin{pmatrix} cos\\theta & sin\\theta \\\\ -sin\\theta & cos\\theta \\end{pmatrix} ={R_\\theta}^\\mathrm{T} \\end{gather}$$ Transition \u00b6 Affine Transformation \u00b6 2D transformation by 3 aspect matrix 2. Homogeneous equation \u00b6 uniform transformation \u00b6 Homogeneous equations transformation all in one matrix BUT add one more dimension , It takes more memory. R to L \u00b6 \\(target = model * view * projection\\) 3. 3-way Transformation \u00b6 Similarly to 2D: add one more dimension to 4-order matrix The Order Rotation -> Scale -> Transition 3D Transformations \u00b6 1. Scale and Translation matrix \u00b6 \u7f29\u653e\u548c\u79fb\u52a8 2. Rotation (around 3 axis) \u00b6 3. Pitch Roll Yaw \u00b6 Rodrigues' Rotation Formula \u00b6 4. View/Camera Transformation \u00b6 5. Projection Transformation \u00b6 Orthographic Projection \u00b6 Simply Professionally Perspective Projection \u00b6","title":"Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#transformation","text":"","title":"Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#1-normal-transformation","text":"","title":"1. Normal transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#rotation","text":"#### \\(\\therefore R_{-\\theta} = {R_\\theta}^{-1}\\) (By definition) $$\\begin{gather} Text Only 1 2 3 4 5 R_{\\theta}= \\begin{pmatrix} cos\\theta & -sin\\theta\\\\ -sin\\theta & cos\\theta\\end{pmatrix}\\quad\\\\ R_{-\\theta} = \\begin{pmatrix} cos\\theta & sin\\theta \\\\ -sin\\theta & cos\\theta \\end{pmatrix} ={R_\\theta}^\\mathrm{T} \\end{gather}$$","title":"Rotation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#transition","text":"","title":"Transition"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#affine-transformation","text":"2D transformation by 3 aspect matrix","title":"Affine Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#2-homogeneous-equation","text":"","title":"2. Homogeneous  equation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#uniform-transformation","text":"Homogeneous equations transformation all in one matrix BUT add one more dimension , It takes more memory.","title":"uniform transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#r-to-l","text":"\\(target = model * view * projection\\)","title":"R to L"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#3-3-way-transformation","text":"Similarly to 2D: add one more dimension to 4-order matrix The Order Rotation -> Scale -> Transition","title":"3. 3-way Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#3d-transformations","text":"","title":"3D Transformations"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#1-scale-and-translation-matrix","text":"\u7f29\u653e\u548c\u79fb\u52a8","title":"1. Scale and Translation matrix"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#2-rotation-around-3-axis","text":"","title":"2. Rotation (around 3 axis)"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#3-pitch-roll-yaw","text":"","title":"3. Pitch  Roll  Yaw"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#rodrigues-rotation-formula","text":"","title":"Rodrigues' Rotation Formula"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#4-viewcamera-transformation","text":"","title":"4. View/Camera Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#5-projection-transformation","text":"","title":"5. Projection Transformation"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#orthographic-projection","text":"Simply Professionally","title":"Orthographic Projection"},{"location":"Blog/Grphcics/GAMES101/2.%20Transformation/#perspective-projection","text":"","title":"Perspective Projection"},{"location":"Blog/Grphcics/GAMES101/3.%20Resterizaiton%20%E5%85%89%E6%A0%85%E5%8C%96/","text":"","title":"3. Resterizaiton \u5149\u6805\u5316"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/","text":"Shading \u00b6 Blinn-Phong Refection Model \u00b6 \\(L_a\\) \u73af\u5883\u5149(\u6750\u8d28) \\(L_d\\) \u6f2b\u53cd\u5c04(\u6cd5\u7ebf\u8d34\u56fe) \\(K_s\\) \u9ad8\u5149 -- Blende \u5dee\u503c \u00b6 Barycentric Coordinates \u91cd\u5fc3\u5750\u6807 \u00b6 \u901a\u8fc7\u91cd\u5fc3\u5750\u6807\u505a\u5dee\u503c\u6e32\u67d3 \u7f3a\u70b9: \u6295\u5f71\u4e4b\u540e\u4e2d\u5fc3\u5750\u6807\u53d1\u751f\u53d8\u5316 \u6240\u4ee5\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u505a\u5dee\u503c\uff0c\u518d\u6295\u5f71 Bilinear interpolation \u7ebf\u6027\u5dee\u503c \u00b6 \u5bf9\u4e24\u4e2a\u65b9\u5411\u5206\u522b\u5dee\u503c\uff0c\u518d\u5dee\u503c Mipmap : Range Queries \u8303\u56f4\u67e5\u8be2 \u00b6 \u591a\u5360\u7528\u56fe\u7247 \\(1/3\\) \u7684\u5185\u5b58, \u6765\u5b58\u50a8\u591a\u79cd\u7cbe\u51c6\u5ea6\u7684\u56fe\u5c42 \u5728\u6e32\u67d33\u7ef4\u4e0d\u540c\u7684\u6df1\u5ea6\u65f6\uff0c \u505a\u63d2\u503c\u5728\u4e0d\u540c\u6df1\u5ea6\u7684\u56fe\u5c42\u4e0a\u8fdb\u884c \u4e09\u7ebf\u6027\u5dee\u503c Trilinear interpolation \u5c06\u4e24\u4e2a\u56fe\u5c42\u5dee\u503c\u7684\u7ed3\u679c\u8fdb\u884c\u5dee\u503c \u5404\u5411\u5f02\u6027 \u5404\u4e2a\u65b9\u5411\u4fdd\u5b58\u4e00\u4efd\u5185\u5bb9, \u4e09\u500d\u5185\u5b58\u7684\u5360\u7528 EWA: \u591a\u4e2a\u5706\u5f62\u8986\u76d6\uff0c\u7f3a\u70b9\u662f\u591a\u6b21\u67e5\u8be2","title":"Shading"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#shading","text":"","title":"Shading"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#blinn-phong-refection-model","text":"\\(L_a\\) \u73af\u5883\u5149(\u6750\u8d28) \\(L_d\\) \u6f2b\u53cd\u5c04(\u6cd5\u7ebf\u8d34\u56fe) \\(K_s\\) \u9ad8\u5149 -- Blende","title":"Blinn-Phong Refection Model"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#_1","text":"","title":"\u5dee\u503c"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#barycentric-coordinates","text":"\u901a\u8fc7\u91cd\u5fc3\u5750\u6807\u505a\u5dee\u503c\u6e32\u67d3 \u7f3a\u70b9: \u6295\u5f71\u4e4b\u540e\u4e2d\u5fc3\u5750\u6807\u53d1\u751f\u53d8\u5316 \u6240\u4ee5\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u505a\u5dee\u503c\uff0c\u518d\u6295\u5f71","title":"Barycentric Coordinates \u91cd\u5fc3\u5750\u6807"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#bilinear-interpolation","text":"\u5bf9\u4e24\u4e2a\u65b9\u5411\u5206\u522b\u5dee\u503c\uff0c\u518d\u5dee\u503c","title":"Bilinear interpolation \u7ebf\u6027\u5dee\u503c"},{"location":"Blog/Grphcics/GAMES101/4.%20Shading%20%E7%9D%80%E8%89%B2/#mipmap-range-queries","text":"\u591a\u5360\u7528\u56fe\u7247 \\(1/3\\) \u7684\u5185\u5b58, \u6765\u5b58\u50a8\u591a\u79cd\u7cbe\u51c6\u5ea6\u7684\u56fe\u5c42 \u5728\u6e32\u67d33\u7ef4\u4e0d\u540c\u7684\u6df1\u5ea6\u65f6\uff0c \u505a\u63d2\u503c\u5728\u4e0d\u540c\u6df1\u5ea6\u7684\u56fe\u5c42\u4e0a\u8fdb\u884c \u4e09\u7ebf\u6027\u5dee\u503c Trilinear interpolation \u5c06\u4e24\u4e2a\u56fe\u5c42\u5dee\u503c\u7684\u7ed3\u679c\u8fdb\u884c\u5dee\u503c \u5404\u5411\u5f02\u6027 \u5404\u4e2a\u65b9\u5411\u4fdd\u5b58\u4e00\u4efd\u5185\u5bb9, \u4e09\u500d\u5185\u5b58\u7684\u5360\u7528 EWA: \u591a\u4e2a\u5706\u5f62\u8986\u76d6\uff0c\u7f3a\u70b9\u662f\u591a\u6b21\u67e5\u8be2","title":"Mipmap : Range Queries \u8303\u56f4\u67e5\u8be2"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/","text":"Geometry \u00b6 Environment Lighting \u00b6 Environment map \u00b6 \u7528\u4e00\u4e2a environment map \u6765\u6e32\u67d3\u7269\u4f53\u4e0a\u5404\u4e2a\u65b9\u5411 \u7684\u53cd\u5c04\u5149\u5f71 \u8bb0\u5f55\u5728\u7403\u4f53\u4e0a \u4e0d\u80fd\u5747\u5300\u5730\u63cf\u8ff0\u6781\u70b9\u90e8\u5206\uff08\u5730\u7403\u4e24\u6781\u653e\u5927\uff09 \u8bb0\u5f55\u5728\u7acb\u65b9\u4f53\u4e2d (\u5929\u7a7a\u76d2) \u7f3a\u5c11\u67d0\u4e2a\u65b9\u5411\u7684\u5149\u7167 ### Bump mapping \u51f9\u51f8\u8d34\u56fe \u6cd5\u7ebf\u8d34\u56fe - \u6c42\u51fa\u68af\u5ea6 Derivative \u884d\u751f \u6d3e\u751f Displacement mapping \u79fb\u52a8\u8d34\u56fe \u00b6 - \u9700\u8981\u66f4\u52a0\u7cbe\u7ec6\u7684\u6a21\u578b\u5bf9\u5e94\u7eb9\u7406 3D \u8d34\u56fe \u00b6 \u4f7f\u7528\u4e09\u7ef4\u8d34\u56fe/\u7eb9\u7406 Geometry \u00b6 \u5224\u65ad\u7269\u4f53\u5185\u5916 Construct Solid Geometry Boolean Operations (Implicit \u9690\u5f0f\u7684) Distance function \uff08\u8ddd\u79bb\u8868\u793a)","title":"Geometry"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#geometry","text":"","title":"Geometry"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#environment-lighting","text":"","title":"Environment Lighting"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#environment-map","text":"\u7528\u4e00\u4e2a environment map \u6765\u6e32\u67d3\u7269\u4f53\u4e0a\u5404\u4e2a\u65b9\u5411 \u7684\u53cd\u5c04\u5149\u5f71 \u8bb0\u5f55\u5728\u7403\u4f53\u4e0a \u4e0d\u80fd\u5747\u5300\u5730\u63cf\u8ff0\u6781\u70b9\u90e8\u5206\uff08\u5730\u7403\u4e24\u6781\u653e\u5927\uff09 \u8bb0\u5f55\u5728\u7acb\u65b9\u4f53\u4e2d (\u5929\u7a7a\u76d2) \u7f3a\u5c11\u67d0\u4e2a\u65b9\u5411\u7684\u5149\u7167 ### Bump mapping \u51f9\u51f8\u8d34\u56fe \u6cd5\u7ebf\u8d34\u56fe - \u6c42\u51fa\u68af\u5ea6 Derivative \u884d\u751f \u6d3e\u751f","title":"Environment map"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#displacement-mapping","text":"- \u9700\u8981\u66f4\u52a0\u7cbe\u7ec6\u7684\u6a21\u578b\u5bf9\u5e94\u7eb9\u7406","title":"Displacement mapping \u79fb\u52a8\u8d34\u56fe"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#3d","text":"\u4f7f\u7528\u4e09\u7ef4\u8d34\u56fe/\u7eb9\u7406","title":"3D \u8d34\u56fe"},{"location":"Blog/Grphcics/GAMES101/5.%20Geometry%20%E5%87%A0%E4%BD%95/#geometry_1","text":"\u5224\u65ad\u7269\u4f53\u5185\u5916 Construct Solid Geometry Boolean Operations (Implicit \u9690\u5f0f\u7684) Distance function \uff08\u8ddd\u79bb\u8868\u793a)","title":"Geometry"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/","text":"Ray Tracing \u00b6 Why Ray Tracing? \u00b6 - Ray tracing \u66f4\u52a0\u7cbe\u786e\uff0c\u7cbe\u7ec6\uff0c\u4f46\u6548\u7387\u4f4e\uff0c\u6bd4\u5149\u6805\u5316\u6ee1 - \u4f7f\u7528\u9886\u57df - \u5149\u6805\u5316 Rasterization \uff1areal-time (game) - Ray Tracing: video shade \u540e\u671f\u6e32\u67d3 Shading Pixels (local only) \u00b6 \u5149\u7ebf\u5982\u4f55\u591a\u6b21\u6298\u5c04\u4e0e\u53cd\u5c04 \u00b6 Recursive Ray Tracing \u9012\u5f52\u7684 \u00b6 - \u5c06\u591a\u4e2a\u70b9\u7684\u662f\u5426\u53ef\u89c1(\u88ab\u5149\u7ebf\u7167\u5230)\u8ba1\u7b97\u8fdb\u51651\u4e2a\u70b9\u5185 Ray Equation \u00b6 intersection(\u4ea4\u70b9) with sphere(\u7403\u4f53) Intersection with Implicit Surface","title":"Ray Tracing"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#ray-tracing","text":"","title":"Ray Tracing"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#why-ray-tracing","text":"- Ray tracing \u66f4\u52a0\u7cbe\u786e\uff0c\u7cbe\u7ec6\uff0c\u4f46\u6548\u7387\u4f4e\uff0c\u6bd4\u5149\u6805\u5316\u6ee1 - \u4f7f\u7528\u9886\u57df - \u5149\u6805\u5316 Rasterization \uff1areal-time (game) - Ray Tracing: video shade \u540e\u671f\u6e32\u67d3","title":"Why Ray Tracing?"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#shading-pixels-local-only","text":"","title":"Shading Pixels (local only)"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#_1","text":"","title":"\u5149\u7ebf\u5982\u4f55\u591a\u6b21\u6298\u5c04\u4e0e\u53cd\u5c04"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#recursive-ray-tracing","text":"- \u5c06\u591a\u4e2a\u70b9\u7684\u662f\u5426\u53ef\u89c1(\u88ab\u5149\u7ebf\u7167\u5230)\u8ba1\u7b97\u8fdb\u51651\u4e2a\u70b9\u5185","title":"Recursive Ray Tracing \u9012\u5f52\u7684"},{"location":"Blog/Grphcics/GAMES101/6.%20Ray%20Tracing/#ray-equation","text":"intersection(\u4ea4\u70b9) with sphere(\u7403\u4f53) Intersection with Implicit Surface","title":"Ray Equation"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/","text":"OpenGL series \u00b6 1. VertexBuffer \u00b6 2. IndexBuffer \u00b6 3. Shader \u00b6 4. Reneder \u00b6 5. Texture \u00b6 6. Blender \u00b6 7. Projection \u00b6 Orthogonality projection \u6b63\u4ea4\u6295\u5f71 Usually 2D Perspective projection \u900f\u89c6\u6295\u5f71 Usually 3D MVP : model view projection m * v * p ImGui: translation 8. How to draw a graph twice? \u00b6 Add one more translation Add one more model , and use same shader ( so don't need double BIND) Option: add slider bar to control. by ImGui 9. Create a test frame \u00b6 Create a Test class as Fundamental Class contains virtual function: OnUpdate , OnRender , OnImGuiRender . Let son class to inherited. Create a TestMenu class as a entry point for all test class. Maintain a vector to contain Test Method Label and Test Function's pointer ; Maintain a Test Ptr to specific active current running test; A template func to add test method; Implement OnImGuiRender to render the Test Control Frame ; OnImGuiRender : Traverse this vector and do for every individual: Show str label of it as a Button on TestMenu frame, and check whether clicked. If clicked, change the m_CurrentTest by ptr to ptr (\u4e8c\u7ea7\u6307\u9488) Then the program will run the new test method In main func initialize a nullptr as currentTest as default m_CurrentTest of TestMenu , and register the Tests that has inherited Test class. In main loop to check currentTest and render it If currentTest==testMenu , the Button of <- will not be render. In OnImGuiRender to change currentTest ptr. Delete currentTest and testMenu ptr when ending main loop 10. More effective uniform \u00b6 Use cache to store location , and reduce multiply call glGetUniformLocation func. 11. Batch render \u00b6","title":"OpenGL series"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#opengl-series","text":"","title":"OpenGL series"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#1-vertexbuffer","text":"","title":"1. VertexBuffer"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#2-indexbuffer","text":"","title":"2. IndexBuffer"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#3-shader","text":"","title":"3. Shader"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#4-reneder","text":"","title":"4. Reneder"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#5-texture","text":"","title":"5. Texture"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#6-blender","text":"","title":"6. Blender"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#7-projection","text":"Orthogonality projection \u6b63\u4ea4\u6295\u5f71 Usually 2D Perspective projection \u900f\u89c6\u6295\u5f71 Usually 3D MVP : model view projection m * v * p ImGui: translation","title":"7. Projection"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#8-how-to-draw-a-graph-twice","text":"Add one more translation Add one more model , and use same shader ( so don't need double BIND) Option: add slider bar to control. by ImGui","title":"8. How to draw a graph twice?"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#9-create-a-test-frame","text":"Create a Test class as Fundamental Class contains virtual function: OnUpdate , OnRender , OnImGuiRender . Let son class to inherited. Create a TestMenu class as a entry point for all test class. Maintain a vector to contain Test Method Label and Test Function's pointer ; Maintain a Test Ptr to specific active current running test; A template func to add test method; Implement OnImGuiRender to render the Test Control Frame ; OnImGuiRender : Traverse this vector and do for every individual: Show str label of it as a Button on TestMenu frame, and check whether clicked. If clicked, change the m_CurrentTest by ptr to ptr (\u4e8c\u7ea7\u6307\u9488) Then the program will run the new test method In main func initialize a nullptr as currentTest as default m_CurrentTest of TestMenu , and register the Tests that has inherited Test class. In main loop to check currentTest and render it If currentTest==testMenu , the Button of <- will not be render. In OnImGuiRender to change currentTest ptr. Delete currentTest and testMenu ptr when ending main loop","title":"9. Create a test frame"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#10-more-effective-uniform","text":"Use cache to store location , and reduce multiply call glGetUniformLocation func.","title":"10. More effective uniform"},{"location":"Blog/Grphcics/OpenGL/ChernoGLSeries/OpenGl%20Series/#11-batch-render","text":"","title":"11. Batch render"},{"location":"Blog/Grphcics/Vulkan/Untitled/","text":"VKRenderPass initialLayout \u6307\u5b9a\u56fe\u50cf\u5728\u5f00\u59cb\u8fdb\u5165\u6e32\u67d3\u901a\u9053render pass\u524d\u5c06\u8981\u4f7f\u7528\u7684\u5e03\u5c40\u7ed3\u6784\u3002 finalLayout \u6307\u5b9a\u5f53\u6e32\u67d3\u901a\u9053\u7ed3\u675f\u81ea\u52a8\u53d8\u6362\u65f6\u4f7f\u7528\u7684\u5e03\u5c40\u3002\u4f7f\u7528 VK_IMAGE_LAYOUT_UNDEFINED \u8bbe\u7f6e initialLayout \uff0c\u610f\u4e3a\u4e0d\u5173\u5fc3\u56fe\u50cf\u4e4b\u524d\u7684\u5e03\u5c40\u3002\u7279\u6b8a\u503c\u8868\u660e\u56fe\u50cf\u7684\u5185\u5bb9\u4e0d\u786e\u5b9a\u4f1a\u88ab\u4fdd\u7559\uff0c\u4f46\u662f\u8fd9\u5e76\u4e0d\u603b\u8981\uff0c\u56e0\u4e3a\u65e0\u8bba\u5982\u4f55\u6211\u4eec\u90fd\u8981\u6e05\u7406\u5b83\u3002\u6211\u4eec\u5e0c\u671b\u56fe\u50cf\u6e32\u67d3\u5b8c\u6bd5\u540e\u4f7f\u7528\u4ea4\u6362\u94fe\u8fdb\u884c\u5448\u73b0\uff0c\u8fd9\u5c31\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48 finalLayout \u8981\u8bbe\u7f6e\u4e3a VK_IMAGE_LAYOUT_PRESENT_SRC_KHR \u3002 - \u7ebf\u6027\u7684layout \u4e0e optimal/tiled (\u5e73\u94fa) \u6700\u4f73\u7684\u5185\u5b58\u5e03\u5c40 - \u663e\u5b58\u91cc\u7684 optimal memory layout \u4ece\u5185\u5b58\u91cc linear layout \u8bfb\u5199\u50a8\u5b58\u683c\u5f0f\u4f18\u5316\u800c\u6765 - GPU \u66f4\u591a\u5730 \u652f\u6301 tiled \uff08\u5e73\u94fa\uff09\u5e03\u5c40 \u6216 optimal\uff08\u6700\u4f73\uff09 \u5e03\u5c40 \u6765\u964d\u4f4e gpu \u5904\u7406\u6570\u636e\u5f00\u9500","title":"Untitled"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/","text":"\u9879\u76ee\u642d\u5efa\u6ce8\u610f\u4e8b\u9879 \u00b6 1. \u6846\u67b6\u51c6\u5907 \u00b6 Debian 11, bullseye \u4fee\u6539 ~/mvn/conf/setting.xml \u4e2d\u7684\u955c\u50cf\u5730\u5740 \u901a\u8fc7MySQL\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5 \u4ed3\u5e93\u5305 \u83b7\u53d6\u8f6f\u4ef6\u5305 \u4f7f\u7528 package manager quick \u5b89\u88c5\u4e0e\u542f\u52a8redis \u670d\u52a1\u7ba1\u7406 Kafka \u00b6 kafka\u914d\u7f6e: ~/kafka/config/\u4e0b zookeeper.properties service.properties \u4ee5\u540e\u53f0\u65b9\u5f0f\u542f\u52a8 zookeeper \u4e0e kafka(\u5173\u95ed\u9700\u8981\u9700\u8981\u4f7f\u7528bin\u4e0b\u811a\u672c\uff0c\u4e0d\u53ef\u5f3a\u5236\u5173\u95ed) Bash 1 2 bin/zookeeper-server-start.sh -daemon config/zookeeper.properties nohup bin/kafka-server-start.sh config/server.properties 1 >/dev/null 2 > & 1 & \u6d4b\u8bd5 Bash 1 bin/kafka-topics.sh --list --bootstrap-server localhost:9092 elasticsearch \u00b6 \u914d\u7f6e elasticsearch.yml : data\u4e0elog\u6587\u4ef6\u4f4d\u7f6e\u4e0ekafka\u4e00\u81f4 cluster name jvm.options : \u5806\u533a\u5185\u5b58\u5206\u914d\u66f4\u6539(\u9ed8\u8ba44g) \u4ee5\u975e root \u7528\u6237\u542f\u52a8: \u6587\u4ef6\u6743\u9650 wkhtmltopdf \u00b6 \u5b89\u88c5\u865a\u62dfGUI\u7a0b\u5e8f \u00b6 apt list *xorg* && install Run script \u00b6 xvfb-run --server-args=\"-screen 0 1024x768x24\" wkhtmltoimage http://www.baidu.com ../wktest/4.png \u6784\u9020\u811a\u672c: \u7279\u6b8a\u53d8\u91cf \u73af\u5883\u53d8\u91cf \u00b6 tomecat/bin mvn/bin tomcat \u4e0e nginx \u00b6 \u6dfb\u52a0tomcat \u53d8\u91cf\u540e \uff0c\u8fd0\u884c startup.sh \u542f\u52a8 Edit tomcat/conf/server.xml Nginx \u914d\u7f6e\uff1a Edit /etc/nginx/nginx.conf \u914d\u7f6e upstream {server_name} \u53cd\u5411\u4ee3\u7406tomcat \u914d\u7f6e server \u4f5c\u4e3a\u5206\u53d1\u5165\u53e3 \u6ce8\u610f : - \u914d\u7f6e\u5185\u5bb9 \u8981\u4e48\u5728 http{\u2026}\u5185\uff0c - or new a *.conf in /etc/nginx/{conf | enable_site}.d , then include in http{...}. C 1 server_name ** ; \u628a community\u9879\u76ee \u6253\u5305\u6210 ROOT.war \u8fd9\u6837\u5c31\u4e0d\u7528\u52a0 \\ \u4e86 2. \u6253\u5305java\u9879\u76ee \u00b6 \u66f4\u6539 app*.properties \u548c global.js \u5185\u7684 CONTEXT_PATH Also need remove port bind in properties \u6dfb\u52a0 pom.xml \u5185 packging \u4e0e build TAG as war and ROOT Duplicate produce and develop version's application.properties and logback-spring.xml ( Rename origin file with attach \"-develop\" before suffix). Clear origin content then edit to manage version by spring-boot. Redefine entry point Clean target files and zip packing to server. run mvn clean package -D maven.test.skip=true -f source path , build target file Packaging Error \u00b6 generate .war.original file \u00b6 Reason: In pom.xml comment maven plugin , It will make double package move ROOT.war that generated to tomcat/webapps/ 3. Run \u00b6 startup.sh nginx cat tomcat/logs/catalina-** to check if success Access Error \u00b6 404 for \"/\" [x] TODO Change tomcat version to 9.* , because my spring-boot version is 2.* 4. Project script \u00b6 see in ./attachments/community-script/ \u603b\u7ed3\u90e8\u5206 \u00b6 1. \u5355\u5143\u6d4b\u8bd5 \u00b6 Spring Boot Testing Dependencies: Spring-boot-starter-test Include: Junit, Spring Test, AssertJ, ... Test Case Require: \u6d4b\u8bd5\u65b9\u6cd5\u7684\u72ec\u7acb\u6027 Step\uff1a init \u6570\u636e, \u6267\u884c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u9a8c\u8bc1\u6d4b\u8bd5\u7ed3\u679c\uff0c \u6e05\u7406\u6d4b\u8bd5\u6570\u636e \u5e38\u7528 Annotation: @BeforeClass, @AfterClass, @Before, @After \u9879\u76ee\u542f\u52a8\u524d\u540e\uff0c\u5355\u4e2a\u65b9\u6cd5\u524d\u540e\u6267\u884c\u7684\u5185\u5bb9 \u5982\u5728Before\u4e2d\u5efa\u7acb\u4e00\u4e2a\u6570\u636e\uff0c\u6d4b\u8bd5\u540e\u5728After\u5185\u5220\u9664 2. \u9879\u76ee\u76d1\u63a7 \u00b6 Spring Boot Actuator Endpoints: \u76d1\u63a7access\u5e94\u7528\u5165\u53e3\uff0cSpring\u5185\u7f6e\u4e86\u5f88\u591a\u7aef\u70b9\uff0c\u4e5f\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u70b9 Methods: HTTP or JMX Access Path: \u4f8b\u5982 \u201c/actuator/health\" Attention : \u6309\u9700\u914d\u7f6e\u66b4\u9732\u7684\u7aef\u70b9\uff0c\u5e76\u5bf9\u6240\u6709\u7aef\u70b9\u8fdb\u884c\u6743\u9650\u63a7\u5236 \u901a\u8fc7@Endpoint(id=\"\")\u4f7f\u7528 \u5185\u90e8@ReadOperation \u7b49 \u8fdb\u884c\u6d4b\u8bd5 \u5728config\u5305\u4e0b\u7684 spring security config \u4e2d \u914d\u7f6e\u4e3a\u7ba1\u7406\u5458\u6743\u9650\u8bbf\u95ee 3. \u9879\u76ee\u90e8\u7f72 \u00b6 1. Directories \u00b6 2. /etc/profile \u00b6 Text Only 1 2 export PATH=$PATH:/community/apache-maven-3.8.6/bin export PATH=$PATH:/community/apache-tomcat-10.0.23/bin 3. FrameControll.sh \u00b6 Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #!/bin/bash arg = $1 arg2 = $2 echo $arg $arg2 if [ -z $arg ] ; then echo \"command {startup|test|stop}\" else if [ $arg = \"startup\" ] ; then echo \"Initializing services...\" mysqld --user = root 1 >/tmp/mysqllog 2 > & 1 & redis-server /community/kafka_2.13-3.2.1/bin/zookeeper-server-start.sh -daemon /community/kafka_2.13-3.2.1/config/zookeeper.properties nohup /community/kafka_2.13-3.2.1/bin/kafka-server-start.sh /community/kafka_2.13-3.2.1/config/server.properties 1 >/dev/null 2 > & 1 & sudo -u rookie /community/elasticsearch-7.12.1/bin/elasticsearch source /etc/profile nginx startup.sh elif [ $arg = \"stop\" ] ; then echo \"stop frames...\" /community/kafka_2.13-3.2.1/bin/kafka-server-stop.sh /community/kafka_2.13-3.2.1/bin/zookeeper-server-stop.sh elif [ $arg = \"test\" ] ; then echo \"testing...\" if [ -z $arg2 ] ; then echo \"command test {framename}\" elif [ $arg2 = \"kafka\" ] ; then /community/kafka_2.13-3.2.1/bin/kafka-topics.sh --list --bootstrap-server localhost:9002 elif [ $arg2 = \"elasticsearch\" ] ; then curl -X GET localhost:9200/_cat/health?v fi fi fi 4. startElasticsearch.sh \u00b6 Bash 1 2 /community/elasticsearch-7.12.1/bin/elasticsearch exit 5. deployProject.sh \u00b6 Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 #!/bin/bash rm /tmp/community/** -rf rm /community/apache-tomcat-10.0.23/logs/** -rf if [ $1 = \"skip\" ] ; then mvn clean package -D maven.test.skip = true -f /community/community else mvn clean package -f /community/community fi rm /community/apache-tomcat-10.0.23/webapps/* -rf mv /community/community/target/ROOT.war /community/apache-tomcat-10.0.23/webapps/ shutdown.sh catalina.sh run # startup.sh 4. \u9879\u76ee\u603b\u7ed3 \u00b6 \u6743\u9650: \u767b\u5f55 \u4f1a\u8bdd\u7ba1\u7406: cookie and session Transaction \u4e8b\u52a1 AOP 5. \u5e38\u89c1\u9762\u8bd5\u9898 \u00b6 1. MYSQL \u00b6 1. \u5b58\u50a8\u5f15\u64ce \u00b6 \u9ed8\u8ba4 InnoDB , \u652f\u6301\u4e8b\u52a1\u4e0e\u5916\u952e 2. \u4e8b\u52a1 \u00b6 3. \u9501 \u00b6 - \u8868: \u9501\u7684\u6392\u4ed6\u6027 - \u6570\u636e\u5e93\u9ed8\u8ba4\u4e3a\u6570\u636e\u52a0\u60b2\u89c2\u9501 - \u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u4e50\u89c2\u9501 4. \u7d22\u5f15\uff08B+Tree) \u00b6 2. Redis \u00b6 1. Data Type \u00b6 2. \u8fc7\u671f\u7b56\u7565 \u00b6 3. \u7f13\u5b58\u7a7f\u900f \u00b6 4. \u7f13\u5b58\u51fb\u7a7f \u00b6 5. \u7f13\u5b58\u96ea\u5d29 \u00b6 6. \u5206\u5e03\u5f0f\u9501 \u00b6 3. Spring \u00b6 1. Spring IoC \u00b6 2. Spring AOP \u00b6 3. Spring MVC \u00b6","title":"\u725b\u5ba2\u793e\u533a\u9879\u76ee\u603b\u7ed3"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#_1","text":"","title":"\u9879\u76ee\u642d\u5efa\u6ce8\u610f\u4e8b\u9879"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1","text":"Debian 11, bullseye \u4fee\u6539 ~/mvn/conf/setting.xml \u4e2d\u7684\u955c\u50cf\u5730\u5740 \u901a\u8fc7MySQL\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5 \u4ed3\u5e93\u5305 \u83b7\u53d6\u8f6f\u4ef6\u5305 \u4f7f\u7528 package manager quick \u5b89\u88c5\u4e0e\u542f\u52a8redis \u670d\u52a1\u7ba1\u7406","title":"1. \u6846\u67b6\u51c6\u5907"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#kafka","text":"kafka\u914d\u7f6e: ~/kafka/config/\u4e0b zookeeper.properties service.properties \u4ee5\u540e\u53f0\u65b9\u5f0f\u542f\u52a8 zookeeper \u4e0e kafka(\u5173\u95ed\u9700\u8981\u9700\u8981\u4f7f\u7528bin\u4e0b\u811a\u672c\uff0c\u4e0d\u53ef\u5f3a\u5236\u5173\u95ed) Bash 1 2 bin/zookeeper-server-start.sh -daemon config/zookeeper.properties nohup bin/kafka-server-start.sh config/server.properties 1 >/dev/null 2 > & 1 & \u6d4b\u8bd5 Bash 1 bin/kafka-topics.sh --list --bootstrap-server localhost:9092","title":"Kafka"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#elasticsearch","text":"\u914d\u7f6e elasticsearch.yml : data\u4e0elog\u6587\u4ef6\u4f4d\u7f6e\u4e0ekafka\u4e00\u81f4 cluster name jvm.options : \u5806\u533a\u5185\u5b58\u5206\u914d\u66f4\u6539(\u9ed8\u8ba44g) \u4ee5\u975e root \u7528\u6237\u542f\u52a8: \u6587\u4ef6\u6743\u9650","title":"elasticsearch"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#wkhtmltopdf","text":"","title":"wkhtmltopdf"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#gui","text":"apt list *xorg* && install","title":"\u5b89\u88c5\u865a\u62dfGUI\u7a0b\u5e8f"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#run-script","text":"xvfb-run --server-args=\"-screen 0 1024x768x24\" wkhtmltoimage http://www.baidu.com ../wktest/4.png \u6784\u9020\u811a\u672c: \u7279\u6b8a\u53d8\u91cf","title":"Run script"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#_2","text":"tomecat/bin mvn/bin","title":"\u73af\u5883\u53d8\u91cf"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#tomcat-nginx","text":"\u6dfb\u52a0tomcat \u53d8\u91cf\u540e \uff0c\u8fd0\u884c startup.sh \u542f\u52a8 Edit tomcat/conf/server.xml Nginx \u914d\u7f6e\uff1a Edit /etc/nginx/nginx.conf \u914d\u7f6e upstream {server_name} \u53cd\u5411\u4ee3\u7406tomcat \u914d\u7f6e server \u4f5c\u4e3a\u5206\u53d1\u5165\u53e3 \u6ce8\u610f : - \u914d\u7f6e\u5185\u5bb9 \u8981\u4e48\u5728 http{\u2026}\u5185\uff0c - or new a *.conf in /etc/nginx/{conf | enable_site}.d , then include in http{...}. C 1 server_name ** ; \u628a community\u9879\u76ee \u6253\u5305\u6210 ROOT.war \u8fd9\u6837\u5c31\u4e0d\u7528\u52a0 \\ \u4e86","title":"tomcat \u4e0e nginx"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2-java","text":"\u66f4\u6539 app*.properties \u548c global.js \u5185\u7684 CONTEXT_PATH Also need remove port bind in properties \u6dfb\u52a0 pom.xml \u5185 packging \u4e0e build TAG as war and ROOT Duplicate produce and develop version's application.properties and logback-spring.xml ( Rename origin file with attach \"-develop\" before suffix). Clear origin content then edit to manage version by spring-boot. Redefine entry point Clean target files and zip packing to server. run mvn clean package -D maven.test.skip=true -f source path , build target file","title":"2. \u6253\u5305java\u9879\u76ee"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#packaging-error","text":"","title":"Packaging Error"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#generate-waroriginal-file","text":"Reason: In pom.xml comment maven plugin , It will make double package move ROOT.war that generated to tomcat/webapps/","title":"generate .war.original file"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3-run","text":"startup.sh nginx cat tomcat/logs/catalina-** to check if success","title":"3. Run"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#access-error","text":"404 for \"/\" [x] TODO Change tomcat version to 9.* , because my spring-boot version is 2.*","title":"Access Error"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#4-project-script","text":"see in ./attachments/community-script/","title":"4. Project script"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#_3","text":"","title":"\u603b\u7ed3\u90e8\u5206"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1_1","text":"Spring Boot Testing Dependencies: Spring-boot-starter-test Include: Junit, Spring Test, AssertJ, ... Test Case Require: \u6d4b\u8bd5\u65b9\u6cd5\u7684\u72ec\u7acb\u6027 Step\uff1a init \u6570\u636e, \u6267\u884c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u9a8c\u8bc1\u6d4b\u8bd5\u7ed3\u679c\uff0c \u6e05\u7406\u6d4b\u8bd5\u6570\u636e \u5e38\u7528 Annotation: @BeforeClass, @AfterClass, @Before, @After \u9879\u76ee\u542f\u52a8\u524d\u540e\uff0c\u5355\u4e2a\u65b9\u6cd5\u524d\u540e\u6267\u884c\u7684\u5185\u5bb9 \u5982\u5728Before\u4e2d\u5efa\u7acb\u4e00\u4e2a\u6570\u636e\uff0c\u6d4b\u8bd5\u540e\u5728After\u5185\u5220\u9664","title":"1. \u5355\u5143\u6d4b\u8bd5"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2","text":"Spring Boot Actuator Endpoints: \u76d1\u63a7access\u5e94\u7528\u5165\u53e3\uff0cSpring\u5185\u7f6e\u4e86\u5f88\u591a\u7aef\u70b9\uff0c\u4e5f\u652f\u6301\u81ea\u5b9a\u4e49\u7aef\u70b9 Methods: HTTP or JMX Access Path: \u4f8b\u5982 \u201c/actuator/health\" Attention : \u6309\u9700\u914d\u7f6e\u66b4\u9732\u7684\u7aef\u70b9\uff0c\u5e76\u5bf9\u6240\u6709\u7aef\u70b9\u8fdb\u884c\u6743\u9650\u63a7\u5236 \u901a\u8fc7@Endpoint(id=\"\")\u4f7f\u7528 \u5185\u90e8@ReadOperation \u7b49 \u8fdb\u884c\u6d4b\u8bd5 \u5728config\u5305\u4e0b\u7684 spring security config \u4e2d \u914d\u7f6e\u4e3a\u7ba1\u7406\u5458\u6743\u9650\u8bbf\u95ee","title":"2. \u9879\u76ee\u76d1\u63a7"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3","text":"","title":"3. \u9879\u76ee\u90e8\u7f72"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1-directories","text":"","title":"1. Directories"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2-etcprofile","text":"Text Only 1 2 export PATH=$PATH:/community/apache-maven-3.8.6/bin export PATH=$PATH:/community/apache-tomcat-10.0.23/bin","title":"2.  /etc/profile"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3-framecontrollsh","text":"Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #!/bin/bash arg = $1 arg2 = $2 echo $arg $arg2 if [ -z $arg ] ; then echo \"command {startup|test|stop}\" else if [ $arg = \"startup\" ] ; then echo \"Initializing services...\" mysqld --user = root 1 >/tmp/mysqllog 2 > & 1 & redis-server /community/kafka_2.13-3.2.1/bin/zookeeper-server-start.sh -daemon /community/kafka_2.13-3.2.1/config/zookeeper.properties nohup /community/kafka_2.13-3.2.1/bin/kafka-server-start.sh /community/kafka_2.13-3.2.1/config/server.properties 1 >/dev/null 2 > & 1 & sudo -u rookie /community/elasticsearch-7.12.1/bin/elasticsearch source /etc/profile nginx startup.sh elif [ $arg = \"stop\" ] ; then echo \"stop frames...\" /community/kafka_2.13-3.2.1/bin/kafka-server-stop.sh /community/kafka_2.13-3.2.1/bin/zookeeper-server-stop.sh elif [ $arg = \"test\" ] ; then echo \"testing...\" if [ -z $arg2 ] ; then echo \"command test {framename}\" elif [ $arg2 = \"kafka\" ] ; then /community/kafka_2.13-3.2.1/bin/kafka-topics.sh --list --bootstrap-server localhost:9002 elif [ $arg2 = \"elasticsearch\" ] ; then curl -X GET localhost:9200/_cat/health?v fi fi fi","title":"3. FrameControll.sh"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#4-startelasticsearchsh","text":"Bash 1 2 /community/elasticsearch-7.12.1/bin/elasticsearch exit","title":"4. startElasticsearch.sh"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#5-deployprojectsh","text":"Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 #!/bin/bash rm /tmp/community/** -rf rm /community/apache-tomcat-10.0.23/logs/** -rf if [ $1 = \"skip\" ] ; then mvn clean package -D maven.test.skip = true -f /community/community else mvn clean package -f /community/community fi rm /community/apache-tomcat-10.0.23/webapps/* -rf mv /community/community/target/ROOT.war /community/apache-tomcat-10.0.23/webapps/ shutdown.sh catalina.sh run # startup.sh","title":"5. deployProject.sh"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#4","text":"\u6743\u9650: \u767b\u5f55 \u4f1a\u8bdd\u7ba1\u7406: cookie and session Transaction \u4e8b\u52a1 AOP","title":"4. \u9879\u76ee\u603b\u7ed3"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#5","text":"","title":"5. \u5e38\u89c1\u9762\u8bd5\u9898"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1-mysql","text":"","title":"1. MYSQL"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1_2","text":"\u9ed8\u8ba4 InnoDB , \u652f\u6301\u4e8b\u52a1\u4e0e\u5916\u952e","title":"1. \u5b58\u50a8\u5f15\u64ce"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2_1","text":"","title":"2. \u4e8b\u52a1"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3_1","text":"- \u8868: \u9501\u7684\u6392\u4ed6\u6027 - \u6570\u636e\u5e93\u9ed8\u8ba4\u4e3a\u6570\u636e\u52a0\u60b2\u89c2\u9501 - \u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5b9a\u4e49\u4e50\u89c2\u9501","title":"3. \u9501"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#4-btree","text":"","title":"4. \u7d22\u5f15\uff08B+Tree)"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2-redis","text":"","title":"2. Redis"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1-data-type","text":"","title":"1. Data Type"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2_2","text":"","title":"2. \u8fc7\u671f\u7b56\u7565"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3_2","text":"","title":"3. \u7f13\u5b58\u7a7f\u900f"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#4_1","text":"","title":"4. \u7f13\u5b58\u51fb\u7a7f"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#5_1","text":"","title":"5. \u7f13\u5b58\u96ea\u5d29"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#6","text":"","title":"6. \u5206\u5e03\u5f0f\u9501"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3-spring","text":"","title":"3. Spring"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#1-spring-ioc","text":"","title":"1. Spring IoC"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#2-spring-aop","text":"","title":"2. Spring AOP"},{"location":"Blog/JAVA/%E7%89%9B%E5%AE%A2%E7%A4%BE%E5%8C%BA%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/#3-spring-mvc","text":"","title":"3. Spring MVC"},{"location":"Blog/Latex/Untitled/","text":"1. \u4e0a\u6807 \u00b6 Text Only 1 2 3 4 5 6 7 $\\vec{a}$ \u5411\u91cf $\\overline{a}$ \u5e73\u5747\u503c $\\underline{a}$\u4e0b\u6a2a\u7ebf $\\widehat{a}$ (\u7ebf\u6027\u56de\u5f52\uff0c\u76f4\u7ebf\u65b9\u7a0b) y\u5c16 $\\widetilde{a}$ \u989a\u5316\u7b26\u53f7 \u7b49\u4ef7\u65e0\u7a77\u5c0f $\\dot{a}$ \u4e00\u9636\u5bfc\u6570 $\\ddot{a}$ \u4e8c\u9636\u5bfc\u6570 \\(\\vec{a}\\) \u5411\u91cf \\(\\overline{a}\\) \u5e73\u5747\u503c \\(\\underline{a}\\) \u4e0b\u6a2a\u7ebf \\(\\widehat{a}\\) \u7ebf\u6027\u56de\u5f52\uff0c\u76f4\u7ebf\u65b9\u7a0b y\u5c16 \\(\\widetilde{a}\\) \u989a\u5316\u7b26\u53f7 \u7b49\u4ef7\u65e0\u7a77\u5c0f \\(\\dot{a}\\) \u4e00\u9636\u5bfc\u6570 \\(\\ddot{a}\\) \u4e8c\u9636\u5bfc\u6570","title":"Untitled"},{"location":"Blog/Latex/Untitled/#1","text":"Text Only 1 2 3 4 5 6 7 $\\vec{a}$ \u5411\u91cf $\\overline{a}$ \u5e73\u5747\u503c $\\underline{a}$\u4e0b\u6a2a\u7ebf $\\widehat{a}$ (\u7ebf\u6027\u56de\u5f52\uff0c\u76f4\u7ebf\u65b9\u7a0b) y\u5c16 $\\widetilde{a}$ \u989a\u5316\u7b26\u53f7 \u7b49\u4ef7\u65e0\u7a77\u5c0f $\\dot{a}$ \u4e00\u9636\u5bfc\u6570 $\\ddot{a}$ \u4e8c\u9636\u5bfc\u6570 \\(\\vec{a}\\) \u5411\u91cf \\(\\overline{a}\\) \u5e73\u5747\u503c \\(\\underline{a}\\) \u4e0b\u6a2a\u7ebf \\(\\widehat{a}\\) \u7ebf\u6027\u56de\u5f52\uff0c\u76f4\u7ebf\u65b9\u7a0b y\u5c16 \\(\\widetilde{a}\\) \u989a\u5316\u7b26\u53f7 \u7b49\u4ef7\u65e0\u7a77\u5c0f \\(\\dot{a}\\) \u4e00\u9636\u5bfc\u6570 \\(\\ddot{a}\\) \u4e8c\u9636\u5bfc\u6570","title":"1. \u4e0a\u6807"},{"location":"Blog/Linux/Linux%E6%8D%A2%E6%BA%90/","text":"\u83b7\u53d6debain\u7248\u672c \u00b6 \u67e5\u770b linux \u5185\u6838\u7248\u672c Debian \u00b6 Bash 1 cat /etc/os-release - \u66ff\u6362 /etc/apt/sources.list \u5185\u5bb9 - \u5982\u679c\u65e0\u6cd5\u62c9\u53d6http\u6e90\u7684\u60c5\u51b5\uff0c\u5148\u4f7f\u7528http\u6e90\u5b89\u88c5 Bash 1 $ sudo apt install apt-transport-https ca-certificates \u955c\u50cf\u6e90\u7ad9: \u00b6 TUNA\u6e05\u534e: https://mirrors.tuna.tsinghua.edu.cn/help/debian/ UTSC\u4e2d\u79d1\u5927: https://mirrors.ustc.edu.cn/help/debian.html","title":"\u83b7\u53d6debain\u7248\u672c"},{"location":"Blog/Linux/Linux%E6%8D%A2%E6%BA%90/#debain","text":"\u67e5\u770b linux \u5185\u6838\u7248\u672c","title":"\u83b7\u53d6debain\u7248\u672c"},{"location":"Blog/Linux/Linux%E6%8D%A2%E6%BA%90/#debian","text":"Bash 1 cat /etc/os-release - \u66ff\u6362 /etc/apt/sources.list \u5185\u5bb9 - \u5982\u679c\u65e0\u6cd5\u62c9\u53d6http\u6e90\u7684\u60c5\u51b5\uff0c\u5148\u4f7f\u7528http\u6e90\u5b89\u88c5 Bash 1 $ sudo apt install apt-transport-https ca-certificates","title":"Debian"},{"location":"Blog/Linux/Linux%E6%8D%A2%E6%BA%90/#_1","text":"TUNA\u6e05\u534e: https://mirrors.tuna.tsinghua.edu.cn/help/debian/ UTSC\u4e2d\u79d1\u5927: https://mirrors.ustc.edu.cn/help/debian.html","title":"\u955c\u50cf\u6e90\u7ad9:"},{"location":"Blog/Linux/Select%20Poll%20Epoll/","text":"SELECT POLL EPOLL \u00b6 \u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65IO select \u00b6 \u6bcf\u6b21\u8c03\u7528 select\uff0c \u9700\u8981\u628a fd_set that listening \u62f7\u8d1d\u5230 kernel_status (\u5185\u6838\u6001) \u6bcf\u6b21 select \u8fd4\u56de\u7ed3\u679c\u540e\uff0c \u9700\u8981\u904d\u5386\u6587\u4ef6\u63cf\u8ff0\u7b26 \u5224\u65ad \u8bfb/\u5199 \u5185\u6838\u5bf9\u76d1\u63a7\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u505a\u4e86\u9650\u5236\uff0c \u6700\u591a\u4e3a1024 \u4e0d\u53ef\u6539\u53d8 poll \u00b6 \u6539\u53d8\u4e86 fd_set \u7684\u8bb0\u5f55\u65b9\u5f0f\uff0c \u901a\u8fc7\u4e00\u4e2a pollfd \u6570\u7ec4\u5411\u5185\u6838\u4f20\u9012\u8981\u5173\u6ce8\u7684\u4e8b\u4ef6 \u7a81\u7834\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u9650\u5236 epoll \u00b6 \u63d0\u4f9b3\u4e2a linux API \u6765\u5b9e\u73b0 \u901a\u8fc7 \u5f02\u6b65\u56de\u8c03 \u673a\u5236\u6765\u54cd\u5e94\u5c31\u7eea\u7684\u4e8b\u4ef6 \u5185\u6838\u4e8b\u4ef6\u6ce8\u518c\u8868\u91c7\u7528\u7ea2\u9ed1\u6811\uff0c\u63d2\u5165\u4e0e\u67e5\u8be2\u90fd\u662f \\(logN\\) ET \u4e0e LT \uff08\u8fb9\u7f18\u4e0e\u6c34\u5e73\u89e6\u53d1\uff09 LT: epoll_wait \u6bcf\u6b21\u68c0\u6d4b\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26\u6539\u53d8\uff0c\u90fd\u4f1a\u5411\u7a0b\u5e8f\u53d1\u9001\u901a\u77e5\uff0c \u53ef\u4ee5\u4e0d\u7528 \u7acb\u5373\u5904\u7406 ET: epoll_wait \u65e0\u8bba\u5904\u7406\u4e0d\u5904\u7406 \u53ea\u901a\u77e5\u4e00\u6b21 ET \u6a21\u5f0f\u53ef\u4ee5\u51cf\u5c11 epoll_wait \u7684\u8c03\u7528","title":"Select Poll Epoll"},{"location":"Blog/Linux/Select%20Poll%20Epoll/#select-poll-epoll","text":"\u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65IO","title":"SELECT POLL EPOLL"},{"location":"Blog/Linux/Select%20Poll%20Epoll/#select","text":"\u6bcf\u6b21\u8c03\u7528 select\uff0c \u9700\u8981\u628a fd_set that listening \u62f7\u8d1d\u5230 kernel_status (\u5185\u6838\u6001) \u6bcf\u6b21 select \u8fd4\u56de\u7ed3\u679c\u540e\uff0c \u9700\u8981\u904d\u5386\u6587\u4ef6\u63cf\u8ff0\u7b26 \u5224\u65ad \u8bfb/\u5199 \u5185\u6838\u5bf9\u76d1\u63a7\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5408\u505a\u4e86\u9650\u5236\uff0c \u6700\u591a\u4e3a1024 \u4e0d\u53ef\u6539\u53d8","title":"select"},{"location":"Blog/Linux/Select%20Poll%20Epoll/#poll","text":"\u6539\u53d8\u4e86 fd_set \u7684\u8bb0\u5f55\u65b9\u5f0f\uff0c \u901a\u8fc7\u4e00\u4e2a pollfd \u6570\u7ec4\u5411\u5185\u6838\u4f20\u9012\u8981\u5173\u6ce8\u7684\u4e8b\u4ef6 \u7a81\u7834\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u9650\u5236","title":"poll"},{"location":"Blog/Linux/Select%20Poll%20Epoll/#epoll","text":"\u63d0\u4f9b3\u4e2a linux API \u6765\u5b9e\u73b0 \u901a\u8fc7 \u5f02\u6b65\u56de\u8c03 \u673a\u5236\u6765\u54cd\u5e94\u5c31\u7eea\u7684\u4e8b\u4ef6 \u5185\u6838\u4e8b\u4ef6\u6ce8\u518c\u8868\u91c7\u7528\u7ea2\u9ed1\u6811\uff0c\u63d2\u5165\u4e0e\u67e5\u8be2\u90fd\u662f \\(logN\\) ET \u4e0e LT \uff08\u8fb9\u7f18\u4e0e\u6c34\u5e73\u89e6\u53d1\uff09 LT: epoll_wait \u6bcf\u6b21\u68c0\u6d4b\u5230\u6587\u4ef6\u63cf\u8ff0\u7b26\u6539\u53d8\uff0c\u90fd\u4f1a\u5411\u7a0b\u5e8f\u53d1\u9001\u901a\u77e5\uff0c \u53ef\u4ee5\u4e0d\u7528 \u7acb\u5373\u5904\u7406 ET: epoll_wait \u65e0\u8bba\u5904\u7406\u4e0d\u5904\u7406 \u53ea\u901a\u77e5\u4e00\u6b21 ET \u6a21\u5f0f\u53ef\u4ee5\u51cf\u5c11 epoll_wait \u7684\u8c03\u7528","title":"epoll"},{"location":"Blog/Linux/netstat/","text":"netstat \u547d\u4ee4 \u00b6 \u67e5\u770b\u7aef\u53e3\u5360\u7528\u60c5\u51b5 \u00b6 Bash 1 2 3 4 5 6 netstat -tunlp | grep port -t ( tcp ) \u4ec5\u663e\u793atcp\u76f8\u5173\u9009\u9879 -u ( udp ) \u4ec5\u663e\u793audp\u76f8\u5173\u9009\u9879 -n \u62d2\u7edd\u663e\u793a\u522b\u540d\uff0c\u80fd\u663e\u793a\u6570\u5b57\u7684\u5168\u90e8\u8f6c\u5316\u4e3a\u6570\u5b57 -l \u4ec5\u5217\u51fa\u5728Listen ( \u76d1\u542c ) \u7684\u670d\u52a1\u72b6\u6001 -p \u663e\u793a\u5efa\u7acb\u76f8\u5173\u94fe\u63a5\u7684\u7a0b\u5e8f\u540d or Bash 1 lsof -i:port btw: On windows Text Only 1 2 netstat -ano | findstr \"port\" taskkill /f /t / /im task.exe","title":"netstat"},{"location":"Blog/Linux/netstat/#netstat","text":"","title":"netstat \u547d\u4ee4"},{"location":"Blog/Linux/netstat/#_1","text":"Bash 1 2 3 4 5 6 netstat -tunlp | grep port -t ( tcp ) \u4ec5\u663e\u793atcp\u76f8\u5173\u9009\u9879 -u ( udp ) \u4ec5\u663e\u793audp\u76f8\u5173\u9009\u9879 -n \u62d2\u7edd\u663e\u793a\u522b\u540d\uff0c\u80fd\u663e\u793a\u6570\u5b57\u7684\u5168\u90e8\u8f6c\u5316\u4e3a\u6570\u5b57 -l \u4ec5\u5217\u51fa\u5728Listen ( \u76d1\u542c ) \u7684\u670d\u52a1\u72b6\u6001 -p \u663e\u793a\u5efa\u7acb\u76f8\u5173\u94fe\u63a5\u7684\u7a0b\u5e8f\u540d or Bash 1 lsof -i:port btw: On windows Text Only 1 2 netstat -ano | findstr \"port\" taskkill /f /t / /im task.exe","title":"\u67e5\u770b\u7aef\u53e3\u5360\u7528\u60c5\u51b5"},{"location":"Blog/Linux/pacman%E9%97%AE%E9%A2%98/","text":"\u5b89\u88c5\u8f6f\u4ef6\u5305\u635f\u574f, File /bin/pacman/.pkg.python-pip is corrupted (invalid or corrupted package (PGP signature)).Do you want to delete it? [Y/n] \u66f4\u65b0\u5bc6\u5319 Bash 1 2 pacman-key --refresh-keys pacman -S archlinux-keyring \u66f4\u65b0\u6e90 Bash 1 pacman -Ssy","title":"Pacman\u95ee\u9898"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/","text":"tools set \u00b6 1. strace \u00b6 system call trace \u8bb0\u5f55\u7cfb\u7edf\u8c03\u7528\u8fc7\u7a0b Bash 1 2 3 4 5 strace ls system call history... -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6 -f \u5728\u53e6\u4e00\u4e2a\u7a97\u53e3\u4e2d\u6267\u884c 2. lsof \u00b6 list open file \u67e5\u770b\u6253\u5f00\u7684\u6587\u4ef6 Bash 1 2 -p \u6309\u8fdb\u7a0b\u53f7\u67e5\u770b\u6253\u5f00\u7684\u6587\u4ef6 -i \u7aef\u53e3 3. watch \u00b6 \u6301\u7eed\u6267\u884c\u547d\u4ee4 Bash 1 2 -t -n 1 \u81ea\u5236cpu\u4e3b\u9891 \u76d1\u63a7\u5668 Bash 1 watch -n 1 \"cat /proc/cpuinfo | grep MHz | awd '{print \\$1 NR \\$3 \\$4 \\$2}'\" \u6253\u5305\u7279\u5b9a\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7aef Bash 1 find . -name \"*.pdf\" | xargs tar cj > a. 4. thefuck \u00b6 \u547d\u4ee4\u884c\u7ea0\u9519 ```sh $ wrong cmd $ fuck ... Text Only 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ### 5. tmux - \u7ec8\u7aef\u5206\u5c4f\u590d\u7528\u8f6f\u4ef6 - \u5feb\u6377\u952e\u4e3a `ctrl-b` \u524d\u7f00 - \u4f7f\u7528 `C-b + ?` \u8fdb\u5165\u63d0\u793a\u83dc\u5355 - #### hot key - pane > - `Ctrl+b d`\uff1a\u5206\u79bb\u5f53\u524d\u4f1a\u8bdd\u3002 > - `Ctrl+b s`\uff1a\u5217\u51fa\u6240\u6709\u4f1a\u8bdd\u3002 > - `Ctrl+b $`\uff1a\u91cd\u547d\u540d\u5f53\u524d\u4f1a\u8bdd\u3002 > - `Ctrl+b %`\uff1a\u5212\u5206\u5de6\u53f3\u4e24\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b \"`\uff1a\u5212\u5206\u4e0a\u4e0b\u4e24\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b <arrow key>`\uff1a\u5149\u6807\u5207\u6362\u5230\u5176\u4ed6\u7a97\u683c\u3002`<arrow key>`\u662f\u6307\u5411\u8981\u5207\u6362\u5230\u7684\u7a97\u683c\u7684\u65b9\u5411\u952e\uff0c\u6bd4\u5982\u5207\u6362\u5230\u4e0b\u65b9\u7a97\u683c\uff0c\u5c31\u6309\u65b9\u5411\u952e`\u2193`\u3002 > - `Ctrl+b ;`\uff1a\u5149\u6807\u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b o`\uff1a\u5149\u6807\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b {`\uff1a\u5f53\u524d\u7a97\u683c\u4e0e\u4e0a\u4e00\u4e2a\u7a97\u683c\u4ea4\u6362\u4f4d\u7f6e\u3002 > - `Ctrl+b }`\uff1a\u5f53\u524d\u7a97\u683c\u4e0e\u4e0b\u4e00\u4e2a\u7a97\u683c\u4ea4\u6362\u4f4d\u7f6e\u3002 > - `Ctrl+b Ctrl+o`\uff1a\u6240\u6709\u7a97\u683c\u5411\u524d\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u7b2c\u4e00\u4e2a\u7a97\u683c\u53d8\u6210\u6700\u540e\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b Alt+o`\uff1a\u6240\u6709\u7a97\u683c\u5411\u540e\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u6700\u540e\u4e00\u4e2a\u7a97\u683c\u53d8\u6210\u7b2c\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b x`\uff1a\u5173\u95ed\u5f53\u524d\u7a97\u683c\u3002 > - `Ctrl+b !`\uff1a\u5c06\u5f53\u524d\u7a97\u683c\u62c6\u5206\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7a97\u53e3\u3002 > - `Ctrl+b z`\uff1a\u5f53\u524d\u7a97\u683c\u5168\u5c4f\u663e\u793a\uff0c\u518d\u4f7f\u7528\u4e00\u6b21\u4f1a\u53d8\u56de\u539f\u6765\u5927\u5c0f\u3002 > - `Ctrl+b Ctrl+<arrow key>`\uff1a\u6309\u7bad\u5934\u65b9\u5411\u8c03\u6574\u7a97\u683c\u5927\u5c0f\u3002 > - `Ctrl+b q`\uff1a\u663e\u793a\u7a97\u683c\u7f16\u53f7\u3002 - window > - `Ctrl+b c`\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u72b6\u6001\u680f\u4f1a\u663e\u793a\u591a\u4e2a\u7a97\u53e3\u7684\u4fe1\u606f\u3002 > - `Ctrl+b p`\uff1a\u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u7a97\u53e3\uff08\u6309\u7167\u72b6\u6001\u680f\u4e0a\u7684\u987a\u5e8f\uff09\u3002 > - `Ctrl+b n`\uff1a\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u53e3\u3002 > - `Ctrl+b <number>`\uff1a\u5207\u6362\u5230\u6307\u5b9a\u7f16\u53f7\u7684\u7a97\u53e3\uff0c\u5176\u4e2d\u7684`<number>`\u662f\u72b6\u6001\u680f\u4e0a\u7684\u7a97\u53e3\u7f16\u53f7\u3002 > - `Ctrl+b w`\uff1a\u4ece\u5217\u8868\u4e2d\u9009\u62e9\u7a97\u53e3\u3002 > - `Ctrl+b ,`\uff1a\u7a97\u53e3\u91cd\u547d\u540d\u3002 #### \u5e38\u7528\u6307\u4ee4 - \u4f1a\u8bdd\u7ba1\u7406 ```bash - \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56de\u8bdd tmux new -s <session-name> - \u8ba9\u5f53\u524d\u4f1a\u8bdd\u540e\u53f0\u8fd0\u884c C-b + d - \u67e5\u770b\u540e\u53f0\u7684\u7a97\u53e3 tmux ls - \u63a5\u5165\u4f1a\u8bdd tmux attach -t 0(\u7a97\u53e3\u53f7) tmux attach -t <session-name> - \u5207\u6362\u4f1a\u8bdd tmux switch -t 0 ... <session-name> - \u91cd\u547d\u540d\u4f1a\u8bdd tmux rename-session -t old(\u6570\u5b57\u4e5f\u53ef\u4ee5\u66f4\u540d) new - \u5206\u5c4f Bash 1 2 3 4 5 6 7 8 9 10 11 12 - \u4e0a\u4e0b\u5206\u5c4f tmux split-window - \u5de6\u53f3\u5206\u5c4f tmux split-window -h - \u5207\u6362focus tmux selsect-pane -U/D/L/R - \u4ea4\u6362pane\u987a\u5e8f tmux swap-pane -U # \u5f53\u524dpane\u4e0a\u79fb tmux swap-pane -D # \u5f53\u524dpane \u4e0b\u79fb - \u7a97\u53e3\u7ba1\u7406 Bash 1 2 3 4 5 6 7 8 - \u65b0\u5efa\u7a97\u53e3 tmux new-windows { -n <windows name> } - \u5207\u6362\u7a97\u53e3 tmux select -windows -t <number/name> - \u91cd\u547d\u540dcurrent\u7a97\u53e3 tmux rename-window <new-name>","title":"\u5de5\u5177\u5c0f\u96c6\u5408"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/#tools-set","text":"","title":"tools set"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/#1-strace","text":"system call trace \u8bb0\u5f55\u7cfb\u7edf\u8c03\u7528\u8fc7\u7a0b Bash 1 2 3 4 5 strace ls system call history... -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6 -f \u5728\u53e6\u4e00\u4e2a\u7a97\u53e3\u4e2d\u6267\u884c","title":"1. strace"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/#2-lsof","text":"list open file \u67e5\u770b\u6253\u5f00\u7684\u6587\u4ef6 Bash 1 2 -p \u6309\u8fdb\u7a0b\u53f7\u67e5\u770b\u6253\u5f00\u7684\u6587\u4ef6 -i \u7aef\u53e3","title":"2. lsof"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/#3-watch","text":"\u6301\u7eed\u6267\u884c\u547d\u4ee4 Bash 1 2 -t -n 1 \u81ea\u5236cpu\u4e3b\u9891 \u76d1\u63a7\u5668 Bash 1 watch -n 1 \"cat /proc/cpuinfo | grep MHz | awd '{print \\$1 NR \\$3 \\$4 \\$2}'\" \u6253\u5305\u7279\u5b9a\u6587\u4ef6\u4e0a\u4f20\u5230\u8fdc\u7aef Bash 1 find . -name \"*.pdf\" | xargs tar cj > a.","title":"3. watch"},{"location":"Blog/Linux/%E5%B7%A5%E5%85%B7%E5%B0%8F%E9%9B%86%E5%90%88/#4-thefuck","text":"\u547d\u4ee4\u884c\u7ea0\u9519 ```sh $ wrong cmd $ fuck ... Text Only 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 ### 5. tmux - \u7ec8\u7aef\u5206\u5c4f\u590d\u7528\u8f6f\u4ef6 - \u5feb\u6377\u952e\u4e3a `ctrl-b` \u524d\u7f00 - \u4f7f\u7528 `C-b + ?` \u8fdb\u5165\u63d0\u793a\u83dc\u5355 - #### hot key - pane > - `Ctrl+b d`\uff1a\u5206\u79bb\u5f53\u524d\u4f1a\u8bdd\u3002 > - `Ctrl+b s`\uff1a\u5217\u51fa\u6240\u6709\u4f1a\u8bdd\u3002 > - `Ctrl+b $`\uff1a\u91cd\u547d\u540d\u5f53\u524d\u4f1a\u8bdd\u3002 > - `Ctrl+b %`\uff1a\u5212\u5206\u5de6\u53f3\u4e24\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b \"`\uff1a\u5212\u5206\u4e0a\u4e0b\u4e24\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b <arrow key>`\uff1a\u5149\u6807\u5207\u6362\u5230\u5176\u4ed6\u7a97\u683c\u3002`<arrow key>`\u662f\u6307\u5411\u8981\u5207\u6362\u5230\u7684\u7a97\u683c\u7684\u65b9\u5411\u952e\uff0c\u6bd4\u5982\u5207\u6362\u5230\u4e0b\u65b9\u7a97\u683c\uff0c\u5c31\u6309\u65b9\u5411\u952e`\u2193`\u3002 > - `Ctrl+b ;`\uff1a\u5149\u6807\u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b o`\uff1a\u5149\u6807\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b {`\uff1a\u5f53\u524d\u7a97\u683c\u4e0e\u4e0a\u4e00\u4e2a\u7a97\u683c\u4ea4\u6362\u4f4d\u7f6e\u3002 > - `Ctrl+b }`\uff1a\u5f53\u524d\u7a97\u683c\u4e0e\u4e0b\u4e00\u4e2a\u7a97\u683c\u4ea4\u6362\u4f4d\u7f6e\u3002 > - `Ctrl+b Ctrl+o`\uff1a\u6240\u6709\u7a97\u683c\u5411\u524d\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u7b2c\u4e00\u4e2a\u7a97\u683c\u53d8\u6210\u6700\u540e\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b Alt+o`\uff1a\u6240\u6709\u7a97\u683c\u5411\u540e\u79fb\u52a8\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u6700\u540e\u4e00\u4e2a\u7a97\u683c\u53d8\u6210\u7b2c\u4e00\u4e2a\u7a97\u683c\u3002 > - `Ctrl+b x`\uff1a\u5173\u95ed\u5f53\u524d\u7a97\u683c\u3002 > - `Ctrl+b !`\uff1a\u5c06\u5f53\u524d\u7a97\u683c\u62c6\u5206\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7a97\u53e3\u3002 > - `Ctrl+b z`\uff1a\u5f53\u524d\u7a97\u683c\u5168\u5c4f\u663e\u793a\uff0c\u518d\u4f7f\u7528\u4e00\u6b21\u4f1a\u53d8\u56de\u539f\u6765\u5927\u5c0f\u3002 > - `Ctrl+b Ctrl+<arrow key>`\uff1a\u6309\u7bad\u5934\u65b9\u5411\u8c03\u6574\u7a97\u683c\u5927\u5c0f\u3002 > - `Ctrl+b q`\uff1a\u663e\u793a\u7a97\u683c\u7f16\u53f7\u3002 - window > - `Ctrl+b c`\uff1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u72b6\u6001\u680f\u4f1a\u663e\u793a\u591a\u4e2a\u7a97\u53e3\u7684\u4fe1\u606f\u3002 > - `Ctrl+b p`\uff1a\u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u7a97\u53e3\uff08\u6309\u7167\u72b6\u6001\u680f\u4e0a\u7684\u987a\u5e8f\uff09\u3002 > - `Ctrl+b n`\uff1a\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u53e3\u3002 > - `Ctrl+b <number>`\uff1a\u5207\u6362\u5230\u6307\u5b9a\u7f16\u53f7\u7684\u7a97\u53e3\uff0c\u5176\u4e2d\u7684`<number>`\u662f\u72b6\u6001\u680f\u4e0a\u7684\u7a97\u53e3\u7f16\u53f7\u3002 > - `Ctrl+b w`\uff1a\u4ece\u5217\u8868\u4e2d\u9009\u62e9\u7a97\u53e3\u3002 > - `Ctrl+b ,`\uff1a\u7a97\u53e3\u91cd\u547d\u540d\u3002 #### \u5e38\u7528\u6307\u4ee4 - \u4f1a\u8bdd\u7ba1\u7406 ```bash - \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u56de\u8bdd tmux new -s <session-name> - \u8ba9\u5f53\u524d\u4f1a\u8bdd\u540e\u53f0\u8fd0\u884c C-b + d - \u67e5\u770b\u540e\u53f0\u7684\u7a97\u53e3 tmux ls - \u63a5\u5165\u4f1a\u8bdd tmux attach -t 0(\u7a97\u53e3\u53f7) tmux attach -t <session-name> - \u5207\u6362\u4f1a\u8bdd tmux switch -t 0 ... <session-name> - \u91cd\u547d\u540d\u4f1a\u8bdd tmux rename-session -t old(\u6570\u5b57\u4e5f\u53ef\u4ee5\u66f4\u540d) new - \u5206\u5c4f Bash 1 2 3 4 5 6 7 8 9 10 11 12 - \u4e0a\u4e0b\u5206\u5c4f tmux split-window - \u5de6\u53f3\u5206\u5c4f tmux split-window -h - \u5207\u6362focus tmux selsect-pane -U/D/L/R - \u4ea4\u6362pane\u987a\u5e8f tmux swap-pane -U # \u5f53\u524dpane\u4e0a\u79fb tmux swap-pane -D # \u5f53\u524dpane \u4e0b\u79fb - \u7a97\u53e3\u7ba1\u7406 Bash 1 2 3 4 5 6 7 8 - \u65b0\u5efa\u7a97\u53e3 tmux new-windows { -n <windows name> } - \u5207\u6362\u7a97\u53e3 tmux select -windows -t <number/name> - \u91cd\u547d\u540dcurrent\u7a97\u53e3 tmux rename-window <new-name>","title":"4. thefuck"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/","text":"1. \u67e5\u770b\u5df2\u5b89\u88c5\u5e94\u7528 \u00b6 Different package-manager method \u00b6 dpkg Bash 1 dpkg-query -l apt Bash 1 apt list --installed snap Bash 1 snap list flatpak Text Only 1 flatpak list \u663e\u793a\u6700\u8fd1\u5b89\u88c5\u7684\u5305 \u00b6 Text Only 1 2 grep \" install \" /var/log/dpkg.log grep \" install \" /var/log/apt/history.log 2. tar \u6307\u4ee4 \u00b6 \u89e3\u538b.tar.gz \u6587\u4ef6 tar -zxvf filename \u89e3\u538b.gz\u6587\u4ef6 tar -xvf filename -C /path/to/extract (\u9700\u5148\u521b\u5efa) gunzip filename -d /path/to/extract 3. \u670d\u52a1\u7ba1\u7406 \u00b6 Debian \u4e3a\u4f8b \u00b6 run /etc/init.d/{service name} {option} \u5982: /etc/init.d/redis-service status systemctl {option} {service} \u5982\uff1a systemctl status network option: status start stop","title":"\u5e38\u5fd8\u6307\u4ee4"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#1","text":"","title":"1. \u67e5\u770b\u5df2\u5b89\u88c5\u5e94\u7528"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#different-package-manager-method","text":"dpkg Bash 1 dpkg-query -l apt Bash 1 apt list --installed snap Bash 1 snap list flatpak Text Only 1 flatpak list","title":"Different package-manager method"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#_1","text":"Text Only 1 2 grep \" install \" /var/log/dpkg.log grep \" install \" /var/log/apt/history.log","title":"\u663e\u793a\u6700\u8fd1\u5b89\u88c5\u7684\u5305"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#2-tar","text":"\u89e3\u538b.tar.gz \u6587\u4ef6 tar -zxvf filename \u89e3\u538b.gz\u6587\u4ef6 tar -xvf filename -C /path/to/extract (\u9700\u5148\u521b\u5efa) gunzip filename -d /path/to/extract","title":"2. tar \u6307\u4ee4"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#3","text":"","title":"3. \u670d\u52a1\u7ba1\u7406"},{"location":"Blog/Linux/%E5%B8%B8%E5%BF%98%E6%8C%87%E4%BB%A4/#debian","text":"run /etc/init.d/{service name} {option} \u5982: /etc/init.d/redis-service status systemctl {option} {service} \u5982\uff1a systemctl status network option: status start stop","title":"Debian \u4e3a\u4f8b"},{"location":"Blog/Linux/%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4/","text":"\u6307\u5b9a\u7528\u6237\u8fd0\u884c\u547d\u4ee4 \u00b6 Bash 1 sudo -u [ root ] command","title":"\u6307\u5b9a\u7528\u6237\u8fd0\u884c\u547d\u4ee4"},{"location":"Blog/Linux/%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4/#_1","text":"Bash 1 sudo -u [ root ] command","title":"\u6307\u5b9a\u7528\u6237\u8fd0\u884c\u547d\u4ee4"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/","text":"\u521b\u5efa\u65b0\u7528\u6237\u4e0e\u8d4b\u4e88\u6743\u9650 \u00b6 useradd \u6307\u4ee4 \u00b6 -c comment \u6307\u5b9a\u4e00\u6bb5\u6ce8\u91ca\u6027\u63cf\u8ff0\u3002 -d \u76ee\u5f55 \u6307\u5b9a\u7528\u6237\u4e3b\u76ee\u5f55\uff0c\u5982\u679c\u6b64\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u540c\u65f6\u4f7f\u7528-m\u9009\u9879\uff0c\u53ef\u4ee5\u521b\u5efa\u4e3b\u76ee\u5f55\u3002 -g \u7528\u6237\u7ec4 \u6307\u5b9a\u7528\u6237\u6240\u5c5e\u7684\u7528\u6237\u7ec4\u3002 -G \u7528\u6237\u7ec4\uff0c\u7528\u6237\u7ec4 \u6307\u5b9a\u7528\u6237\u6240\u5c5e\u7684\u9644\u52a0\u7ec4\u3002 -s Shell\u6587\u4ef6 \u6307\u5b9a\u7528\u6237\u7684\u767b\u5f55Shell\u3002 -u \u7528\u6237\u53f7 \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u53f7\uff0c\u5982\u679c\u540c\u65f6\u6709-o\u9009\u9879\uff0c\u5219\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u5176\u4ed6\u7528\u6237\u7684\u6807\u8bc6\u53f7 \u6dfb\u52a0\u7528\u6237 \u00b6 useradd -m \u7528\u6237\u540d -g root -s /bin/bash passwd+\u7528\u6237\u540d \u4fee\u6539\u5bc6\u7801 \u6587\u4ef6\u6743\u9650 \u00b6 \u6539\u53d8\u6587\u4ef6\u6240\u5c5e\u7528\u6237\u4e0e\u7ec4 \u00b6 Bash 1 chown -R user:group ** \u6dfb\u52a0\u6587\u4ef6\u6743\u9650 \u00b6 Bash 1 2 chmod +rwx ... chmod 0775 ... \u66f4\u6539\u7528\u6237\u540d\u3001\u76ee\u5f55\u3001ID \u00b6 Bash 1 2 3 usermod -l new old # \u66f4\u6539\u540d\u5b57 usermod -u 2000 name # \u66f4\u6539\u7528\u6237UID usermod -d /home/new -m old \u66f4\u6539\u7528\u6237\u7ec4 \u00b6 Bash 1 2 3 4 groupmod -n newgroup oldgroup # \u67e5\u770b id name \u6dfb\u52a0\u7528\u6237\u5230 sudo \u7ec4 \u00b6 1. \u4fee\u6539 suders file \u00b6 \u4f4d\u4e8e /etc/sudoers 2. \u4f7f\u7528\u547d\u4ee4 \u00b6 Bash 1 2 3 sudo usermod -a -G sudo <username> -a \u6240\u6709 configuration \u6587\u4ef6\u6539\u53d8 -G sudo \u6dfb\u52a0\u5230 sudo\u7ec4\u5185","title":"\u7528\u6237\u4e0e\u6743\u9650"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_1","text":"","title":"\u521b\u5efa\u65b0\u7528\u6237\u4e0e\u8d4b\u4e88\u6743\u9650"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#useradd","text":"-c comment \u6307\u5b9a\u4e00\u6bb5\u6ce8\u91ca\u6027\u63cf\u8ff0\u3002 -d \u76ee\u5f55 \u6307\u5b9a\u7528\u6237\u4e3b\u76ee\u5f55\uff0c\u5982\u679c\u6b64\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u540c\u65f6\u4f7f\u7528-m\u9009\u9879\uff0c\u53ef\u4ee5\u521b\u5efa\u4e3b\u76ee\u5f55\u3002 -g \u7528\u6237\u7ec4 \u6307\u5b9a\u7528\u6237\u6240\u5c5e\u7684\u7528\u6237\u7ec4\u3002 -G \u7528\u6237\u7ec4\uff0c\u7528\u6237\u7ec4 \u6307\u5b9a\u7528\u6237\u6240\u5c5e\u7684\u9644\u52a0\u7ec4\u3002 -s Shell\u6587\u4ef6 \u6307\u5b9a\u7528\u6237\u7684\u767b\u5f55Shell\u3002 -u \u7528\u6237\u53f7 \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u53f7\uff0c\u5982\u679c\u540c\u65f6\u6709-o\u9009\u9879\uff0c\u5219\u53ef\u4ee5\u91cd\u590d\u4f7f\u7528\u5176\u4ed6\u7528\u6237\u7684\u6807\u8bc6\u53f7","title":"useradd \u6307\u4ee4"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_2","text":"useradd -m \u7528\u6237\u540d -g root -s /bin/bash passwd+\u7528\u6237\u540d \u4fee\u6539\u5bc6\u7801","title":"\u6dfb\u52a0\u7528\u6237"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_3","text":"","title":"\u6587\u4ef6\u6743\u9650"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_4","text":"Bash 1 chown -R user:group **","title":"\u6539\u53d8\u6587\u4ef6\u6240\u5c5e\u7528\u6237\u4e0e\u7ec4"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_5","text":"Bash 1 2 chmod +rwx ... chmod 0775 ...","title":"\u6dfb\u52a0\u6587\u4ef6\u6743\u9650"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#id","text":"Bash 1 2 3 usermod -l new old # \u66f4\u6539\u540d\u5b57 usermod -u 2000 name # \u66f4\u6539\u7528\u6237UID usermod -d /home/new -m old","title":"\u66f4\u6539\u7528\u6237\u540d\u3001\u76ee\u5f55\u3001ID"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#_6","text":"Bash 1 2 3 4 groupmod -n newgroup oldgroup # \u67e5\u770b id name","title":"\u66f4\u6539\u7528\u6237\u7ec4"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#sudo","text":"","title":"\u6dfb\u52a0\u7528\u6237\u5230 sudo \u7ec4"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#1-suders-file","text":"\u4f4d\u4e8e /etc/sudoers","title":"1. \u4fee\u6539 suders file"},{"location":"Blog/Linux/%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9D%83%E9%99%90/#2","text":"Bash 1 2 3 sudo usermod -a -G sudo <username> -a \u6240\u6709 configuration \u6587\u4ef6\u6539\u53d8 -G sudo \u6dfb\u52a0\u5230 sudo\u7ec4\u5185","title":"2. \u4f7f\u7528\u547d\u4ee4"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/","text":"\u83b7\u53d6Linux\u7248\u672c\u4fe1\u606f \u00b6 \u67e5\u770b linux \u5185\u6838\u7248\u672c \u00b6 Bash 1 2 3 4 1 . cat /proc/version 2 . uname -a \u67e5\u770blinux \u7cfb\u7edf\u7248\u672c \u00b6 Bash 1 2 3 4 5 6 7 8 9 1 . apt install lsb-release lsb_release -a 2 . cat /etc/redhat-release // \u8fd9\u79cd\u65b9\u6cd5\u9002\u7528\u4e8eRedhat\u7cfb\u5217 3 . cat /etc/issue 4 . hostnamectl \u67e5\u770bdebian\u7248\u672c \u00b6 Bash 1 2 3 cat /etc/debian_version cat /etc/os-release \u67e5\u770b\u5185\u6838\u64cd\u4f5c\u7cfb\u7edf\u4f4d\u6570 \u00b6 Bash 1 2 uname -a getconfig LONG_BIT","title":"\u83b7\u53d6Linux\u7248\u672c\u4fe1\u606f"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/#linux","text":"","title":"\u83b7\u53d6Linux\u7248\u672c\u4fe1\u606f"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/#linux_1","text":"Bash 1 2 3 4 1 . cat /proc/version 2 . uname -a","title":"\u67e5\u770b linux \u5185\u6838\u7248\u672c"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/#linux_2","text":"Bash 1 2 3 4 5 6 7 8 9 1 . apt install lsb-release lsb_release -a 2 . cat /etc/redhat-release // \u8fd9\u79cd\u65b9\u6cd5\u9002\u7528\u4e8eRedhat\u7cfb\u5217 3 . cat /etc/issue 4 . hostnamectl","title":"\u67e5\u770blinux \u7cfb\u7edf\u7248\u672c"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/#debian","text":"Bash 1 2 3 cat /etc/debian_version cat /etc/os-release","title":"\u67e5\u770bdebian\u7248\u672c"},{"location":"Blog/Linux/%E8%8E%B7%E5%8F%96Linux%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF/#_1","text":"Bash 1 2 uname -a getconfig LONG_BIT","title":"\u67e5\u770b\u5185\u6838\u64cd\u4f5c\u7cfb\u7edf\u4f4d\u6570"},{"location":"Blog/Linux/WSL/WSL2%E7%9A%84%E6%96%87%E4%BB%B6IO%E6%95%88%E7%8E%87%E4%BD%8E%E4%B8%8B/","text":"WSL2 \u7684\u6587\u4ef6 I/O \u6548\u7387\u8fc7\u4f4e\u95ee\u9898 \u00b6 1. \u524d\u8a00 \u00b6 \u7cfb\u7edf\u73af\u5883: - windows 11 - wsl2 - archlinux-wsl - i5-9400h \u6700\u8fd1\u4f7f\u7528 vscode \u8fdc\u7a0b\u8fde\u63a5 wsl2 \u8fdb\u884c \u5de5\u7a0b\u9879\u76ee \u5f00\u53d1\uff0c\u4f7f\u7528 clangd \u63d2\u4ef6\u8fdb\u884c\u8bed\u6cd5\u68c0\u6d4b\u4e0e\u8865\u5168\u3002\u4f46\u662f\u5728\u8865\u5168\u65f6\u5019\u53d1\u73b0\u4e86\u6709\u660e\u663e\u7684\u8fdf\u949d\uff0c\u5728\u8f93\u5165\u5b57\u7b26\u540e\uff0c\u5177\u6709\u4e24\u79d2\u5de6\u53f3\u7684\u5ef6\u8fdf\u3002 \u636e\u4e86\u89e3\u662f wsl2 \u91c7\u7528\u4e86 Hyper-v \u6280\u672f \u4ee5\u66f4\u6df1\u7a0b\u5ea6\u7684\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u66f4\u5b8c\u6574\u7684linux\u5185\u6838\uff0c\u4f46\u662f\u9020\u6210\u4e86\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4 I/O \u7684\u95ee\u9898: \u901a\u5e38\u4f7f\u7528 wsl \u6765\u5f53\u4f5c\u5f00\u53d1\u4e0e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e0d\u4f1a\u8981\u6c42\u592a\u9ad8\u7684\u6027\u80fd\u3002\u4f46\u662f\u5bf9\u4e8e\u4f7f\u7528 vscode \u8fdc\u7a0b\u8fde\u63a5\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\u9020\u6210\u4e86\u975e\u5e38\u4e0d\u597d\u7684\u4f53\u9a8c\u3002 2. \u65b9\u6848\u6bd4\u9009 \u00b6 wsl1 \u62e5\u6709\u8de8\u6587\u4ef6\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u4e8e\u662f\u5bf9\u51e0\u79cd\u65b9\u6848\u7684\u7ed3\u679c\u505a\u4e86\u5bf9\u6bd4\uff0c\u4ee5 clangd \u63d2\u4ef6\u7684 log \u8f93\u51fa\u4e2d\u7684 reply:textDocument/codeAction \u8c03\u7528\u8fd4\u56de\u5ef6\u8fdf\u4e3a\u4f8b: wsl2 \u5ef6\u8fdf\u5728 1900~2500 ms \u4e4b\u95f4\uff0c\u4e24\u79d2\u5de6\u53f3\u7684\u5ef6\u8fdf \u76f4\u63a5\u8bbf\u95ee \\\\wsl$ \u8fdb\u884c\u64cd\u4f5c \u5ef6\u8fdf\u5728 900~1100ms \u4e4b\u95f4, \u4f46\u662f\u63d2\u4ef6\u8fd0\u884c\u73af\u5883\u73af\u5883\u4e3aWindows, \u65e0\u6cd5\u8865\u5168 unix \u7cfb\u7edf\u4e2d\u7684\u5e93 \u8f6c\u6362\u4e3a wsl1 \u540e \u5ef6\u8fdf\u5728 100~200 ms \u4e4b\u95f4\uff0c\u5bf9\u6bd4 wsl2 \u6027\u80fd\u6709\u5dee\u4e0d\u591a10\u500d\u591a\u7684\u63d0\u5347\uff0c\u8865\u5168\u51e0\u4e4e\u611f\u89c9\u4e0d\u5230\u5361\u987f, 3. \u5982\u4f55\u5207\u6362\u5207\u6362 wsl \u7684\u7248\u672c \u00b6 \u67e5\u770b\u5f53\u524dwsl\u7248\u672c Bash 1 $ wsl -l --verbose \u5207\u6362\u5b50\u7cfb\u7edf\u7684 wsl \u7248\u672c\u4e3a 1 Bash 1 2 # wsl --set-version <distribute> <version> $ wsl --set-version arch 1 \u968f\u540e\uff0c\u4f1a\u6d88\u8017\u4e00\u5b9a\u65f6\u95f4\u6765\u8fdb\u884c\u7248\u672c\u8f6c\u6362\uff0c\u6210\u529f\u540e\u5c31\u80fd\u53d1\u73b0\u663e\u8457\u7684 I/O \u6027\u80fd\u7684\u63d0\u5347\u4e86","title":"WSL2\u7684\u6587\u4ef6IO\u6548\u7387\u4f4e\u4e0b"},{"location":"Blog/Linux/WSL/WSL2%E7%9A%84%E6%96%87%E4%BB%B6IO%E6%95%88%E7%8E%87%E4%BD%8E%E4%B8%8B/#wsl2-io","text":"","title":"WSL2 \u7684\u6587\u4ef6 I/O \u6548\u7387\u8fc7\u4f4e\u95ee\u9898"},{"location":"Blog/Linux/WSL/WSL2%E7%9A%84%E6%96%87%E4%BB%B6IO%E6%95%88%E7%8E%87%E4%BD%8E%E4%B8%8B/#1","text":"\u7cfb\u7edf\u73af\u5883: - windows 11 - wsl2 - archlinux-wsl - i5-9400h \u6700\u8fd1\u4f7f\u7528 vscode \u8fdc\u7a0b\u8fde\u63a5 wsl2 \u8fdb\u884c \u5de5\u7a0b\u9879\u76ee \u5f00\u53d1\uff0c\u4f7f\u7528 clangd \u63d2\u4ef6\u8fdb\u884c\u8bed\u6cd5\u68c0\u6d4b\u4e0e\u8865\u5168\u3002\u4f46\u662f\u5728\u8865\u5168\u65f6\u5019\u53d1\u73b0\u4e86\u6709\u660e\u663e\u7684\u8fdf\u949d\uff0c\u5728\u8f93\u5165\u5b57\u7b26\u540e\uff0c\u5177\u6709\u4e24\u79d2\u5de6\u53f3\u7684\u5ef6\u8fdf\u3002 \u636e\u4e86\u89e3\u662f wsl2 \u91c7\u7528\u4e86 Hyper-v \u6280\u672f \u4ee5\u66f4\u6df1\u7a0b\u5ea6\u7684\u865a\u62df\u5316\u63d0\u4f9b\u4e86\u66f4\u5b8c\u6574\u7684linux\u5185\u6838\uff0c\u4f46\u662f\u9020\u6210\u4e86\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4 I/O \u7684\u95ee\u9898: \u901a\u5e38\u4f7f\u7528 wsl \u6765\u5f53\u4f5c\u5f00\u53d1\u4e0e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e0d\u4f1a\u8981\u6c42\u592a\u9ad8\u7684\u6027\u80fd\u3002\u4f46\u662f\u5bf9\u4e8e\u4f7f\u7528 vscode \u8fdc\u7a0b\u8fde\u63a5\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\u9020\u6210\u4e86\u975e\u5e38\u4e0d\u597d\u7684\u4f53\u9a8c\u3002","title":"1. \u524d\u8a00"},{"location":"Blog/Linux/WSL/WSL2%E7%9A%84%E6%96%87%E4%BB%B6IO%E6%95%88%E7%8E%87%E4%BD%8E%E4%B8%8B/#2","text":"wsl1 \u62e5\u6709\u8de8\u6587\u4ef6\u7cfb\u7edf\u7684\u6027\u80fd\uff0c\u4e8e\u662f\u5bf9\u51e0\u79cd\u65b9\u6848\u7684\u7ed3\u679c\u505a\u4e86\u5bf9\u6bd4\uff0c\u4ee5 clangd \u63d2\u4ef6\u7684 log \u8f93\u51fa\u4e2d\u7684 reply:textDocument/codeAction \u8c03\u7528\u8fd4\u56de\u5ef6\u8fdf\u4e3a\u4f8b: wsl2 \u5ef6\u8fdf\u5728 1900~2500 ms \u4e4b\u95f4\uff0c\u4e24\u79d2\u5de6\u53f3\u7684\u5ef6\u8fdf \u76f4\u63a5\u8bbf\u95ee \\\\wsl$ \u8fdb\u884c\u64cd\u4f5c \u5ef6\u8fdf\u5728 900~1100ms \u4e4b\u95f4, \u4f46\u662f\u63d2\u4ef6\u8fd0\u884c\u73af\u5883\u73af\u5883\u4e3aWindows, \u65e0\u6cd5\u8865\u5168 unix \u7cfb\u7edf\u4e2d\u7684\u5e93 \u8f6c\u6362\u4e3a wsl1 \u540e \u5ef6\u8fdf\u5728 100~200 ms \u4e4b\u95f4\uff0c\u5bf9\u6bd4 wsl2 \u6027\u80fd\u6709\u5dee\u4e0d\u591a10\u500d\u591a\u7684\u63d0\u5347\uff0c\u8865\u5168\u51e0\u4e4e\u611f\u89c9\u4e0d\u5230\u5361\u987f,","title":"2. \u65b9\u6848\u6bd4\u9009"},{"location":"Blog/Linux/WSL/WSL2%E7%9A%84%E6%96%87%E4%BB%B6IO%E6%95%88%E7%8E%87%E4%BD%8E%E4%B8%8B/#3-wsl","text":"\u67e5\u770b\u5f53\u524dwsl\u7248\u672c Bash 1 $ wsl -l --verbose \u5207\u6362\u5b50\u7cfb\u7edf\u7684 wsl \u7248\u672c\u4e3a 1 Bash 1 2 # wsl --set-version <distribute> <version> $ wsl --set-version arch 1 \u968f\u540e\uff0c\u4f1a\u6d88\u8017\u4e00\u5b9a\u65f6\u95f4\u6765\u8fdb\u884c\u7248\u672c\u8f6c\u6362\uff0c\u6210\u529f\u540e\u5c31\u80fd\u53d1\u73b0\u663e\u8457\u7684 I/O \u6027\u80fd\u7684\u63d0\u5347\u4e86","title":"3. \u5982\u4f55\u5207\u6362\u5207\u6362 wsl \u7684\u7248\u672c"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/","text":"WSL\u753b\u9762\u56fe\u50cf\u6620\u5c04 \u00b6 \u53c2\u8003:https://www.cxyzjd.com/article/qq_41932665/108459723 \u7cfb\u7edf\u73af\u5883: - wsl2 - archlinux 1. \u5728windows\u4e0a\u5b89\u88c5 VcXrsc Serve \u00b6 source forge \u5730\u5740:https://sourceforge.net/projects/vcxsrvo/ \u5b89\u88c5\u53c2\u8003: https://zhuanlan.zhihu.com/p/150555651 2. \u5728arch\u4e0a\u5b89\u88c5xfce4, \u548cxorg \u00b6 Bash 1 2 pacman -Sy xfce4 xfce4-terminal pacman -S xorg 3. \u6dfb\u52a0 DISPLAY \u73af\u5883\u53d8\u91cf \u00b6 \u67e5\u770bwsl2\u7684\u865a\u62df\u7f51\u5361\u5730\u5740 \u00b6 Bash 1 2 3 4 $ vim /etc/resolv.conf \u53bb\u6389\u4e0b\u9762\u7684generateResolvConf \u7684\u6ce8\u91ca\uff0c\u7981\u6b62\u5730\u5740\u91cd\u65b0\u751f\u6210\u6539\u53d8 # generateResolvConf = false nameserver 172 .1.2.3\uff08\u7f51\u5361\u5730\u5740 ) \u6216\u8005\u5728windows\u4e0a\u67e5\u770b\u540e\u7f00\u4e3awsl\u7684\u7f51\u5361 ipv4 \u5730\u5740 Text Only 1 $ ipconfig \u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf \u00b6 Bash 1 export DISPLAY = 172 .1.2.3:0 #\u6620\u5c04\u5230\u7aef\u53e30 \u53ef\u6dfb\u52a0\u5230 ~/.bashrc \u4e0b 4. \u6dfb\u52a0 DBUS_SESSION_BUS_ADDRES \u5730\u5740 \u00b6 bus-daemon\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b\uff0c\u8d1f\u8d23\u6d88\u606f\u7684\u8f6c\u53d1\u3002\u5b83\u5c31\u50cf\u4e2a\u8def\u7531\u5668\u3002\u6700\u5e38\u89c1\u7684\u57fa\u4e8edbus\u7684\u7a0b\u5e8f\u4e5f\u662f\u7b26\u5408C/S\u7ed3\u6784\u7684\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/jack0106/article/details/5588057 \u4e00\u822c\u662f\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u7684\uff0c\u4f46\u5728\u542f\u52a8 xfce4 \u51fa\u73b0\u4e86\u6ca1\u6709 DBUS address \u7684\u95ee\u9898 \u521b\u5efa\u4e00\u4e2a debus-daemon Bash 1 2 $ DBUS_VERBOSE = 1 dbus-daemon --session --print-address unix:abstract = /tmp/dbus-OwZraZmBSp,guid = 002b36d66dc7930137742f3a631e27fd \u5c06\u6253\u5370\u51fa\u7684ip\u4fe1\u606f\u6620\u5c04\u5230\u73af\u5883\u53d8\u91cf\uff08\u540c\u4e0a) Bash 1 export DBUS_SESSION_BUS_ADDRESS = unix:abstract = /tmp/dbus-OwZraZmBSp,guid = 002b36d66dc7930137742f3a631e27fd 5. \u542f\u52a8 \u00b6 \u5728windows\u4e0a\u8fd0\u884c XLaunch . 1 \u5728windows\u4e0a\u5b89\u88c5 VcXrsc Serve \u542f\u52a8xfce4 Bash 1 $ startxfce4","title":"WSL\u753b\u9762\u56fe\u5f62\u6620\u5c04"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#wsl","text":"\u53c2\u8003:https://www.cxyzjd.com/article/qq_41932665/108459723 \u7cfb\u7edf\u73af\u5883: - wsl2 - archlinux","title":"WSL\u753b\u9762\u56fe\u50cf\u6620\u5c04"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#1-windowsvcxrsc-serve","text":"source forge \u5730\u5740:https://sourceforge.net/projects/vcxsrvo/ \u5b89\u88c5\u53c2\u8003: https://zhuanlan.zhihu.com/p/150555651","title":"1. \u5728windows\u4e0a\u5b89\u88c5VcXrsc Serve"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#2-archxfce4-xorg","text":"Bash 1 2 pacman -Sy xfce4 xfce4-terminal pacman -S xorg","title":"2.  \u5728arch\u4e0a\u5b89\u88c5xfce4, \u548cxorg"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#3-display","text":"","title":"3. \u6dfb\u52a0 DISPLAY \u73af\u5883\u53d8\u91cf"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#wsl2","text":"Bash 1 2 3 4 $ vim /etc/resolv.conf \u53bb\u6389\u4e0b\u9762\u7684generateResolvConf \u7684\u6ce8\u91ca\uff0c\u7981\u6b62\u5730\u5740\u91cd\u65b0\u751f\u6210\u6539\u53d8 # generateResolvConf = false nameserver 172 .1.2.3\uff08\u7f51\u5361\u5730\u5740 ) \u6216\u8005\u5728windows\u4e0a\u67e5\u770b\u540e\u7f00\u4e3awsl\u7684\u7f51\u5361 ipv4 \u5730\u5740 Text Only 1 $ ipconfig","title":"\u67e5\u770bwsl2\u7684\u865a\u62df\u7f51\u5361\u5730\u5740"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#_1","text":"Bash 1 export DISPLAY = 172 .1.2.3:0 #\u6620\u5c04\u5230\u7aef\u53e30 \u53ef\u6dfb\u52a0\u5230 ~/.bashrc \u4e0b","title":"\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#4-dbus_session_bus_addres","text":"bus-daemon\u662f\u4e00\u4e2a\u540e\u53f0\u8fdb\u7a0b\uff0c\u8d1f\u8d23\u6d88\u606f\u7684\u8f6c\u53d1\u3002\u5b83\u5c31\u50cf\u4e2a\u8def\u7531\u5668\u3002\u6700\u5e38\u89c1\u7684\u57fa\u4e8edbus\u7684\u7a0b\u5e8f\u4e5f\u662f\u7b26\u5408C/S\u7ed3\u6784\u7684\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/jack0106/article/details/5588057 \u4e00\u822c\u662f\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\u7684\uff0c\u4f46\u5728\u542f\u52a8 xfce4 \u51fa\u73b0\u4e86\u6ca1\u6709 DBUS address \u7684\u95ee\u9898 \u521b\u5efa\u4e00\u4e2a debus-daemon Bash 1 2 $ DBUS_VERBOSE = 1 dbus-daemon --session --print-address unix:abstract = /tmp/dbus-OwZraZmBSp,guid = 002b36d66dc7930137742f3a631e27fd \u5c06\u6253\u5370\u51fa\u7684ip\u4fe1\u606f\u6620\u5c04\u5230\u73af\u5883\u53d8\u91cf\uff08\u540c\u4e0a) Bash 1 export DBUS_SESSION_BUS_ADDRESS = unix:abstract = /tmp/dbus-OwZraZmBSp,guid = 002b36d66dc7930137742f3a631e27fd","title":"4. \u6dfb\u52a0 DBUS_SESSION_BUS_ADDRES \u5730\u5740"},{"location":"Blog/Linux/WSL/WSL%E7%94%BB%E9%9D%A2%E5%9B%BE%E5%BD%A2%E6%98%A0%E5%B0%84/#5","text":"\u5728windows\u4e0a\u8fd0\u884c XLaunch . 1 \u5728windows\u4e0a\u5b89\u88c5 VcXrsc Serve \u542f\u52a8xfce4 Bash 1 $ startxfce4","title":"5. \u542f\u52a8"},{"location":"Blog/Luanix-OS/Untitled/","text":"1. \u6784\u5efa\u7f16\u8bd1\u5de5\u5177\u94fe \u00b6 https://github.com/Minep/lunaix-os#appendix2 2. First make \u00b6 multiboot.h --> boot.S kernel.c tty.h --> tty.c \u81ea\u5b9a\u4e49 connector (link.ld) --> make sure multiboot in specific __ position. patsubst \u66ff\u6362\u6587\u4ef6\u540e\u7f00 $(patsubst src, dest, file_list) add makefile GRUB_TEMPLATE config-grub.sh first make ld: cannot fint -lc and crt0.o // TODO","title":"Untitled"},{"location":"Blog/Luanix-OS/Untitled/#1","text":"https://github.com/Minep/lunaix-os#appendix2","title":"1. \u6784\u5efa\u7f16\u8bd1\u5de5\u5177\u94fe"},{"location":"Blog/Luanix-OS/Untitled/#2-first-make","text":"multiboot.h --> boot.S kernel.c tty.h --> tty.c \u81ea\u5b9a\u4e49 connector (link.ld) --> make sure multiboot in specific __ position. patsubst \u66ff\u6362\u6587\u4ef6\u540e\u7f00 $(patsubst src, dest, file_list) add makefile GRUB_TEMPLATE config-grub.sh first make ld: cannot fint -lc and crt0.o // TODO","title":"2. First make"},{"location":"Blog/Math/Linear%20Algebra/1.%E8%A1%8C%E5%88%97%E5%BC%8F/","text":"\u884c\u5217\u5f0f \u77e9\u9635 \u5411\u91cf \u65b9\u7a0b\u7ec4 \u7279\u5f81\u503c \u4e8c\u6b21\u578b \u884c\u5217\u5f0f\u6027\u8d28 Swap between 2 row(col), change flag(+/-) \u8f6c\u7f6e\u540e\u76f8\u7b49 If 2 col(row) equal, matrix = 0 \u628a\u4e00\u884c(\u5217)\u7684\u500d\u6570\u52a0\u5230\u53e6\u4e00\u884c\uff08\u5217\uff09\u4e0a\uff0c\u65e0\u5f71\u54cd \u5c55\u5f00\u516c\u5f0f \u884c\u5217\u5f0f\u67d0\u4e00\u884c\u7684\u6bcf\u4e00\u4e2a \\(a_{n_1a}\\) \u4e0e\u5176\u4ed6\u884c\u76f8\u5e94\u7684 \\(a_{n_2a}\\) \u7684\u4e58\u79ef\u7684\u548c\u76f8\u52a0\u7b49\u4e8e0 \\(a_{11}A_{n1}+a_{12}A_{n2}+...+a_{1n}A_{nn}=0\\) \u91cd\u8981\u516c\u5f0f","title":"1.\u884c\u5217\u5f0f"},{"location":"Blog/Python/STDIO/","text":"Standard I/O Python 1 2 3 4 5 6 improt sys print () sys . stdin . read () #\u8bfb\u53d6\u6240\u6709 sys . stdin . readline () List Tuple Dict \u00b6 \u5217\u8868 \u5143\u7ec4 \u5b57\u5178 \u6570\u7ec4 \u7ed3\u6784\u4f53\u503c \u952e\u503c\u5bf9\u7ec4","title":"STDIO"},{"location":"Blog/Python/STDIO/#list-tuple-dict","text":"\u5217\u8868 \u5143\u7ec4 \u5b57\u5178 \u6570\u7ec4 \u7ed3\u6784\u4f53\u503c \u952e\u503c\u5bf9\u7ec4","title":"List Tuple Dict"},{"location":"Blog/Python/%E7%88%AC%E8%99%AB/Untitled/","text":"\u6d4f\u89c8\u5668\u6293\u5305\u5de5\u5177 F12 network \u4e2d","title":"Untitled"},{"location":"Blog/QT/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E4%BF%A1%E5%8F%B7%E6%A7%BD/","text":"Create a top class Object \u5b9e\u73b0\u7c7b\u5916 Connect() \u53cb\u5143\u51fd\u6570 C++ 1 2 3 4 5 6 friend void connect ( Object * sender , int signal , Object * receiver , int slotId ); \u8c03\u7528 connect \u5728 \u5168\u5c40map\u4e2d \u4fdd\u5b58 signal \u548c target \u7684 Obj \u548c slot_Id \u539f\u7406 \u5728 Object \u4e2d\u7528\u4e00\u4e2a \u7c7bmulti_map \u4e2d\u5b58\u653e \u952e\u503c\u53ef\u91cd\u590d \u7684map: mult_map<int signal,< Object* receiver, int>> connections \u5b9a\u4e49 \u53cb\u5143 trigger/active() \u51fd\u6570 C++ 1 2 3 4 5 6 friend void trigger ( Object * sender , int signal ){ sender . connections . find ( signal ) ; for ( auto one : signal ){ one -> receiver -> callback ( sender , one -> slot ); } } \u5728\u5176\u4e2d\u8c03\u7528\u8fd9\u4e2a\u4fe1\u53f7\u6240\u6709\u94fe\u63a5\u4e86\u7684\u5bf9\u8c61\u8fdb\u884c\u56de\u8c03 \u5728 Object \u4e2d\u5b9a\u4e49 \u5fc5\u987b\u5b9e\u73b0\u7684\u7eaf\u865a\u51fd\u6570 void callback(Object* sender,int slotId)=0; \u8ba9\u6240\u6709\u9700\u8981\u4fe1\u53f7\u69fd\u7684\u51fd\u6570\u5b9e\u73b0 \u56de\u8c03\u51fd\u6570\u4e2d\uff0c switch (slotId) \u6765\u8c03\u7528\u7c7b\u5185\u81ea\u5b9a\u4e49\u7684\u69fd\u51fd\u6570","title":"\u5b9e\u73b0\u4e00\u4e2a\u4fe1\u53f7\u69fd"},{"location":"Blog/Shell/Bash/Bash-lang/","text":"Bash SHELL \u8bed\u8a00\u811a\u672c \u00b6 \u5e38\u7528\u547d\u4ee4 \u00b6 1. history \u547d\u4ee4 \u00b6 Bash 1 2 3 4 5 6 \u67e5\u770b\u5386\u53f2\u547d\u4ee4 - c \u6e05\u7a7a\u8bb0\u5f55 - r \u6062\u590d\u5386\u53f2\u547d\u4ee4 !+\u5386\u53f2ID : \u5feb\u901f\u6267\u884c\u5386\u53f2\u547d\u4ee4 \uff01! : \u6267\u884c\u4e0a\u4e00\u6b21\u547d\u4ee4 2. ps \u547d\u4ee4 \u00b6 Bash 1 2 3 -f : \u663e\u793a pid,uid,ppid -e : \u5217\u51fa\u6240\u6709\u8fdb\u7a0b\u4fe1\u606f\uff0c\u5982\u540c -a --forest 3. \u5185\u7f6e\u547d\u4ee4\u4e0e\u5916\u7f6e\u547d\u4ee4 \u00b6 \u4f7f\u7528 type command \u67e5\u770b \u5185\u7f6e\u547d\u4ee4\uff1a\u7cfb\u7edf\u542f\u52a8\u65f6\u8f7d\u5165\u5185\u5b58\uff0c\u6548\u7387\u9ad8\uff0c\u5360\u7528\u8d44\u6e90\uff08cd\uff09 \u5916\u90e8\u547d\u4ee4\uff1a\u9700\u8981\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\uff0c\u8f7d\u5165\u5185\u5b58(ps,vim) \u5185\u7f6e\u547d\u4ee4\u4e0d\u4f1a\u521b\u5efa\u5b50\u8fdb\u7a0b\u6267\u884c\uff0c\u548cshell\u662f\u4e00\u4f53\u7684 4. who \u547d\u4ee4 \u00b6 \u67e5\u770b\u6709\u54ea\u4e9b\u7528\u6237\u767b\u5f55\u4e86\u7cfb\u7edf 5. netstat \u00b6 Bash 1 netstat -ano | findstr 8080 #\u67e5\u770b\u7aef\u53e3\u662f\u5426\u88ab\u4f7f\u7528 \u53d8\u91cf \u00b6 a=1 \u8d4b\u503c\u4e2d\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c \u4f5c\u7528\u57df \u7236shell \u4e0d\u80fd\u4f20 \u53d8\u91cf \u7ed9 \u5b50shell\uff0c\u4e00\u822c\u5b9a\u4e49\u7684\u90fd\u662f\u5c40\u90e8\u53d8\u91cf \u73af\u5883\u53d8\u91cf\u662f\u5168\u5c40\u7684 \u7279\u6b8a\u53d8\u91cf $? 0-255 \u8fd4\u56de\u4e0a\u4e00\u6b21\u64cd\u4f5c\u7684\u72b6\u6001\u7801 \u5355\u53cc\u5f15\u53f7\u533a\u522b\uff1a \u5355\u5f15\u53f7\u53d8\u91cf\uff0c\u4e0d\u80fd\u8bc6\u522b\u7279\u6b8a\u8bed\u6cd5 \u53cc\u5f15\u53f7\u53d8\u91cf\uff0c\u53ef\u4ee5\u8bc6\u522b Bash 1 2 3 4 5 var = 123 var2 = '${var}' var3 = \" ${ var } \" ehco $var2 # ${var} ehco $var3 # 123 \u4e0d\u540c\u7684shell \u4f7f\u7528\u4e0d\u540c\u53d8\u91cf\uff0c \u6bcf\u6b21\u8c03\u7528bash file \u90fd\u4f1a\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u5b50shell\uff0c \u53d8\u91cf\u4e0d\u4f1a\u4fdd\u5b58\u5230\u5f53\u524dshell\u4e2d \u4f7f\u7528 source \u6216 . \u6267\u884c \u662f\u5728\u5f53\u524d\u73af\u5883\u52a0\u8f7d\u811a\u672c\uff0c\u4fdd\u7559\u53d8\u91cf 1. \u53cd\u5f15\u53f7 \u00b6 \u8ba9\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4fdd\u7559\u4e0b\u6765 Bash 1 2 lsf = ` ls ` echo $lsf 2. \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e \u00b6 ~/.bash_profile \u7528\u6237\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6 ~/.bashrc \u8fdc\u7a0b\u767b\u9646\u7528\u6237\u7279\u6709\u6587\u4ef6 /etc/profile\u3001 /etc/bashrc \u5168\u5c40\u914d\u7f6e\u6587\u4ef6 ,\u6700\u597d\u5728/etc/profile.d \uff0c\u800c\u975e\u76f4\u63a5\u4fee\u6539\u7cfb\u7edf\u6587\u4ef6 \u68c0\u67e5\u7cfb\u7edf\u53d8\u91cf\u547d\u4ee4 \u00b6 set \uff1a \u67e5\u770b\u5f53\u524dshell\u6240\u6709\u53d8\u91cf\uff0c\u5305\u62ec local varriable env : \u53ea\u663e\u793a\u5168\u5c40\u53d8\u91cf declare : \u7b49\u540c set export : \u663e\u793a\u548c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u503c unset : \u5220\u9664\u53d8\u91cf\u6216\u51fd\u6570 readonly : \u5f53\u524dshell \u53ea\u8bfb Bash 1 2 #\u628aexport \u7ed3\u679c\u7528' ',':',\"=\"\u5206\u5f00\u683c\u5f0f\u5316\uff0c\u6253\u5370\u7b2c\u4e09\u5217 export | awk -F '[ :=]' '{print $3}' \u73af\u5883\u53d8\u91cf\u52a0\u8f7d\u521d\u59cb\u987a\u5e8f \u00b6 /etc/profile ==> /etc/profile.d ==> $HOME/.bash_profile ==> $HOME/.bashrc ==> /etc/.bashrc 3. \u7279\u6b8a\u53d8\u91cf \u00b6 Bash 1 2 3 4 5 6 bash file.sh -a -b -c $0 : \u83b7\u53d6\u811a\u672c\u6587\u4ef6\u540d\uff0c\u4ee5\u53ca\u811a\u672c\u8def\u8def\u5f84 $n \uff1a\u83b7\u53d6shell\u811a\u672c\u7684\u7b2cn\u4e2a\u53c2\u6570\uff0c \u5927\u4e8e9\u9700\u8981 ${ 10 } ,\u53c2\u6570\u7a7a\u683c\u9694\u5f00 $# : \u83b7\u53d6\u6267\u884cshell\u811a\u672c\u7684\u53c2\u6570\u603b\u4e2a\u6570 $* : \u83b7\u53d6shell\u811a\u672c\u6240\u6709\u53c2\u6570\uff0c\u4e0d\u52a0\u5f15\u53f7\u7b49\u540c\u4e8e $@ , \" $* \" \u63a5\u6536\u53c2\u6570\u4e3a\u5355\u4e2a\u5b57\u7b26\u4e32 \" $1 $2 $3 \" $@ : \u628a\u53c2\u6570\u88c5\u8fdb\u5b57\u7b26\u4e32\u6570\u7ec4 4. \u9762\u8bd5\u9898 \u00b6 Bash 1 2 3 4 $* \u548c $@ \u7684\u533a\u522b \u6536\u96c6\u6240\u6709\u53c2\u6570 $* \u628a\u6240\u6709\u53c2\u6570 \u5f53\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32 $@ \u628a\u6bcf\u4e2a\u53c2\u6570 \u5f53\u4f5c\u4e00\u4e2a\u5b57\u7b26\u4e32 5. \u7279\u6b8a\u72b6\u6001\u53d8\u91cf \u00b6 Bash 1 2 3 4 $? : \u4e0a\u4e00\u6b21\u547d\u4ee4\u8fd4\u56de\u503c,0\u6b63\u786e\uff0c\u975e0\u9519\u8bef\u4ee3\u7801 $$ : \u5f53\u524dshell\u811a\u672c\u7684\u8fdb\u7a0b\u53f7 $! \uff1a\u4e0a\u4e00\u6b21\u540e\u53f0\u8fdb\u7a0b\u7684pid $_ : \u83b7\u53d6\u4e0a\u6b21\u547d\u4ee4\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570 6. \u8ba9\u547d\u4ee4\u540e\u53f0\u8fd0\u884c \u00b6 Bash 1 nohup commnd ... & 1 > /dev/null 7. \u6269\u5c55\u53d8\u91cf \u00b6 Bash 1 2 3 4 5 #\u5f53parameter\u53d8\u91cf\u4e3a\u7a7a\u65f6 result = ${ parameter :- word } # \u8fd4\u56deword,\u8d4b\u503c\u7ed9result result = ${ parameter :=word } # \u7528word\u66ff\u4ee3\u53d8\u91cf,\u8fd4\u56de\u5176\u503c result = ${ parameter :?word } # word\u5f53\u4f5cstderr\u8f93\u51fa result = ${ parameter :+word } # \u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u5426\u5219\u8fd4\u56deword Shell \u5b50\u4e32 \u00b6 1. bash \u4e00\u4e9b\u57fa\u7840\u5185\u7f6e\u547d\u4ee4 \u00b6 Bash 1 2 3 4 eval \uff1a \u6267\u884c\u591a\u4e2a\u547d\u4ee4 # eval ls;cd /tmp exec : \u4e0d\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u6267\u884c\u5b8c\u6210\u540e\u81ea\u52a8 exit export : read : Bash 1 2 -n \u4e0d\u6362\u884c\u6253\u5370 -e \u8ba9 echo \u8bc6\u522b\u7279\u6b8a\u7b26\u53f7 2. \u5b50\u4e32\u64cd\u4f5c \u00b6 command \u7528\u6cd5 ${#var} \u8fd4\u56de\u53d8\u91cf\u957f\u5ea6 ${var:start} \u8fd4\u56de offset \u6570\u503c\u4e4b\u540e\u7684\u5b57\u7b26 ${var:start:length} ${var#word} \u4ece\u53d8\u91cf \u5f00\u5934 \u5220\u9664 \u6700\u77ed\u5339\u914d\u7684 word\u5b50\u4e32 ${var##word} \u4ece\u53d8\u91cf\u5f00\u5934\u5220\u9664 \u6700\u957f\u7684 ${var%word} \u4ece \u7ed3\u5c3e \u5220\u9664 \u6700\u77ed $ {var%%word} \u4ece \u7ed3\u5c3e \u5220\u9664 \u6700\u957f ${var/pattern/string} \u7528 string \u4ee3\u66ff\u7b2c\u4e00\u4e2a\u5339\u914d\u7684 pattern ${var//pattern/string} \u7528 string \u4ee3\u66ff \u6240\u6709 pattern \u6570\u503c\u8ba1\u7b97 \u00b6 1. \u8fd0\u7b97\u7b26 \u00b6 Bash 1 2 3 or file_name in ` ls *str*.jpg ` ; do mv $file_name ` echo ${ file_name //str/ } ` done 2. \u6570\u636e\u5907\u4efd\uff0c\u5220\u9664\u8fc7\u671f\u7684\u811a\u672c \u00b6 Bash 1 2 3 4 5 6 7 find | xargs cat del_data.sh # \u5982\u679cpath\u4e0d\u5b58\u5728\u5c31\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u64cd\u4f5c find ${ path } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f # \u6539\u8fdb find ${ path :=/data/temp } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f 3. \u8fdb\u7a0b\u5217\u8868(\u5b50shell) \u00b6 \uff08\uff09 \u5c0f\u62ec\u53f7 \u628a\u62ec\u53f7\u91cc\u7684\u7ed3\u679c\u4ea4\u7ed9\u62ec\u53f7\u5916 (()) \u53cc\u5c0f\u62ec\u53f7\uff0c\u5728\u5185\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97 Bash 1 echo $(( 6 >7 )) \u6848\u4f8b \u00b6 ### 1. \u6279\u91cf\u4fee\u6539\u6587\u4ef6\u540d Bash 1 2 3 4 5 6 7 8 9 10 11 1 . \u5355\u4e2a\u6587\u4ef6\u4fee\u6539 2 . \u5229\u7528\u6587\u4ef6\u5b57\u4e32\u529f\u80fd echo ${ f //str/ } 3 . \u5229\u7528\u53cd\u5f15\u53f7 echo $f mv $f ` echo ${ f //str/ } ` 4 . \u6279\u91cf\u66ff\u6362 echo ` ls *str*.jpg ` for file_name in ` ls *str*.jpg ` ; do mv $file_name ` echo ${ file_name //str/ } ` done 2. \u6570\u636e\u5907\u4efd\uff0c\u5220\u9664\u8fc7\u671f\u7684\u811a\u672c \u00b6 Bash 1 2 3 4 5 6 7 find | xargs cat del_data.sh # \u5982\u679cpath\u4e0d\u5b58\u5728\u5c31\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u64cd\u4f5c find ${ path } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f # \u6539\u8fdb find ${ path :=/data/temp } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f 3. \u8fdb\u7a0b\u5217\u8868(\u5b50shell) \u00b6 \u521b\u5efa\u5b50shell\u6267\u884c\u547d\u4ee4 Bash 1 ( cd ~/Code ; pwd ; ls ; cd ; echo $BASH_SUBSHELL ) \u5b50shell \u5d4c\u5957 Bash 1 ( pwd ; ( pwd ; ( echo $BASH_SUBSHELL ))) Control Flow \u00b6 \u6761\u4ef6\u5224\u65ad \u00b6 if \\<condition> ; then [command] ; fi Bash 1 2 3 4 5 if [ -para FILE ] or if [ FILE1 -para FILE2 ] or if [ stra [ OPERATOR ] strb ] Bash 1 2 3 4 5 6 7 8 9 10 11 12 a = \"hello\" b = \"hell\" if [ -n a ] ; then if [ a = b ] ; then echo \"equal\" elif [ a ! = b ] then echo \"not equal\" fi else echo \"a not exist!\" fi Bash 1 2 3 4 if [ $var ] ... \u5224\u65ad\u53d8\u91cf\u662f\u5426\u5b58\u5728 if [ $var == str ] ... \u5224\u65ad\u53d8\u91cf\u76f8\u7b49 if [ -z str ] ... empty string if [ -n str ] ... str_len > 0","title":"Bash-lang"},{"location":"Blog/Shell/Bash/Bash-lang/#bash-shell","text":"","title":"Bash SHELL \u8bed\u8a00\u811a\u672c"},{"location":"Blog/Shell/Bash/Bash-lang/#_1","text":"","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#1-history","text":"Bash 1 2 3 4 5 6 \u67e5\u770b\u5386\u53f2\u547d\u4ee4 - c \u6e05\u7a7a\u8bb0\u5f55 - r \u6062\u590d\u5386\u53f2\u547d\u4ee4 !+\u5386\u53f2ID : \u5feb\u901f\u6267\u884c\u5386\u53f2\u547d\u4ee4 \uff01! : \u6267\u884c\u4e0a\u4e00\u6b21\u547d\u4ee4","title":"1. history \u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#2-ps","text":"Bash 1 2 3 -f : \u663e\u793a pid,uid,ppid -e : \u5217\u51fa\u6240\u6709\u8fdb\u7a0b\u4fe1\u606f\uff0c\u5982\u540c -a --forest","title":"2. ps \u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#3","text":"\u4f7f\u7528 type command \u67e5\u770b \u5185\u7f6e\u547d\u4ee4\uff1a\u7cfb\u7edf\u542f\u52a8\u65f6\u8f7d\u5165\u5185\u5b58\uff0c\u6548\u7387\u9ad8\uff0c\u5360\u7528\u8d44\u6e90\uff08cd\uff09 \u5916\u90e8\u547d\u4ee4\uff1a\u9700\u8981\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\uff0c\u8f7d\u5165\u5185\u5b58(ps,vim) \u5185\u7f6e\u547d\u4ee4\u4e0d\u4f1a\u521b\u5efa\u5b50\u8fdb\u7a0b\u6267\u884c\uff0c\u548cshell\u662f\u4e00\u4f53\u7684","title":"3. \u5185\u7f6e\u547d\u4ee4\u4e0e\u5916\u7f6e\u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#4-who","text":"\u67e5\u770b\u6709\u54ea\u4e9b\u7528\u6237\u767b\u5f55\u4e86\u7cfb\u7edf","title":"4.  who \u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#5-netstat","text":"Bash 1 netstat -ano | findstr 8080 #\u67e5\u770b\u7aef\u53e3\u662f\u5426\u88ab\u4f7f\u7528","title":"5. netstat"},{"location":"Blog/Shell/Bash/Bash-lang/#_2","text":"a=1 \u8d4b\u503c\u4e2d\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c \u4f5c\u7528\u57df \u7236shell \u4e0d\u80fd\u4f20 \u53d8\u91cf \u7ed9 \u5b50shell\uff0c\u4e00\u822c\u5b9a\u4e49\u7684\u90fd\u662f\u5c40\u90e8\u53d8\u91cf \u73af\u5883\u53d8\u91cf\u662f\u5168\u5c40\u7684 \u7279\u6b8a\u53d8\u91cf $? 0-255 \u8fd4\u56de\u4e0a\u4e00\u6b21\u64cd\u4f5c\u7684\u72b6\u6001\u7801 \u5355\u53cc\u5f15\u53f7\u533a\u522b\uff1a \u5355\u5f15\u53f7\u53d8\u91cf\uff0c\u4e0d\u80fd\u8bc6\u522b\u7279\u6b8a\u8bed\u6cd5 \u53cc\u5f15\u53f7\u53d8\u91cf\uff0c\u53ef\u4ee5\u8bc6\u522b Bash 1 2 3 4 5 var = 123 var2 = '${var}' var3 = \" ${ var } \" ehco $var2 # ${var} ehco $var3 # 123 \u4e0d\u540c\u7684shell \u4f7f\u7528\u4e0d\u540c\u53d8\u91cf\uff0c \u6bcf\u6b21\u8c03\u7528bash file \u90fd\u4f1a\u5f00\u542f\u4e00\u4e2a\u65b0\u7684\u5b50shell\uff0c \u53d8\u91cf\u4e0d\u4f1a\u4fdd\u5b58\u5230\u5f53\u524dshell\u4e2d \u4f7f\u7528 source \u6216 . \u6267\u884c \u662f\u5728\u5f53\u524d\u73af\u5883\u52a0\u8f7d\u811a\u672c\uff0c\u4fdd\u7559\u53d8\u91cf","title":"\u53d8\u91cf"},{"location":"Blog/Shell/Bash/Bash-lang/#1","text":"\u8ba9\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u4fdd\u7559\u4e0b\u6765 Bash 1 2 lsf = ` ls ` echo $lsf","title":"1. \u53cd\u5f15\u53f7"},{"location":"Blog/Shell/Bash/Bash-lang/#2","text":"~/.bash_profile \u7528\u6237\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6 ~/.bashrc \u8fdc\u7a0b\u767b\u9646\u7528\u6237\u7279\u6709\u6587\u4ef6 /etc/profile\u3001 /etc/bashrc \u5168\u5c40\u914d\u7f6e\u6587\u4ef6 ,\u6700\u597d\u5728/etc/profile.d \uff0c\u800c\u975e\u76f4\u63a5\u4fee\u6539\u7cfb\u7edf\u6587\u4ef6","title":"2. \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e"},{"location":"Blog/Shell/Bash/Bash-lang/#_3","text":"set \uff1a \u67e5\u770b\u5f53\u524dshell\u6240\u6709\u53d8\u91cf\uff0c\u5305\u62ec local varriable env : \u53ea\u663e\u793a\u5168\u5c40\u53d8\u91cf declare : \u7b49\u540c set export : \u663e\u793a\u548c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u503c unset : \u5220\u9664\u53d8\u91cf\u6216\u51fd\u6570 readonly : \u5f53\u524dshell \u53ea\u8bfb Bash 1 2 #\u628aexport \u7ed3\u679c\u7528' ',':',\"=\"\u5206\u5f00\u683c\u5f0f\u5316\uff0c\u6253\u5370\u7b2c\u4e09\u5217 export | awk -F '[ :=]' '{print $3}'","title":"\u68c0\u67e5\u7cfb\u7edf\u53d8\u91cf\u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#_4","text":"/etc/profile ==> /etc/profile.d ==> $HOME/.bash_profile ==> $HOME/.bashrc ==> /etc/.bashrc","title":"\u73af\u5883\u53d8\u91cf\u52a0\u8f7d\u521d\u59cb\u987a\u5e8f"},{"location":"Blog/Shell/Bash/Bash-lang/#3_1","text":"Bash 1 2 3 4 5 6 bash file.sh -a -b -c $0 : \u83b7\u53d6\u811a\u672c\u6587\u4ef6\u540d\uff0c\u4ee5\u53ca\u811a\u672c\u8def\u8def\u5f84 $n \uff1a\u83b7\u53d6shell\u811a\u672c\u7684\u7b2cn\u4e2a\u53c2\u6570\uff0c \u5927\u4e8e9\u9700\u8981 ${ 10 } ,\u53c2\u6570\u7a7a\u683c\u9694\u5f00 $# : \u83b7\u53d6\u6267\u884cshell\u811a\u672c\u7684\u53c2\u6570\u603b\u4e2a\u6570 $* : \u83b7\u53d6shell\u811a\u672c\u6240\u6709\u53c2\u6570\uff0c\u4e0d\u52a0\u5f15\u53f7\u7b49\u540c\u4e8e $@ , \" $* \" \u63a5\u6536\u53c2\u6570\u4e3a\u5355\u4e2a\u5b57\u7b26\u4e32 \" $1 $2 $3 \" $@ : \u628a\u53c2\u6570\u88c5\u8fdb\u5b57\u7b26\u4e32\u6570\u7ec4","title":"3. \u7279\u6b8a\u53d8\u91cf"},{"location":"Blog/Shell/Bash/Bash-lang/#4","text":"Bash 1 2 3 4 $* \u548c $@ \u7684\u533a\u522b \u6536\u96c6\u6240\u6709\u53c2\u6570 $* \u628a\u6240\u6709\u53c2\u6570 \u5f53\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32 $@ \u628a\u6bcf\u4e2a\u53c2\u6570 \u5f53\u4f5c\u4e00\u4e2a\u5b57\u7b26\u4e32","title":"4. \u9762\u8bd5\u9898"},{"location":"Blog/Shell/Bash/Bash-lang/#5","text":"Bash 1 2 3 4 $? : \u4e0a\u4e00\u6b21\u547d\u4ee4\u8fd4\u56de\u503c,0\u6b63\u786e\uff0c\u975e0\u9519\u8bef\u4ee3\u7801 $$ : \u5f53\u524dshell\u811a\u672c\u7684\u8fdb\u7a0b\u53f7 $! \uff1a\u4e0a\u4e00\u6b21\u540e\u53f0\u8fdb\u7a0b\u7684pid $_ : \u83b7\u53d6\u4e0a\u6b21\u547d\u4ee4\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570","title":"5. \u7279\u6b8a\u72b6\u6001\u53d8\u91cf"},{"location":"Blog/Shell/Bash/Bash-lang/#6","text":"Bash 1 nohup commnd ... & 1 > /dev/null","title":"6. \u8ba9\u547d\u4ee4\u540e\u53f0\u8fd0\u884c"},{"location":"Blog/Shell/Bash/Bash-lang/#7","text":"Bash 1 2 3 4 5 #\u5f53parameter\u53d8\u91cf\u4e3a\u7a7a\u65f6 result = ${ parameter :- word } # \u8fd4\u56deword,\u8d4b\u503c\u7ed9result result = ${ parameter :=word } # \u7528word\u66ff\u4ee3\u53d8\u91cf,\u8fd4\u56de\u5176\u503c result = ${ parameter :?word } # word\u5f53\u4f5cstderr\u8f93\u51fa result = ${ parameter :+word } # \u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u5426\u5219\u8fd4\u56deword","title":"7. \u6269\u5c55\u53d8\u91cf"},{"location":"Blog/Shell/Bash/Bash-lang/#shell","text":"","title":"Shell \u5b50\u4e32"},{"location":"Blog/Shell/Bash/Bash-lang/#1-bash","text":"Bash 1 2 3 4 eval \uff1a \u6267\u884c\u591a\u4e2a\u547d\u4ee4 # eval ls;cd /tmp exec : \u4e0d\u521b\u5efa\u5b50\u8fdb\u7a0b\uff0c\u6267\u884c\u5b8c\u6210\u540e\u81ea\u52a8 exit export : read : Bash 1 2 -n \u4e0d\u6362\u884c\u6253\u5370 -e \u8ba9 echo \u8bc6\u522b\u7279\u6b8a\u7b26\u53f7","title":"1. bash \u4e00\u4e9b\u57fa\u7840\u5185\u7f6e\u547d\u4ee4"},{"location":"Blog/Shell/Bash/Bash-lang/#2_1","text":"command \u7528\u6cd5 ${#var} \u8fd4\u56de\u53d8\u91cf\u957f\u5ea6 ${var:start} \u8fd4\u56de offset \u6570\u503c\u4e4b\u540e\u7684\u5b57\u7b26 ${var:start:length} ${var#word} \u4ece\u53d8\u91cf \u5f00\u5934 \u5220\u9664 \u6700\u77ed\u5339\u914d\u7684 word\u5b50\u4e32 ${var##word} \u4ece\u53d8\u91cf\u5f00\u5934\u5220\u9664 \u6700\u957f\u7684 ${var%word} \u4ece \u7ed3\u5c3e \u5220\u9664 \u6700\u77ed $ {var%%word} \u4ece \u7ed3\u5c3e \u5220\u9664 \u6700\u957f ${var/pattern/string} \u7528 string \u4ee3\u66ff\u7b2c\u4e00\u4e2a\u5339\u914d\u7684 pattern ${var//pattern/string} \u7528 string \u4ee3\u66ff \u6240\u6709 pattern","title":"2. \u5b50\u4e32\u64cd\u4f5c"},{"location":"Blog/Shell/Bash/Bash-lang/#_5","text":"","title":"\u6570\u503c\u8ba1\u7b97"},{"location":"Blog/Shell/Bash/Bash-lang/#1_1","text":"Bash 1 2 3 or file_name in ` ls *str*.jpg ` ; do mv $file_name ` echo ${ file_name //str/ } ` done","title":"1. \u8fd0\u7b97\u7b26"},{"location":"Blog/Shell/Bash/Bash-lang/#2_2","text":"Bash 1 2 3 4 5 6 7 find | xargs cat del_data.sh # \u5982\u679cpath\u4e0d\u5b58\u5728\u5c31\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u64cd\u4f5c find ${ path } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f # \u6539\u8fdb find ${ path :=/data/temp } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f","title":"2.  \u6570\u636e\u5907\u4efd\uff0c\u5220\u9664\u8fc7\u671f\u7684\u811a\u672c"},{"location":"Blog/Shell/Bash/Bash-lang/#3-shell","text":"\uff08\uff09 \u5c0f\u62ec\u53f7 \u628a\u62ec\u53f7\u91cc\u7684\u7ed3\u679c\u4ea4\u7ed9\u62ec\u53f7\u5916 (()) \u53cc\u5c0f\u62ec\u53f7\uff0c\u5728\u5185\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97 Bash 1 echo $(( 6 >7 ))","title":"3. \u8fdb\u7a0b\u5217\u8868(\u5b50shell)"},{"location":"Blog/Shell/Bash/Bash-lang/#_6","text":"### 1. \u6279\u91cf\u4fee\u6539\u6587\u4ef6\u540d Bash 1 2 3 4 5 6 7 8 9 10 11 1 . \u5355\u4e2a\u6587\u4ef6\u4fee\u6539 2 . \u5229\u7528\u6587\u4ef6\u5b57\u4e32\u529f\u80fd echo ${ f //str/ } 3 . \u5229\u7528\u53cd\u5f15\u53f7 echo $f mv $f ` echo ${ f //str/ } ` 4 . \u6279\u91cf\u66ff\u6362 echo ` ls *str*.jpg ` for file_name in ` ls *str*.jpg ` ; do mv $file_name ` echo ${ file_name //str/ } ` done","title":"\u6848\u4f8b"},{"location":"Blog/Shell/Bash/Bash-lang/#2_3","text":"Bash 1 2 3 4 5 6 7 find | xargs cat del_data.sh # \u5982\u679cpath\u4e0d\u5b58\u5728\u5c31\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u64cd\u4f5c find ${ path } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f # \u6539\u8fdb find ${ path :=/data/temp } -name '*.tar.gz' -type f -mtime+7 | xargx rm -f","title":"2.  \u6570\u636e\u5907\u4efd\uff0c\u5220\u9664\u8fc7\u671f\u7684\u811a\u672c"},{"location":"Blog/Shell/Bash/Bash-lang/#3-shell_1","text":"\u521b\u5efa\u5b50shell\u6267\u884c\u547d\u4ee4 Bash 1 ( cd ~/Code ; pwd ; ls ; cd ; echo $BASH_SUBSHELL ) \u5b50shell \u5d4c\u5957 Bash 1 ( pwd ; ( pwd ; ( echo $BASH_SUBSHELL )))","title":"3. \u8fdb\u7a0b\u5217\u8868(\u5b50shell)"},{"location":"Blog/Shell/Bash/Bash-lang/#control-flow","text":"","title":"Control Flow"},{"location":"Blog/Shell/Bash/Bash-lang/#_7","text":"if \\<condition> ; then [command] ; fi Bash 1 2 3 4 5 if [ -para FILE ] or if [ FILE1 -para FILE2 ] or if [ stra [ OPERATOR ] strb ] Bash 1 2 3 4 5 6 7 8 9 10 11 12 a = \"hello\" b = \"hell\" if [ -n a ] ; then if [ a = b ] ; then echo \"equal\" elif [ a ! = b ] then echo \"not equal\" fi else echo \"a not exist!\" fi Bash 1 2 3 4 if [ $var ] ... \u5224\u65ad\u53d8\u91cf\u662f\u5426\u5b58\u5728 if [ $var == str ] ... \u5224\u65ad\u53d8\u91cf\u76f8\u7b49 if [ -z str ] ... empty string if [ -n str ] ... str_len > 0","title":"\u6761\u4ef6\u5224\u65ad"},{"location":"Blog/Shell/Bash/%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8/","text":"1. \u5220\u9664\u64cd\u4f5c \u00b6 ctrl+w/alt+d \u5220\u9664\u5149\u6807\u524d/\u540e\u5b57\u7b26 2. \u5149\u6807\u79fb\u52a8 \u00b6 \u7ec4\u5408\u952e ctrl+b \u5149\u6807\u5de6\u79fb ctrl+f \u5149\u6807\u53f3\u79fb \u987a\u5e8f\u952e esc+b/alt+b \u5de6\u79fb\u4e00\u4e2a\u8bcd esc+f/alt+f \u53f3\u79fb\u4e00\u4e2a\u8bcd","title":"\u5149\u6807\u79fb\u52a8"},{"location":"Blog/Shell/Bash/%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8/#1","text":"ctrl+w/alt+d \u5220\u9664\u5149\u6807\u524d/\u540e\u5b57\u7b26","title":"1. \u5220\u9664\u64cd\u4f5c"},{"location":"Blog/Shell/Bash/%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8/#2","text":"\u7ec4\u5408\u952e ctrl+b \u5149\u6807\u5de6\u79fb ctrl+f \u5149\u6807\u53f3\u79fb \u987a\u5e8f\u952e esc+b/alt+b \u5de6\u79fb\u4e00\u4e2a\u8bcd esc+f/alt+f \u53f3\u79fb\u4e00\u4e2a\u8bcd","title":"2. \u5149\u6807\u79fb\u52a8"},{"location":"Blog/Shell/Bash/%E5%8E%BB%E9%99%A4ls%E8%83%8C%E6%99%AF%28%E7%BB%BF%E8%89%B2%29/","text":"Change .bashrc Bash 1 2 3 4 # remove the background color to improve the reading experience. eval \" $( dircolors -p | \\ sed 's/ 4[0-9];/ 01;/; s/;4[0-9];/;01;/g; s/;4[0-9] /;01 /' | \\ dircolors /dev/stdin ) \" 2. bash dircolors -p | sed 's/;42/;01/' > ~/.dircolors source ~/.bashrc","title":"\u53bb\u9664ls\u80cc\u666f\u9ad8\u5149(\u7eff\u8272\u6c61\u67d3)"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/","text":"Distribute and GFS \u00b6 Implementation \u00b6 RPC threads lock concurrency \u5e76\u53d1 Performance \u00b6 Scalability (\u53ef\u6269\u5c55\u6027 \u673a\u5668\u6570\u91cf) Fault Tolerance \u00b6 Availability \u53ef\u7528\u6027 Recoverability \u53ef\u6062\u590d\u6027 Replication \u526f\u672c NV Stroge consistency \u4e00\u81f4\u6027 (key) GFS \u00b6 Google File System Why Hard? purpose: high performance high performance --> Sharding(Ditribute) Faults --> Tolerance Tolerance --> Replication Replication --> Consistency\u4e00\u81f4\u6027 Consistency --> Low Performance \u4ee5\u5f31\u4e00\u81f4\u6027\u6765\u83b7\u53d6\u66f4\u9ad8\u7684\u6027\u80fd(google in 2003) Automatically recovery Master/Slaver copy How to grantee consistency \u00b6 File are split in numerable chunks in different machines Text Only 1 2 3 4 5 graph LR a(file)-->b(64mb)-->map(\"map in master\") a(file)-->c(64mb)-->map(\"map in master\") a(file)-->d(64mb)-->map(\"map in master\") a(file)-->e(...)-->map(\"map in master\") Mater Data: - File name -> array of chunk-handle(id) (nv \u6613\u5931\u6027 on disk) - per chunk-handle - --> list of chunks-servers (v on memory) --> version of each chunk (nv disk) --> Primary (v memory) --> lease expiration time (v memory) - Log, Checkpoints --- DISK Primary : \u6700\u65b0\u7248\u672c\u7684chunk\uff0c \u6700\u540e\u4e00\u6b21\u5199\u5165\u7684\u5730\u65b9 READ \u00b6 When server receive a read request from Client \u00b6 Server send Filename, Offset --> M(Master) M send Chunk handle , List of Server to client Client find close server Cache this chunk by server Client contact to Chunk Server , return data When a read > 64MB data \u00b6 (out of one chunk range), 1. Library will be handled by program, 2. split and consider as Multiple Request 3. send to different Chunk Server 4. Library Combine as one response Write \u00b6 A write operation \u00b6 No Primary: Master find the up to date Replication(\u5927\u4e8e\u7b49\u4e8e\u6301\u6709\u7684newest ver, \u5426\u5219\u56de\u5e94\u62a5\u9519\uff0c\u7b49\u5019) Update the version of this replication to master's newest version Pick a CS(chunk server) as Primary , else CS will be assist. Set the latest version to these servers (\u66f4\u65b0\u7248\u672c) - Lease(\u7ea6\u5b9a60s \u4e00\u4e2aserver \u4e3a primary \u6765\u8fdb\u884c\u5904\u7406) Write the Version Number of Master to disk after tell Primary \u8bb0\u5f55\u4e00\u4e9b Primary \u548c Secondary (\u5907\u7528\u7684\uff0c\u4e00\u81f4\u6027\u76f8\u5bf9\u8f83\u9ad8\u7684) \u6682\u65f6\u8bb0\u5f55\u4e8e Primary \u7684\u4e00\u4e2a memory offset \u4e0a, \u7136\u540e\u56de\u590d ACK \u5982\u679c\u5931\u8d25\uff0c re-execute \"SPLIT BRAIN\" \u00b6 \u5b58\u5728\u4e24\u4e2a primary \u7f51\u7edc\u539f\u56e0\uff0cprimary \u65e0\u6cd5 contact to master \u5ba2\u6237\u7aef\u6536\u5230master \u53d1\u9001\u7684primary \u4fe1\u606f\uff0c \u4f46\u662f\u53d1\u9001\u65f6\uff0c\u8fd9\u4e2aprimary\u6302\u6389\u4e86 A primary (\u5907\u7528master) \u5b58\u50a8\u6570\u636e replication \u5931\u8d25 \u00b6 A, B, C save a chunk D , \u4f46\u662f C \u5b58\u50a8\u5931\u8d25 \u5728\u5b58\u50a8\u4e0b\u4e00\u4efd\u65f6\uff0c \u4f1a return error, \u7136\u540e ABC \u4e00\u8d77\u518d\u5199\u5165\u4e00\u4efd D , \u540c\u65f6\u66f4\u65b0\u7248\u672c\u53f7 \u518d\u5199\u5165\u65b0\u7684 chunk","title":"1.Distribute-GFS"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#distribute-and-gfs","text":"","title":"Distribute and GFS"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#implementation","text":"RPC threads lock concurrency \u5e76\u53d1","title":"Implementation"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#performance","text":"Scalability (\u53ef\u6269\u5c55\u6027 \u673a\u5668\u6570\u91cf)","title":"Performance"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#fault-tolerance","text":"Availability \u53ef\u7528\u6027 Recoverability \u53ef\u6062\u590d\u6027 Replication \u526f\u672c NV Stroge consistency \u4e00\u81f4\u6027 (key)","title":"Fault Tolerance"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#gfs","text":"Google File System Why Hard? purpose: high performance high performance --> Sharding(Ditribute) Faults --> Tolerance Tolerance --> Replication Replication --> Consistency\u4e00\u81f4\u6027 Consistency --> Low Performance \u4ee5\u5f31\u4e00\u81f4\u6027\u6765\u83b7\u53d6\u66f4\u9ad8\u7684\u6027\u80fd(google in 2003) Automatically recovery Master/Slaver copy","title":"GFS"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#how-to-grantee-consistency","text":"File are split in numerable chunks in different machines Text Only 1 2 3 4 5 graph LR a(file)-->b(64mb)-->map(\"map in master\") a(file)-->c(64mb)-->map(\"map in master\") a(file)-->d(64mb)-->map(\"map in master\") a(file)-->e(...)-->map(\"map in master\") Mater Data: - File name -> array of chunk-handle(id) (nv \u6613\u5931\u6027 on disk) - per chunk-handle - --> list of chunks-servers (v on memory) --> version of each chunk (nv disk) --> Primary (v memory) --> lease expiration time (v memory) - Log, Checkpoints --- DISK Primary : \u6700\u65b0\u7248\u672c\u7684chunk\uff0c \u6700\u540e\u4e00\u6b21\u5199\u5165\u7684\u5730\u65b9","title":"How to grantee consistency"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#read","text":"","title":"READ"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#when-server-receive-a-read-request-from-client","text":"Server send Filename, Offset --> M(Master) M send Chunk handle , List of Server to client Client find close server Cache this chunk by server Client contact to Chunk Server , return data","title":"When server receive a read request from Client"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#when-a-read-64mb-data","text":"(out of one chunk range), 1. Library will be handled by program, 2. split and consider as Multiple Request 3. send to different Chunk Server 4. Library Combine as one response","title":"When a read &gt; 64MB data"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#write","text":"","title":"Write"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#a-write-operation","text":"No Primary: Master find the up to date Replication(\u5927\u4e8e\u7b49\u4e8e\u6301\u6709\u7684newest ver, \u5426\u5219\u56de\u5e94\u62a5\u9519\uff0c\u7b49\u5019) Update the version of this replication to master's newest version Pick a CS(chunk server) as Primary , else CS will be assist. Set the latest version to these servers (\u66f4\u65b0\u7248\u672c) - Lease(\u7ea6\u5b9a60s \u4e00\u4e2aserver \u4e3a primary \u6765\u8fdb\u884c\u5904\u7406) Write the Version Number of Master to disk after tell Primary \u8bb0\u5f55\u4e00\u4e9b Primary \u548c Secondary (\u5907\u7528\u7684\uff0c\u4e00\u81f4\u6027\u76f8\u5bf9\u8f83\u9ad8\u7684) \u6682\u65f6\u8bb0\u5f55\u4e8e Primary \u7684\u4e00\u4e2a memory offset \u4e0a, \u7136\u540e\u56de\u590d ACK \u5982\u679c\u5931\u8d25\uff0c re-execute","title":"A write operation"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#split-brain","text":"\u5b58\u5728\u4e24\u4e2a primary \u7f51\u7edc\u539f\u56e0\uff0cprimary \u65e0\u6cd5 contact to master \u5ba2\u6237\u7aef\u6536\u5230master \u53d1\u9001\u7684primary \u4fe1\u606f\uff0c \u4f46\u662f\u53d1\u9001\u65f6\uff0c\u8fd9\u4e2aprimary\u6302\u6389\u4e86","title":"\"SPLIT BRAIN\""},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/1.Distribute-GFS/#a-primary-master-replication","text":"A, B, C save a chunk D , \u4f46\u662f C \u5b58\u50a8\u5931\u8d25 \u5728\u5b58\u50a8\u4e0b\u4e00\u4efd\u65f6\uff0c \u4f1a return error, \u7136\u540e ABC \u4e00\u8d77\u518d\u5199\u5165\u4e00\u4efd D , \u540c\u65f6\u66f4\u65b0\u7248\u672c\u53f7 \u518d\u5199\u5165\u65b0\u7684 chunk","title":"A primary (\u5907\u7528master) \u5b58\u50a8\u6570\u636e replication \u5931\u8d25"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/","text":"Replication \u00b6 fail-stop faults(\u4e00\u51fa\u9519\u6574\u4e2a\u8ba1\u7b97\u673a\u5c31\u5954\u6e83\u7684\u9519\u8bef) checksum \u6821\u9a8c\u548c \u4ee5\u7269\u7406\u4e0a\u4e0d\u540c\u7684\u4f4d\u7f6e\u6765\u907f\u514d \u505c\u7535\u3001\u5730\u9707 \u4fdd\u5b58\u4e00\u4efd\u6587\u4ef6\uff0c\u9700\u8981\u51e0\u4efd\u526f\u672c\uff0c\u51e0\u500d\u7684cpu\u4e0e\u78c1\u76d8, \u503c\u5f97\u5417? \u7a33\u5b9a\u7684\u670d\u52a1\uff08\u94f6\u884c\uff09 \u591a\u526f\u672c\u53ef\u6062\u590d\u6027 State Transfer and Replicated State Machine \u00b6 ( \u72b6\u6001\u8f6c\u79fb\u548c\u590d\u5236\u72b6\u6001\u4fe1\u606f ) \u590d\u5236 Primary State to Backup, \u53d1\u751f\u6545\u969c\u5c31\u80fd\u7b2c\u4e00\u65f6\u95f4\u6062\u590d State Transfer (momory) (\u8f6c\u79fb\u5185\u5b58\u4e2d\u7684\u6570\u636ej) Replicated state machine (Operation) (\u8ba9buckup\u505a\u4e0eprimary\u540c\u6837\u7684\u64cd\u4f5c) \u4eba\u4eec\u503e\u5411\u4e8e \u590d\u73b0\u64cd\u4f5c \uff08operation) , \uff08\u5982dockerfile) \u56e0\u4e3a\u5907\u4efd \u64cd\u4f5c \u7684\u4ee3\u4ef7\u8fdc\u5c0f\u4e8e \u72b6\u6001 \u4f46\u662f\u5728\u591a\u6838\u73af\u5883\u4e0b\uff0c\u590d\u73b0\u64cd\u4f5c\u65e0\u6cd5\u4fdd\u8bc1\u51c6\u786e\u6027 What's State ? Primary/Backup Sync Anomalies Cut-over VMware FT \u00b6 VMM (Virtual Machine Manager) Run a VMM in every Replication, every VMM contained a VM Client send a msg to Server, VMM in master receive the network package (Request) VMM simulate the request data package (\u6a21\u62df\u8bf7\u6c42\u6570\u636e\u5305), \u53d1\u9001\u7ed9 Primary that running in current VMM VMM of primary send this simulate package (\u6a21\u62df\u8bf7\u6c42\u6570\u636e\u5305) to Secondary/Backup, \u5bf9\u5f53\u524d VMM \u4e0b\u7684 VM \u505a\u540c\u6837\u7684\u64cd\u4f5c VMM of Secondary/Backup will Drop the Response Data Package Only Primary's package will return Primary VMM will Log Info in Log Channel Backup receive info from Log Channel, if no msg Backup will think Primary was Fail-Stop Fault Non-det Events \u00b6 \uff08\u4e0d\u786e\u5b9a\u4e8b\u4ef6\uff09 - \u590d\u5236 Input/operation\uff0c \u64cd\u4f5c\u51fd\u6570\u5f88\u7b80\u5355\uff0c\u4f46\u65e0\u6cd5\u4fdd\u8bc1 State and Data \u6b63\u786e - Multicore - Weird Instructions \u591a\u6838\u5fc3\u60c5\u51b5 DMA \u65b9\u5f0f \u62f7\u8d1d \u7f51\u7edc\u6570\u636e\u5305 Fault Example \u00b6 Client send request(a+1=11) to Primary, Primary handle and then response to client (a=11) \u4f46\u662f\u8fd9\u4e2a\u65f6\u5019 Primary \u6302\u6389\u4e86\uff0c backup \u6ca1\u6709\u6536\u5230request(a+1=11), \u540c\u65f6 Log Channel \u4e5f\u4e0d\u89c1\u4e86, backup \u4e2d\u7684 a \u4ecd\u65e7\u4e3a 10 \u5982\u679cbackup \u6536\u5230\u4e0b\u4e00\u4e2a\u589e\u91cf\u8bf7\u6c42\uff0cbackup \u4f1a\u56de\u590d\u9519\u8bef\u768411 \u89e3\u51b3\u65b9\u6848 Solution: \u00b6 Output Rule (\u7279\u5b9a\u7684\u8f93\u51fa\u89c4\u5219) \u5f53\u6240\u6709\u7684 backup \u90fd\u6536\u5230 primary \u53d1\u51fa\u7684\u589e\u91cf\u8bf7\u6c42\u786e\u8ba4\u540e \u624d\u5411 client \u53d1\u9001 response \u8fd9\u4e2abackup \u4e0a\u7684\u589e\u91cf\u8bf7\u6c42\u53ef\u4ee5\u6682\u5b58\u5728 buffer \u4e2d, \u5982\u679c\u7531buckup \u6765\u63a5\u6536 \u5d29\u6e83\u7684 primary\uff0c \u5b83\u9700\u8981\u5148\u5904\u7406 \u8fd9\u4e9b\u8bf7\u6c42\uff0c\u8fd8\u6709log\uff0c \u8fbe\u5230primary \u7684\u6700\u65b0\u8981\u6c42 \u5904\u7406\u8bf7\u6c42\u53ef\u80fd\u4f1a\u53d1\u9001\u91cd\u590d\u7684respone \u5230 client, Backup \u4f1a\u4f7f\u7528 \u4e0eprimary\u540c\u6837 \u7684 TCP \u4fe1\u606f\uff08State) \u751f\u6210\u8fd9\u4e2a\u6570\u636e\u5305\uff0c\u53d1\u5411client Client \u4e0a\u7684 TCP stack \u68c0\u67e5\u540e\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u91cd\u590d\u7684\u5305\uff0c\u5728TCP\u5c42\u4e0a\u5c31\u4f1a\u4e22\u5f03\u8fd9\u4e2a package (\u5999\u554a) \u5176\u5b9e\u5c31\u662f \u540c\u6b65/\u5f02\u6b65\u590d\u5236\u3001\u6027\u80fd/\u5b89\u5168 \u4e4b\u95f4\u7684\u95ee\u9898 - \u534a\u540c\u6b65\uff0c \u8bfb\u65e0\u9700\u540c\u6b65\uff0c \u5199\u9700\u8981\u7b49\u5f85\u540c\u6b65 \u5173\u952e\u7684\u4e00\u70b9 \u00b6 \u5728 6.824\u4e2d\u6709\u4e00\u6761\u6df1\u5965\u7684\u89c4\u5219 Primary Backup \u4e4b\u95f4\u65e0\u6cd5\u5224\u65ad\u5bf9\u65b9\u662f\u5426\u6302\u6389\u4e86 \u53cc\u65b9\u53ea\u80fd\u4ece\u63a5\u6536\u5230\u5bf9\u65b9\u7684\u6570\u636e\u5305\u6765\u5224\u65ad \u7528\u4e00\u53f0 Test-AND-SET \u670d\u52a1\u5668 \u6765\u68c0\u6d4b\u6240\u6709replication \u662f\u5426\u6b63\u5e38\u8fd0\u884c \u4f46\u662f\u8fd9\u4e2a test-and-set server \u53ef\u80fd\u672c\u8eab\u5c31\u662f replicated (\u5957\u5a03)","title":"2.Replication"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#replication","text":"fail-stop faults(\u4e00\u51fa\u9519\u6574\u4e2a\u8ba1\u7b97\u673a\u5c31\u5954\u6e83\u7684\u9519\u8bef) checksum \u6821\u9a8c\u548c \u4ee5\u7269\u7406\u4e0a\u4e0d\u540c\u7684\u4f4d\u7f6e\u6765\u907f\u514d \u505c\u7535\u3001\u5730\u9707 \u4fdd\u5b58\u4e00\u4efd\u6587\u4ef6\uff0c\u9700\u8981\u51e0\u4efd\u526f\u672c\uff0c\u51e0\u500d\u7684cpu\u4e0e\u78c1\u76d8, \u503c\u5f97\u5417? \u7a33\u5b9a\u7684\u670d\u52a1\uff08\u94f6\u884c\uff09 \u591a\u526f\u672c\u53ef\u6062\u590d\u6027","title":"Replication"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#state-transfer-and-replicated-state-machine","text":"( \u72b6\u6001\u8f6c\u79fb\u548c\u590d\u5236\u72b6\u6001\u4fe1\u606f ) \u590d\u5236 Primary State to Backup, \u53d1\u751f\u6545\u969c\u5c31\u80fd\u7b2c\u4e00\u65f6\u95f4\u6062\u590d State Transfer (momory) (\u8f6c\u79fb\u5185\u5b58\u4e2d\u7684\u6570\u636ej) Replicated state machine (Operation) (\u8ba9buckup\u505a\u4e0eprimary\u540c\u6837\u7684\u64cd\u4f5c) \u4eba\u4eec\u503e\u5411\u4e8e \u590d\u73b0\u64cd\u4f5c \uff08operation) , \uff08\u5982dockerfile) \u56e0\u4e3a\u5907\u4efd \u64cd\u4f5c \u7684\u4ee3\u4ef7\u8fdc\u5c0f\u4e8e \u72b6\u6001 \u4f46\u662f\u5728\u591a\u6838\u73af\u5883\u4e0b\uff0c\u590d\u73b0\u64cd\u4f5c\u65e0\u6cd5\u4fdd\u8bc1\u51c6\u786e\u6027 What's State ? Primary/Backup Sync Anomalies Cut-over","title":"State Transfer and Replicated State Machine"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#vmware-ft","text":"VMM (Virtual Machine Manager) Run a VMM in every Replication, every VMM contained a VM Client send a msg to Server, VMM in master receive the network package (Request) VMM simulate the request data package (\u6a21\u62df\u8bf7\u6c42\u6570\u636e\u5305), \u53d1\u9001\u7ed9 Primary that running in current VMM VMM of primary send this simulate package (\u6a21\u62df\u8bf7\u6c42\u6570\u636e\u5305) to Secondary/Backup, \u5bf9\u5f53\u524d VMM \u4e0b\u7684 VM \u505a\u540c\u6837\u7684\u64cd\u4f5c VMM of Secondary/Backup will Drop the Response Data Package Only Primary's package will return Primary VMM will Log Info in Log Channel Backup receive info from Log Channel, if no msg Backup will think Primary was Fail-Stop Fault","title":"VMware FT"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#non-det-events","text":"\uff08\u4e0d\u786e\u5b9a\u4e8b\u4ef6\uff09 - \u590d\u5236 Input/operation\uff0c \u64cd\u4f5c\u51fd\u6570\u5f88\u7b80\u5355\uff0c\u4f46\u65e0\u6cd5\u4fdd\u8bc1 State and Data \u6b63\u786e - Multicore - Weird Instructions \u591a\u6838\u5fc3\u60c5\u51b5 DMA \u65b9\u5f0f \u62f7\u8d1d \u7f51\u7edc\u6570\u636e\u5305","title":"Non-det Events"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#fault-example","text":"Client send request(a+1=11) to Primary, Primary handle and then response to client (a=11) \u4f46\u662f\u8fd9\u4e2a\u65f6\u5019 Primary \u6302\u6389\u4e86\uff0c backup \u6ca1\u6709\u6536\u5230request(a+1=11), \u540c\u65f6 Log Channel \u4e5f\u4e0d\u89c1\u4e86, backup \u4e2d\u7684 a \u4ecd\u65e7\u4e3a 10 \u5982\u679cbackup \u6536\u5230\u4e0b\u4e00\u4e2a\u589e\u91cf\u8bf7\u6c42\uff0cbackup \u4f1a\u56de\u590d\u9519\u8bef\u768411","title":"Fault Example"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#solution","text":"Output Rule (\u7279\u5b9a\u7684\u8f93\u51fa\u89c4\u5219) \u5f53\u6240\u6709\u7684 backup \u90fd\u6536\u5230 primary \u53d1\u51fa\u7684\u589e\u91cf\u8bf7\u6c42\u786e\u8ba4\u540e \u624d\u5411 client \u53d1\u9001 response \u8fd9\u4e2abackup \u4e0a\u7684\u589e\u91cf\u8bf7\u6c42\u53ef\u4ee5\u6682\u5b58\u5728 buffer \u4e2d, \u5982\u679c\u7531buckup \u6765\u63a5\u6536 \u5d29\u6e83\u7684 primary\uff0c \u5b83\u9700\u8981\u5148\u5904\u7406 \u8fd9\u4e9b\u8bf7\u6c42\uff0c\u8fd8\u6709log\uff0c \u8fbe\u5230primary \u7684\u6700\u65b0\u8981\u6c42 \u5904\u7406\u8bf7\u6c42\u53ef\u80fd\u4f1a\u53d1\u9001\u91cd\u590d\u7684respone \u5230 client, Backup \u4f1a\u4f7f\u7528 \u4e0eprimary\u540c\u6837 \u7684 TCP \u4fe1\u606f\uff08State) \u751f\u6210\u8fd9\u4e2a\u6570\u636e\u5305\uff0c\u53d1\u5411client Client \u4e0a\u7684 TCP stack \u68c0\u67e5\u540e\u4f1a\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u91cd\u590d\u7684\u5305\uff0c\u5728TCP\u5c42\u4e0a\u5c31\u4f1a\u4e22\u5f03\u8fd9\u4e2a package (\u5999\u554a) \u5176\u5b9e\u5c31\u662f \u540c\u6b65/\u5f02\u6b65\u590d\u5236\u3001\u6027\u80fd/\u5b89\u5168 \u4e4b\u95f4\u7684\u95ee\u9898 - \u534a\u540c\u6b65\uff0c \u8bfb\u65e0\u9700\u540c\u6b65\uff0c \u5199\u9700\u8981\u7b49\u5f85\u540c\u6b65","title":"\u89e3\u51b3\u65b9\u6848 Solution:"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/2.Replication/#_1","text":"\u5728 6.824\u4e2d\u6709\u4e00\u6761\u6df1\u5965\u7684\u89c4\u5219 Primary Backup \u4e4b\u95f4\u65e0\u6cd5\u5224\u65ad\u5bf9\u65b9\u662f\u5426\u6302\u6389\u4e86 \u53cc\u65b9\u53ea\u80fd\u4ece\u63a5\u6536\u5230\u5bf9\u65b9\u7684\u6570\u636e\u5305\u6765\u5224\u65ad \u7528\u4e00\u53f0 Test-AND-SET \u670d\u52a1\u5668 \u6765\u68c0\u6d4b\u6240\u6709replication \u662f\u5426\u6b63\u5e38\u8fd0\u884c \u4f46\u662f\u8fd9\u4e2a test-and-set server \u53ef\u80fd\u672c\u8eab\u5c31\u662f replicated (\u5957\u5a03)","title":"\u5173\u952e\u7684\u4e00\u70b9"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/3.Go-Threads-and-Raft/","text":"Raft Fault-Tolerance \u00b6 1. Split Brain \u00b6 A client contact to 2 server repicate ---- WRONG If network exception will make split brain Majority Rule \u00b6 In partition network, number of machine are odd(\u5947\u6570,\u907f\u514d\u5bf9\u79f0) the minority is subordinate to the majority( \u5c11\u6570\u670d\u4ece\u591a\u6570 ) use 3 server instead of 2 (VSR) 2. Raft \u00b6 a library election timer: election for the Leader Leader make more efficient","title":"3.Go-Threads-and-Raft"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/3.Go-Threads-and-Raft/#raft-fault-tolerance","text":"","title":"Raft Fault-Tolerance"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/3.Go-Threads-and-Raft/#1-split-brain","text":"A client contact to 2 server repicate ---- WRONG If network exception will make split brain","title":"1. Split Brain"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/3.Go-Threads-and-Raft/#majority-rule","text":"In partition network, number of machine are odd(\u5947\u6570,\u907f\u514d\u5bf9\u79f0) the minority is subordinate to the majority( \u5c11\u6570\u670d\u4ece\u591a\u6570 ) use 3 server instead of 2 (VSR)","title":"Majority Rule"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/3.Go-Threads-and-Raft/#2-raft","text":"a library election timer: election for the Leader Leader make more efficient","title":"2. Raft"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/","text":"Map Reduce : Simplified data processing on large Cluster \u00b6 \u9605\u8bfb Map Reduce \u8fdb\u884c\u8bb0\u5f55\u7684\u5f15\u7528 https://www.usenix.org/legacy/event/osdi04/tech/full_papers/dean/dean_html/ Situation \u00b6 Crawled documents \u5904\u7406\u722c\u53d6\u7684\u6587\u6863 Handle failures and conspire to obscure \u5904\u7406\u5931\u8d25\u8017\u8d39\u5927\u91cf\u7684\u4ee3\u7801\u6765\u5904\u7406 Section \u00b6 Introduction Basic programing model Cluster environment implementation Refinements (\u6539\u826f\u54c1) of programing model Performance measurements (of implementation in variety tasks) Explores about actual use, rewrite production indexing system \uff08\u751f\u4ea7\u7d22\u5f15\u7cfb\u7edf\uff09 Discuss future relate work Content \u00b6 2. Programming model \u00b6 Input: set of key-value pairs Output: same set of key-value pairs - Map \u00b6 Map , written by the user, takes an input pair and produces a set of intermediate key/value pairs. The MapReduce library groups together all intermediate values associated with the same intermediate key \\(I\\) and passes them to the Reduce function. 1.Take input pairs 2. Produce (\u751f\u6210) intermediate pairs 3. Groups/Classify 4. Make Intermediate values associated same intermediate key 5. Passes to Reduce - Reduce \u00b6 The Reduce function, also written by the user, accepts an intermediate key and a set of values for that key. It merges together these values to form a possibly smaller set of values. Typically just zero or one output value is produced per Reduce invocation. The intermediate values are supplied to the user's reduce function via an iterator. This allows us to handle lists of values that are too large to fit in memory. Accepts Intermediate key \\(I\\) and **a set of values for \\(I\\) Merges together these value possibly to a smaller set of value Typically (\u4e00\u822c) generate 0~1 output Reduce too large data to fit in memory - Example \u00b6 \u7edf\u8ba1\u5173\u952e\u8bcd\uff0c\u5148map\u6bcf\u4e2a\u8bcd\u7684 occurrence times\uff0c \u5728 Reduce \u8ba1\u7b97\u51fa \u7ed9\u5b9a\u7684 n \u4e2akey word \u9996\u9875\u6392\u5e8f\uff0c \u5148 map \u51fa\u6240\u6709\u5e16\u5b50\u7684\u70ed\u5ea6\uff0c \u5728reduce\u51fa\u987a\u5e8f ... 3. Execution Overview \u00b6 1. Master Data Structures \u00b6 State: idle, in-progress, completed Worker identity(none-idle) Reduce files' regions: locations, size 2. Fault Tolerance \u00b6 Worker Failure \u00b6 Method: Periodically ping from master to worker in a certain time Handle: Any map/reduce tasks completed by this worker are reset to initial idle state Become eligible\uff08\u5408\u9002\u7684\uff09Scheduling (\u8c03\u5ea6) on other workers Master Failure \u00b6 Write/Record checkpoints of master data structure A new copy started in the last checkpointed state when exception Semantics in the Presence of Failures \u00b6 (\u5931\u8d25\u60c5\u51b5\u4e0b\u7684\u8bed\u4e49) A reduce task produces one such file, and a map task produces \\(R\\) such files (one per reduce task). When a map task completes, the worker sends a message to the master and includes the names of the \\(R\\) temporary files in the message. If the master receives a completion message for an already completed map task, it ignores the message. Otherwise, it records the names of \\(R\\) files in a master data structure. - complete task When a reduce task completes, the reduce worker atomically renames its temporary output file to the final output file. If the same reduce task is executed on multiple machines, multiple rename calls will be executed for the same final output file. We rely on the atomic rename operation provided by the underlying file system to guarantee that the final file system state contains just the data produced by one execution of the reduce task. - Atomic operator (rename output file) 3. Locality (\u672c\u5730\u5316) \u00b6 \u591a\u526f\u672c\uff0c \u672c\u5730\u5730\u8fdb\u884cM and R, \u51cf\u5c11\u7f51\u7edc\u5f00\u9500 3 copies in multiple machines Map locations (\u6620\u5c04\u4f4d\u7f6e) in every machines If failed, replica a task near the input data, reduce network cost 4. Task Granularity(\u4efb\u52a1\u7c92\u5ea6) \u00b6 \u8d1f\u8f7d\u5747\u8861 R:M 200000 : 5000 , 2000 worker machines 5. Backup Tasks \u00b6 straggler (\u6389\u961f\u8005) lengthens the total time Mark as completed and back-up to a almost complete task 4. Refinements(\u4f18\u5316) \u00b6 Partitioning Function(\u62c6\u89e3\u51fd\u6570/\u6d41\u7a0b) Ordering Guarantees (M_P \u987a\u5e8f\u4fdd\u8bc1) Combiner Function Input and Output Types text treats each-line as key-value Input automatically split into meaningful range of sperate MAP task Side-effects(\u6ca1\u7406\u89e3\u5230) Skipping Bad Records Local Execution Status Information (\u5185\u7f6e http \u4e3b\u9875\uff0c \u663e\u793a\u96c6\u7fa4\u5065\u5eb7) Counters (\u7edf\u8ba1\uff0c\u5b9e\u65f6\u89c2\u6d4b\u8fdb\u5ea6\uff0c\u907f\u514d\u91cd\u590dtaski; \u6821\u9a8c\u5b8c\u6574\u6027) 5. Performance \u00b6 Some experiment test output data shows the performance promote. 6. Experience \u00b6 \u5927\u89c4\u6a21\u7684\u673a\u68b0\u5b66\u4e60\u7684\u95ee\u9898\uff0c \u96c6\u7fa4\u95ee\u9898\u7684\u8c37\u6b4c\u65b0\u95fb\u548cFroogle\u4ea7\u54c1\uff0c \u63d0\u53d6\u7684\u6570\u636e\u7528\u6765\u5236\u4f5c\u62a5\u544a\u7684\u6d41\u884c\u67e5\u8be2 (\u4f8b\u5982\u8c37\u6b4c\u7684\u65f6\u4ee3\u7cbe\u795e\u7684), \u63d0\u53d6\u7684\u7279\u6027\u7684\u7f51\u9875\u7684\u65b0\u5b9e\u9a8c \u4ea7\u54c1(\u4f8b\u5982\u63d0\u53d6\u7684\u5730\u7406\u4f4d\u7f6e\uff0c\u4ece\u4e00\u4e2a\u5927\u7684\u7f51\u9875\u4e3a\u672c\u5730\u5316\u7684\u641c\u7d22)\uff0c \u5927\u89c4\u6a21\u66f2\u7ebf\u56fe\u8ba1\u7b97\u3002 7. Relate Work \u00b6 Conclusion \u00b6 Effective model Easy to use (even coder without distribution experience) Distribution and Parallel get more fault-tolerance by limit in model Network resource are scarcity(\u7a00\u7f3a\u7684)\uff0c Optimizer for local execution and reduce data-send and cross-regions Partitioning Function and redundancy(\u5197\u4f59\u7684) steps can reduce the effect of slow machines and \"straggler\"(\u6389\u961f\u8005) . Can handle exception of machine and data lose (\u68c0\u67e5\u70b9)","title":"Map_Reduce"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#map-reduce-simplified-data-processing-on-large-cluster","text":"\u9605\u8bfb Map Reduce \u8fdb\u884c\u8bb0\u5f55\u7684\u5f15\u7528 https://www.usenix.org/legacy/event/osdi04/tech/full_papers/dean/dean_html/","title":"Map Reduce : Simplified data processing on large Cluster"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#situation","text":"Crawled documents \u5904\u7406\u722c\u53d6\u7684\u6587\u6863 Handle failures and conspire to obscure \u5904\u7406\u5931\u8d25\u8017\u8d39\u5927\u91cf\u7684\u4ee3\u7801\u6765\u5904\u7406","title":"Situation"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#section","text":"Introduction Basic programing model Cluster environment implementation Refinements (\u6539\u826f\u54c1) of programing model Performance measurements (of implementation in variety tasks) Explores about actual use, rewrite production indexing system \uff08\u751f\u4ea7\u7d22\u5f15\u7cfb\u7edf\uff09 Discuss future relate work","title":"Section"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#content","text":"","title":"Content"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#2-programming-model","text":"Input: set of key-value pairs Output: same set of key-value pairs","title":"2. Programming model"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#-map","text":"Map , written by the user, takes an input pair and produces a set of intermediate key/value pairs. The MapReduce library groups together all intermediate values associated with the same intermediate key \\(I\\) and passes them to the Reduce function. 1.Take input pairs 2. Produce (\u751f\u6210) intermediate pairs 3. Groups/Classify 4. Make Intermediate values associated same intermediate key 5. Passes to Reduce","title":"- Map"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#-reduce","text":"The Reduce function, also written by the user, accepts an intermediate key and a set of values for that key. It merges together these values to form a possibly smaller set of values. Typically just zero or one output value is produced per Reduce invocation. The intermediate values are supplied to the user's reduce function via an iterator. This allows us to handle lists of values that are too large to fit in memory. Accepts Intermediate key \\(I\\) and **a set of values for \\(I\\) Merges together these value possibly to a smaller set of value Typically (\u4e00\u822c) generate 0~1 output Reduce too large data to fit in memory","title":"- Reduce"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#-example","text":"\u7edf\u8ba1\u5173\u952e\u8bcd\uff0c\u5148map\u6bcf\u4e2a\u8bcd\u7684 occurrence times\uff0c \u5728 Reduce \u8ba1\u7b97\u51fa \u7ed9\u5b9a\u7684 n \u4e2akey word \u9996\u9875\u6392\u5e8f\uff0c \u5148 map \u51fa\u6240\u6709\u5e16\u5b50\u7684\u70ed\u5ea6\uff0c \u5728reduce\u51fa\u987a\u5e8f ...","title":"- Example"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#3-execution-overview","text":"","title":"3. Execution Overview"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#1-master-data-structures","text":"State: idle, in-progress, completed Worker identity(none-idle) Reduce files' regions: locations, size","title":"1. Master Data Structures"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#2-fault-tolerance","text":"","title":"2. Fault Tolerance"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#worker-failure","text":"Method: Periodically ping from master to worker in a certain time Handle: Any map/reduce tasks completed by this worker are reset to initial idle state Become eligible\uff08\u5408\u9002\u7684\uff09Scheduling (\u8c03\u5ea6) on other workers","title":"Worker Failure"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#master-failure","text":"Write/Record checkpoints of master data structure A new copy started in the last checkpointed state when exception","title":"Master Failure"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#semantics-in-the-presence-of-failures","text":"(\u5931\u8d25\u60c5\u51b5\u4e0b\u7684\u8bed\u4e49) A reduce task produces one such file, and a map task produces \\(R\\) such files (one per reduce task). When a map task completes, the worker sends a message to the master and includes the names of the \\(R\\) temporary files in the message. If the master receives a completion message for an already completed map task, it ignores the message. Otherwise, it records the names of \\(R\\) files in a master data structure. - complete task When a reduce task completes, the reduce worker atomically renames its temporary output file to the final output file. If the same reduce task is executed on multiple machines, multiple rename calls will be executed for the same final output file. We rely on the atomic rename operation provided by the underlying file system to guarantee that the final file system state contains just the data produced by one execution of the reduce task. - Atomic operator (rename output file)","title":"Semantics in the Presence of Failures"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#3-locality","text":"\u591a\u526f\u672c\uff0c \u672c\u5730\u5730\u8fdb\u884cM and R, \u51cf\u5c11\u7f51\u7edc\u5f00\u9500 3 copies in multiple machines Map locations (\u6620\u5c04\u4f4d\u7f6e) in every machines If failed, replica a task near the input data, reduce network cost","title":"3. Locality (\u672c\u5730\u5316)"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#4-task-granularity","text":"\u8d1f\u8f7d\u5747\u8861 R:M 200000 : 5000 , 2000 worker machines","title":"4. Task Granularity(\u4efb\u52a1\u7c92\u5ea6)"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#5-backup-tasks","text":"straggler (\u6389\u961f\u8005) lengthens the total time Mark as completed and back-up to a almost complete task","title":"5. Backup Tasks"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#4-refinements","text":"Partitioning Function(\u62c6\u89e3\u51fd\u6570/\u6d41\u7a0b) Ordering Guarantees (M_P \u987a\u5e8f\u4fdd\u8bc1) Combiner Function Input and Output Types text treats each-line as key-value Input automatically split into meaningful range of sperate MAP task Side-effects(\u6ca1\u7406\u89e3\u5230) Skipping Bad Records Local Execution Status Information (\u5185\u7f6e http \u4e3b\u9875\uff0c \u663e\u793a\u96c6\u7fa4\u5065\u5eb7) Counters (\u7edf\u8ba1\uff0c\u5b9e\u65f6\u89c2\u6d4b\u8fdb\u5ea6\uff0c\u907f\u514d\u91cd\u590dtaski; \u6821\u9a8c\u5b8c\u6574\u6027)","title":"4. Refinements(\u4f18\u5316)"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#5-performance","text":"Some experiment test output data shows the performance promote.","title":"5. Performance"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#6-experience","text":"\u5927\u89c4\u6a21\u7684\u673a\u68b0\u5b66\u4e60\u7684\u95ee\u9898\uff0c \u96c6\u7fa4\u95ee\u9898\u7684\u8c37\u6b4c\u65b0\u95fb\u548cFroogle\u4ea7\u54c1\uff0c \u63d0\u53d6\u7684\u6570\u636e\u7528\u6765\u5236\u4f5c\u62a5\u544a\u7684\u6d41\u884c\u67e5\u8be2 (\u4f8b\u5982\u8c37\u6b4c\u7684\u65f6\u4ee3\u7cbe\u795e\u7684), \u63d0\u53d6\u7684\u7279\u6027\u7684\u7f51\u9875\u7684\u65b0\u5b9e\u9a8c \u4ea7\u54c1(\u4f8b\u5982\u63d0\u53d6\u7684\u5730\u7406\u4f4d\u7f6e\uff0c\u4ece\u4e00\u4e2a\u5927\u7684\u7f51\u9875\u4e3a\u672c\u5730\u5316\u7684\u641c\u7d22)\uff0c \u5927\u89c4\u6a21\u66f2\u7ebf\u56fe\u8ba1\u7b97\u3002","title":"6. Experience"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#7-relate-work","text":"","title":"7. Relate Work"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/Map_Reduce/#conclusion","text":"Effective model Easy to use (even coder without distribution experience) Distribution and Parallel get more fault-tolerance by limit in model Network resource are scarcity(\u7a00\u7f3a\u7684)\uff0c Optimizer for local execution and reduce data-send and cross-regions Partitioning Function and redundancy(\u5197\u4f59\u7684) steps can reduce the effect of slow machines and \"straggler\"(\u6389\u961f\u8005) . Can handle exception of machine and data lose (\u68c0\u67e5\u70b9)","title":"Conclusion"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/RAFT/","text":"RAFT: Recurrent All-Pairs Field Transforms for Optical Flow \u00b6","title":"RAFT: Recurrent All-Pairs Field Transforms for Optical Flow"},{"location":"Blog/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6.824/RAFT/#raft-recurrent-all-pairs-field-transforms-for-optical-flow","text":"","title":"RAFT: Recurrent All-Pairs Field Transforms for Optical Flow"},{"location":"Blog/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/","text":"\u8fdb\u7a0b\u95f4\u901a\u4fe1 \u00b6 \u5e38\u7528\u7684\u65b9\u6cd5\u6709: 1. pipe \u533f\u540d\u7ba1\u9053 2. fifo \u6709\u540d\u7ba1\u9053 3. signal \u4fe1\u53f7 4. mmap \u5185\u5b58\u6620\u5c04 5. socket \u5957\u63a5\u5b57(\u4f7f\u7528\u6700\u591a)","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1"},{"location":"Blog/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1/#_1","text":"\u5e38\u7528\u7684\u65b9\u6cd5\u6709: 1. pipe \u533f\u540d\u7ba1\u9053 2. fifo \u6709\u540d\u7ba1\u9053 3. signal \u4fe1\u53f7 4. mmap \u5185\u5b58\u6620\u5c04 5. socket \u5957\u63a5\u5b57(\u4f7f\u7528\u6700\u591a)","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLang/","text":"SQL lang \u00b6 DISTINCT \u00b6 \u7528\u5728 select \u540e, \u7528\u4e8e\u53bb\u91cd\u5355\u884c\u7684\u7ed3\u679c, \u4f46\u662f\u5bf9\u4e8e\u591acol \u6570\u636e \u9488\u5bf9\u67d0\u4e00col\u53bb\u91cd\u5c31\u4e0d\u884c\u4e86,\u8fd9\u65f6\u5019\u9700\u8981\u7528\u5230 GROUP by SQL 1 select DISTINC id , name from tb ; GROUP \u00b6 SQL 1 select id , name from tb GROUP by id ; JOIN \u00b6","title":"SQLang"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLang/#sql-lang","text":"","title":"SQL lang"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLang/#distinct","text":"\u7528\u5728 select \u540e, \u7528\u4e8e\u53bb\u91cd\u5355\u884c\u7684\u7ed3\u679c, \u4f46\u662f\u5bf9\u4e8e\u591acol \u6570\u636e \u9488\u5bf9\u67d0\u4e00col\u53bb\u91cd\u5c31\u4e0d\u884c\u4e86,\u8fd9\u65f6\u5019\u9700\u8981\u7528\u5230 GROUP by SQL 1 select DISTINC id , name from tb ;","title":"DISTINCT"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLang/#group","text":"SQL 1 select id , name from tb GROUP by id ;","title":"GROUP"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/SQLang/#join","text":"","title":"JOIN"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/CMU15-445/Homework/","text":"Homework \u00b6 1. SQL \u00b6 Q2 string function: SQL 1 2 3 4 5 6 7 SELECT ShipName , substr ( ShipName , 0 , instr ( ShipName , '-' )) as PreHyphen FROM 'Order' WHERE ShipName REGEXP '-' Group by ShipName ORDER BY ShipName ; Q3 North America \u9644\u52a0\u4e00\u5217\u53ef\u4ee5\u76f4\u5728 select \u540e\u5224\u65ad ```sql SELECT Id, ShipCountry , CASE WHEN ShipCountry IN ('USA', 'Mexico', 'Canada') THEN 'NorthAmerica' ELSE 'OtherPlace' END FROM 'Order' WHERE Id>=15445 ORDER by Id ASC LIMIT 20; Text Only 1 2 3 4 5 6 7 8 9 10 11 - Q4 Delay Precent ```sql SELECT DISTINCT ShipName from 'Order' order by ShipName, SELECT ShipperName , from 'Order' SELECT ShipName from 'Order' WHERE ShipName Count(ShippedData>RequiredData)/Count(ShipName) DESC by","title":"Homework"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/CMU15-445/Homework/#homework","text":"","title":"Homework"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/CMU15-445/Homework/#1-sql","text":"Q2 string function: SQL 1 2 3 4 5 6 7 SELECT ShipName , substr ( ShipName , 0 , instr ( ShipName , '-' )) as PreHyphen FROM 'Order' WHERE ShipName REGEXP '-' Group by ShipName ORDER BY ShipName ; Q3 North America \u9644\u52a0\u4e00\u5217\u53ef\u4ee5\u76f4\u5728 select \u540e\u5224\u65ad ```sql SELECT Id, ShipCountry , CASE WHEN ShipCountry IN ('USA', 'Mexico', 'Canada') THEN 'NorthAmerica' ELSE 'OtherPlace' END FROM 'Order' WHERE Id>=15445 ORDER by Id ASC LIMIT 20; Text Only 1 2 3 4 5 6 7 8 9 10 11 - Q4 Delay Precent ```sql SELECT DISTINCT ShipName from 'Order' order by ShipName, SELECT ShipperName , from 'Order' SELECT ShipName from 'Order' WHERE ShipName Count(ShippedData>RequiredData)/Count(ShipName) DESC by","title":"1. SQL"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/MYSQL%E8%AF%AD%E6%B3%95/","text":"1, \u5bfc\u5165\u6570\u636e - \u9009\u62e9\u4e00\u4e2adatabase\u540e\uff0csource+\u6587\u4ef6","title":"MYSQL\u8bed\u6cd5"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/%E5%AE%89%E8%A3%85MYSQL/","text":"\u4ecebundle\u5b89\u88c5 \u00b6 Debian \u00b6 \u7cfb\u7edf\u4fe1\u606f: PRETTY_NAME=\"Debian GNU/Linux 11 (bullseye)\" NAME=\"Debian GNU/Linux\" VERSION_ID=\"11\" VERSION=\"11 (bullseye)\" VERSION_CODENAME=bullseye ID=debian HOME_URL=\"https://www.debian.org/\" SUPPORT_URL=\"https://www.debian.org/support\" BUG_REPORT_URL=\"https://bugs.debian.org/\" mysql\u7248\u672c: mysql-server_8.0.30-1debian11_amd64.deb-bundle \u4e8edebian\u7cfb\u5217\u7cfb\u7edf\u4e0b\uff0c\u4ece\u5b98\u7f51\u4e0b\u8f7ddeb bundle\u5305\u540e \u4f7f\u7528 tar -xfv \u89e3\u538b tar \u5305\uff0c\u7136\u540e \u6839\u636e\u4f9d\u8d56\u4f7f\u7528 dpkg -i \u4f9d\u6b21\u5b89\u88c5 [ERROR] no usable dialog-like program is installed apt install Dialog mysqld --user=root, \u542f\u52a8\u6210\u529f run mysql_security_installation \u8fdb\u884c\u5b89\u5168\u7ba1\u7406","title":"\u4ecebundle\u5b89\u88c5"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/%E5%AE%89%E8%A3%85MYSQL/#bundle","text":"","title":"\u4ecebundle\u5b89\u88c5"},{"location":"Blog/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/%E5%AE%89%E8%A3%85MYSQL/#debian","text":"\u7cfb\u7edf\u4fe1\u606f: PRETTY_NAME=\"Debian GNU/Linux 11 (bullseye)\" NAME=\"Debian GNU/Linux\" VERSION_ID=\"11\" VERSION=\"11 (bullseye)\" VERSION_CODENAME=bullseye ID=debian HOME_URL=\"https://www.debian.org/\" SUPPORT_URL=\"https://www.debian.org/support\" BUG_REPORT_URL=\"https://bugs.debian.org/\" mysql\u7248\u672c: mysql-server_8.0.30-1debian11_amd64.deb-bundle \u4e8edebian\u7cfb\u5217\u7cfb\u7edf\u4e0b\uff0c\u4ece\u5b98\u7f51\u4e0b\u8f7ddeb bundle\u5305\u540e \u4f7f\u7528 tar -xfv \u89e3\u538b tar \u5305\uff0c\u7136\u540e \u6839\u636e\u4f9d\u8d56\u4f7f\u7528 dpkg -i \u4f9d\u6b21\u5b89\u88c5 [ERROR] no usable dialog-like program is installed apt install Dialog mysqld --user=root, \u542f\u52a8\u6210\u529f run mysql_security_installation \u8fdb\u884c\u5b89\u5168\u7ba1\u7406","title":"Debian"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/LibEvent/","text":"libevent \u00b6 \u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8 \u8054\u5408\u4f53 event.data.ptr epoll \u7684\u4e07\u80fd\u6307\u9488\u6765\u4f20\u9001\u4e0a\u4e0b\u6587 (sockfd, epollfd)","title":"libevent"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/LibEvent/#libevent","text":"\u57fa\u4e8e\u4e8b\u4ef6\u9a71\u52a8 \u8054\u5408\u4f53 event.data.ptr epoll \u7684\u4e07\u80fd\u6307\u9488\u6765\u4f20\u9001\u4e0a\u4e0b\u6587 (sockfd, epollfd)","title":"libevent"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/nginx/","text":"\u914d\u7f6e \u901a\u5e38 /etc/nginx/nginx.conf nginx\u4e0etomcat: [[\u725b\u5ba2\u793e\u533a\u9879\u76ee\u603b\u7ed3#tomcat \u4e0e nginx]]] \u914d\u7f6e \u76d1\u542c\u5730\u5740\u4e0e\u7aef\u53e3\u7b49 nginx -s reload","title":"Nginx"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/","text":"Sylar Webserver Frame and Arch \u00b6 1. \u5f00\u53d1\u73af\u5883 \u00b6 wsl:arch-linux gcc 12.0.1 cmake 3.24.1 2. \u9879\u76ee\u76ee\u5f55\u7ed3\u6784 \u00b6 build cmake -- cmake \u51fd\u6570\u6587\u4ef6\u5939 CMakeLists.txt lib Makefile Sylar -- \u6e90\u7801\u8def\u5f84 test -- \u6d4b\u8bd5\u4ee3\u7801\u4f4d\u7f6e 3. \u65e5\u5fd7 \u00b6 \u4eff\u7167log4j Logger(\u5b9a\u4e49\u65e5\u5fd7\u7c7b\u522b), Appender (output) , Formatter(format) 4. \u5c01\u88c5\u7684\u643a\u7a0b\u5e93 \u00b6 socket \u51fd\u6570\u5e93 - http\u534f\u8bae\u5f00\u53d1 - \u5206\u5e03\u5f0f\u534f\u8bae\u5e93 - \u63a8\u8350\u7cfb\u7edf","title":"Sylar Webserver Frame and Arch"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/#sylar-webserver-frame-and-arch","text":"","title":"Sylar Webserver Frame and Arch"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/#1","text":"wsl:arch-linux gcc 12.0.1 cmake 3.24.1","title":"1. \u5f00\u53d1\u73af\u5883"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/#2","text":"build cmake -- cmake \u51fd\u6570\u6587\u4ef6\u5939 CMakeLists.txt lib Makefile Sylar -- \u6e90\u7801\u8def\u5f84 test -- \u6d4b\u8bd5\u4ee3\u7801\u4f4d\u7f6e","title":"2. \u9879\u76ee\u76ee\u5f55\u7ed3\u6784"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/#3","text":"\u4eff\u7167log4j Logger(\u5b9a\u4e49\u65e5\u5fd7\u7c7b\u522b), Appender (output) , Formatter(format)","title":"3. \u65e5\u5fd7"},{"location":"Blog/%E6%9C%8D%E5%8A%A1%E5%99%A8/Webserver_Series/Sylar_Webserver/Sylar%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A1%86%E6%9E%B6/#4","text":"socket \u51fd\u6570\u5e93 - http\u534f\u8bae\u5f00\u53d1 - \u5206\u5e03\u5f0f\u534f\u8bae\u5e93 - \u63a8\u8350\u7cfb\u7edf","title":"4. \u5c01\u88c5\u7684\u643a\u7a0b\u5e93"},{"location":"Blog/%E7%BD%91%E7%BB%9C/Http%E5%90%84%E7%89%88%E6%9C%AC/","text":"Http\u5404\u7248\u672c\u7684\u94fe\u63a5 \u00b6 1.0 \u591a\u4e2a\u5305\u9700\u8981\u540c\u6b65\u5e94\u7b54 1.1 \u542f\u7528pipeline\u53ef\u4ee5\u5f02\u6b65\u53d1\u5305\uff0c\u4f46\u56de\u5e94\u4e5f\u9700\u8981\u987a\u5e8f\u4e00\u81f4 2.0 \u53ef\u4ee5\u4efb\u610f\u987a\u5e8f\u56de\u590d\u5305\uff0c\u4ee5\u6807\u8bc6\u7b26\u786e\u8ba4","title":"Http\u5404\u7248\u672c"},{"location":"Blog/%E7%BD%91%E7%BB%9C/Http%E5%90%84%E7%89%88%E6%9C%AC/#http","text":"1.0 \u591a\u4e2a\u5305\u9700\u8981\u540c\u6b65\u5e94\u7b54 1.1 \u542f\u7528pipeline\u53ef\u4ee5\u5f02\u6b65\u53d1\u5305\uff0c\u4f46\u56de\u5e94\u4e5f\u9700\u8981\u987a\u5e8f\u4e00\u81f4 2.0 \u53ef\u4ee5\u4efb\u610f\u987a\u5e8f\u56de\u590d\u5305\uff0c\u4ee5\u6807\u8bc6\u7b26\u786e\u8ba4","title":"Http\u5404\u7248\u672c\u7684\u94fe\u63a5"},{"location":"Blog/%E7%BD%91%E7%BB%9C/Ip%E5%9C%B0%E5%9D%80%E7%9B%B8%E5%85%B3/","text":"\u83b7\u53d6\u5f53\u524d\u4e3b\u673a\u7684\u5916\u7f51\u5730\u5740 Text Only 1 curl -L ip.tool.lu","title":"Ip\u5730\u5740\u76f8\u5173"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/","text":"\u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65I/O \u00b6 Select Poll Epoll 1. \u963b\u585e\u4e0e\u975e\u963b\u585e \u00b6 \u5c31\u662f\u662f\u5426\u7b49\u5f85\u7684\u533a\u522b\uff0c\u4ee5 linux\u7684 Socket \u901a\u4fe1\u6765\u8bf4: \u963b\u585e\u5c31\u662f\u8c03\u7528 read() \u8bfb\u53d6socket \u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\uff0c\u5c31\u4f1a \u963b\u585e \u7740\u5faa\u73af\u7b49\u5f85\uff0c\u76f4\u5230\u6709\u6570\u636e\u65f6\u518d\u7ee7\u7eed\u6267\u884c\u8bfb\u64cd\u4f5c \u975e\u963b\u585e\u5c31\u662f\u5982\u679c\u8bbe\u7f6e\u4e86\u8fd9\u4e2asocket \u975e\u963b\u585e\u5c5e\u6027\u540e\uff0c\u6ca1\u6709\u6570\u636e\u65f6\u4e5f\u4f1a\u5faa\u73af\u5730\u8bfb\u53d6\uff0c\u4f46\u4f1a \u76f4\u63a5\u8fd4\u56de \u8bfb\u53d6\u7684\u7ed3\u679c(\u8bfb\u5230\u7684\u5b57\u8282\u6570\u3001\u9519\u8bef\u4ee3\u7801) 2. \u540c\u6b65\u4e0e\u5f02\u6b65 \u00b6 \u540c\u6b65\u4e0e\u5f02\u6b65\u5176\u5b9e\u662f\u4e00\u79cd\u601d\u60f3\u4e0a\u7684\u533a\u522b\uff0c\u501f\u7f51\u4e0a\u7684\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff1a \u540c\u6b65\u5c31\u662f\uff0c\u5f53\u4f60\u5f00\u4e86\u4e00\u5bb6\u5feb\u9910\u53ea\u80fd\u6253\u5305\u5e26\u8d70\u7684\uff0c\u6765\u4e00\u4e2a\u5ba2\u4eba\u7ed9\u4ed6\u73b0\u505a\u4e00\u4efd\uff0c\u5176\u4ed6\u7684\u5c31\u5728\u540e\u9762\u6392\u961f\uff0c\u963b\u585e\u7740\u7b49\u5f85 \u5f02\u6b65\u5c31\u662f\uff0c\u5f00\u4e86\u4e00\u5bb6\u9910\u9986\u6216\u8005\u5916\u5356\uff0c\u5ba2\u4eba\u6765\u4e86\u70b9\u83dc\u6216\u8005\u53d1\u4e00\u4e2a\u8ba2\u5355 \u5e94\u7528\u573a\u666f\u4e0a\uff1a \u540c\u6b65\u9700\u8981\u7acb\u523b\u5f97\u5230\u53cd\u9988\uff0c\u6ca1\u6709\u5c31\u7b49\u7740\u4e0d\u5e72\u522b\u7684\u4e8b\u60c5\uff1b \u800c\u5f02\u6b65\u5c31\u4e0d\u9700\u8981\uff0c\u53ea\u9700\u8981\u4e0b\u8ba2\u5355\u7136\u540e\u7b49\u4ed6\u5b8c\u6210\u4e4b\u540e\u63d0\u9192\u4f60\u5c31\u884c\u4e86\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5e72\u5176\u4ed6\u7684\u4e8b\u60c5 3. \u5f02\u6b65I/O \u00b6 \u8fd9\u65f6\u5019\u53ef\u80fd\u4f1a\u6709\u7591\u95ee\uff1a\u5f02\u6b65I/O\u662f\u4e0d\u662f\u8bbe\u7f6eSocket\u975e\u963b\u585e\u5c31\u884c\u4e86\uff1f\u6709\u6570\u636e\u5c31\u8bfb\u53d6\uff0c\u6570\u636e\u6ca1\u6709\u5c31\u7acb\u5373\u8fd4\u56de\u3002 \u4e0d\u662f\u7684 \u3002\u5f53Socket\u6709\u6570\u636e\u65f6\uff0c\u4e3b\u7ebf\u7a0b\u8981\u4e0d\u65ad\u628aSocket\u4e0a\u7684\u6570\u636e\u642c\u5230\u5230\u672c\u5730\u7684\u7f13\u51b2\u533a\u5185\uff0c\u5199\u7684\u65f6\u5019\u8981\u4e0d\u65ad\u5730\u628a\u672c\u5730\u7f13\u51b2\u533a\u7684\u6570\u636e\u642c\u5230Socket\u4e0a\uff0c\u8fd9\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u963b\u585e\u5728\u8fd9\u91cc\u4e86\uff0c\u7a0b\u5e8f\u5e72\u4e0d\u4e86\u522b\u7684\u4e8b\u60c5\u3002 \u53ea\u6709\u4f7f\u7528\u7279\u6b8aAPI\u628a\u642c\u8fd0\u6570\u636e\u7684\u5de5\u4f5c\u4ea4\u7ed9\u5185\u6838\u7684\u624d\u53eb\u5f02\u6b65I/O: \u5185\u6838\u642c\u8fd0\u5b8c\u6570\u636e\uff0c\u628a\u7f13\u51b2\u533a\u7684\u5730\u5740\u7ed9\u4e3b\u7ebf\u7a0b ---> \u4e3b\u7ebf\u7a0b\u628a\u5185\u5bb9\u5c01\u88c5\u6210\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\uff0c\u4ea4\u7ed9\u5b50\u7ebf\u7a0b\u6765\u5904\u7406\u4e1a\u52a1\u903b\u8f91 ---> \u5b50\u7ebf\u7a0b\u89e3\u6790\u5b8c\uff0c\u628a\u8981\u5199\u56de\u6570\u636e\u7684\u7f13\u51b2\u533a\u5730\u5740\u544a\u8bc9\u4e3b\u7ebf\u7a0b ---> \u4e3b\u7ebf\u7a0b\u518d\u628a\u5199\u4efb\u52a1\u4ea4\u7ed9\u5185\u6838 \u8fd9\u6837\u8fdb\u7a0b\u4e2d\u5c31\u6ca1\u6709\u989d\u5916\u963b\u585e\u7b49\u5f85\uff0c\u8fbe\u5230\u6700\u9ad8\u6548\u7387 \u53ea\u6709\u4f7f\u7528\u4e86\u7279\u6b8aAPI\u7684\u624d\u662f\u5f02\u6b65IO EPOLL/SELECT/POOL\u90fd\u662f\u540c\u6b65 \u53ea\u6709\u662f\u7cfb\u7edf\u5e2e\u6211\u4eec\u628a\u6570\u636e\u4ece\u5185\u6838\u642c\u8fd0\uff0c\u901a\u77e5\u6211\u4eec\u53bb\u53d6\u7684\u624d\u662f\u5f02\u6b65\u7684 4. Unix/Linx 5\u79cd I/O \u6a21\u578b \u00b6 blocking non-blcoking \u901a\u8fc7 setsockopt \u6539\u53d8 cfd \u7684\u5c5e\u6027\u4e3a\u975e\u963b\u585e \u6ca1\u6709\u65b0\u6570\u636e\u7684\u65f6\u5019\u4e0d\u518d\u963b\u585e \u4f46\u662f\u8bfb\u5230\u7a7a\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684\u4fe1\u53f7\uff1a EAGAIN EINTR AGAIN \u5e76\u4e14\u5728\u8bfb\u53d6\u7684\u65f6\u5019\u8fd8\u9700\u8981\u81ea\u5df1\u4ece\u5185\u6838\u628a\u7f13\u51b2\u533a\u7684\u6570\u636e\u642c\u51fa\u6765\uff0c\u963b\u585e\u5728\u8fd9\u91cc IO multiplexing (IO\u590d\u7528) \u901a\u8fc7select/poll/epoll \u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u8ba9\u5185\u6838\u5e2e\u6211\u4eec\u76d1\u542c \u5f53\u76d1\u542c\u7684fd\u53d8\u5316\uff0c\u8fd4\u56de\u53ef\u8bfb\u7684fd \u4e3b\u8981\u6548\u679c\u662f\u8ba9\u5355\u7ebf\u7a0b\u53ef\u4ee5\u68c0\u6d4b\u591a\u4e2afd\uff0c\u51cf\u5c11\u4e86\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5f00\u9500 signal-driven (\u4fe1\u53f7\u9a71\u52a8) \u5927\u6982\u662f\u6ce8\u518c SIGACTION \u6765\u8fd4\u56de\u53d8\u5316\u7684fd \u4f46\u662f\u5728read\u7684\u65f6\u5019\u8fd8\u662f\u540c\u6b65\u7684\u963b\u585e\u7684 asynchronous (\u5f02\u6b65) unix\u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528aio_read \u51fd\u6570\uff0c\u544a\u8bc9\u5185\u6838\u7f13\u51b2\u533a\u6307\u9488\uff0c\u548c\u7f13\u51b2\u533a\u5927\u5c0f\u3001\u6587\u4ef6\u504f\u79fb\u53ca\u901a\u77e5\u7684\u65b9\u5f0f\uff0c\u7136\u540e\u7acb\u523b\u8fd4\u56de \u7531\u5185\u6838\u5e2e\u6211\u4eec\u8fdb\u884c\u62f7\u8d1d\u6570\u636e\u5230\u7f13\u5b58\u533a \u901a\u8fc7\u6ce8\u518c\u7684\u901a\u77e5\u65b9\u5f0f\u6765\u63d0\u9192 \u8fd9\u65f6\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528\u5df2\u7ecf\u88c5\u597d\u6570\u636e\u7684\u7f13\u51b2\u533a\u5c31\u53ef\u4ee5\u4e86 \u5927\u5927\u63d0\u5347\u4e86\u6548\u7387","title":"\u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65IO"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/#io","text":"Select Poll Epoll","title":"\u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65I/O"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/#1","text":"\u5c31\u662f\u662f\u5426\u7b49\u5f85\u7684\u533a\u522b\uff0c\u4ee5 linux\u7684 Socket \u901a\u4fe1\u6765\u8bf4: \u963b\u585e\u5c31\u662f\u8c03\u7528 read() \u8bfb\u53d6socket \u65f6\uff0c\u5982\u679c\u6ca1\u6709\u6570\u636e\uff0c\u5c31\u4f1a \u963b\u585e \u7740\u5faa\u73af\u7b49\u5f85\uff0c\u76f4\u5230\u6709\u6570\u636e\u65f6\u518d\u7ee7\u7eed\u6267\u884c\u8bfb\u64cd\u4f5c \u975e\u963b\u585e\u5c31\u662f\u5982\u679c\u8bbe\u7f6e\u4e86\u8fd9\u4e2asocket \u975e\u963b\u585e\u5c5e\u6027\u540e\uff0c\u6ca1\u6709\u6570\u636e\u65f6\u4e5f\u4f1a\u5faa\u73af\u5730\u8bfb\u53d6\uff0c\u4f46\u4f1a \u76f4\u63a5\u8fd4\u56de \u8bfb\u53d6\u7684\u7ed3\u679c(\u8bfb\u5230\u7684\u5b57\u8282\u6570\u3001\u9519\u8bef\u4ee3\u7801)","title":"1. \u963b\u585e\u4e0e\u975e\u963b\u585e"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/#2","text":"\u540c\u6b65\u4e0e\u5f02\u6b65\u5176\u5b9e\u662f\u4e00\u79cd\u601d\u60f3\u4e0a\u7684\u533a\u522b\uff0c\u501f\u7f51\u4e0a\u7684\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff1a \u540c\u6b65\u5c31\u662f\uff0c\u5f53\u4f60\u5f00\u4e86\u4e00\u5bb6\u5feb\u9910\u53ea\u80fd\u6253\u5305\u5e26\u8d70\u7684\uff0c\u6765\u4e00\u4e2a\u5ba2\u4eba\u7ed9\u4ed6\u73b0\u505a\u4e00\u4efd\uff0c\u5176\u4ed6\u7684\u5c31\u5728\u540e\u9762\u6392\u961f\uff0c\u963b\u585e\u7740\u7b49\u5f85 \u5f02\u6b65\u5c31\u662f\uff0c\u5f00\u4e86\u4e00\u5bb6\u9910\u9986\u6216\u8005\u5916\u5356\uff0c\u5ba2\u4eba\u6765\u4e86\u70b9\u83dc\u6216\u8005\u53d1\u4e00\u4e2a\u8ba2\u5355 \u5e94\u7528\u573a\u666f\u4e0a\uff1a \u540c\u6b65\u9700\u8981\u7acb\u523b\u5f97\u5230\u53cd\u9988\uff0c\u6ca1\u6709\u5c31\u7b49\u7740\u4e0d\u5e72\u522b\u7684\u4e8b\u60c5\uff1b \u800c\u5f02\u6b65\u5c31\u4e0d\u9700\u8981\uff0c\u53ea\u9700\u8981\u4e0b\u8ba2\u5355\u7136\u540e\u7b49\u4ed6\u5b8c\u6210\u4e4b\u540e\u63d0\u9192\u4f60\u5c31\u884c\u4e86\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5e72\u5176\u4ed6\u7684\u4e8b\u60c5","title":"2. \u540c\u6b65\u4e0e\u5f02\u6b65"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/#3-io","text":"\u8fd9\u65f6\u5019\u53ef\u80fd\u4f1a\u6709\u7591\u95ee\uff1a\u5f02\u6b65I/O\u662f\u4e0d\u662f\u8bbe\u7f6eSocket\u975e\u963b\u585e\u5c31\u884c\u4e86\uff1f\u6709\u6570\u636e\u5c31\u8bfb\u53d6\uff0c\u6570\u636e\u6ca1\u6709\u5c31\u7acb\u5373\u8fd4\u56de\u3002 \u4e0d\u662f\u7684 \u3002\u5f53Socket\u6709\u6570\u636e\u65f6\uff0c\u4e3b\u7ebf\u7a0b\u8981\u4e0d\u65ad\u628aSocket\u4e0a\u7684\u6570\u636e\u642c\u5230\u5230\u672c\u5730\u7684\u7f13\u51b2\u533a\u5185\uff0c\u5199\u7684\u65f6\u5019\u8981\u4e0d\u65ad\u5730\u628a\u672c\u5730\u7f13\u51b2\u533a\u7684\u6570\u636e\u642c\u5230Socket\u4e0a\uff0c\u8fd9\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u963b\u585e\u5728\u8fd9\u91cc\u4e86\uff0c\u7a0b\u5e8f\u5e72\u4e0d\u4e86\u522b\u7684\u4e8b\u60c5\u3002 \u53ea\u6709\u4f7f\u7528\u7279\u6b8aAPI\u628a\u642c\u8fd0\u6570\u636e\u7684\u5de5\u4f5c\u4ea4\u7ed9\u5185\u6838\u7684\u624d\u53eb\u5f02\u6b65I/O: \u5185\u6838\u642c\u8fd0\u5b8c\u6570\u636e\uff0c\u628a\u7f13\u51b2\u533a\u7684\u5730\u5740\u7ed9\u4e3b\u7ebf\u7a0b ---> \u4e3b\u7ebf\u7a0b\u628a\u5185\u5bb9\u5c01\u88c5\u6210\u4e00\u4e2a\u8bf7\u6c42\u5bf9\u8c61\uff0c\u4ea4\u7ed9\u5b50\u7ebf\u7a0b\u6765\u5904\u7406\u4e1a\u52a1\u903b\u8f91 ---> \u5b50\u7ebf\u7a0b\u89e3\u6790\u5b8c\uff0c\u628a\u8981\u5199\u56de\u6570\u636e\u7684\u7f13\u51b2\u533a\u5730\u5740\u544a\u8bc9\u4e3b\u7ebf\u7a0b ---> \u4e3b\u7ebf\u7a0b\u518d\u628a\u5199\u4efb\u52a1\u4ea4\u7ed9\u5185\u6838 \u8fd9\u6837\u8fdb\u7a0b\u4e2d\u5c31\u6ca1\u6709\u989d\u5916\u963b\u585e\u7b49\u5f85\uff0c\u8fbe\u5230\u6700\u9ad8\u6548\u7387 \u53ea\u6709\u4f7f\u7528\u4e86\u7279\u6b8aAPI\u7684\u624d\u662f\u5f02\u6b65IO EPOLL/SELECT/POOL\u90fd\u662f\u540c\u6b65 \u53ea\u6709\u662f\u7cfb\u7edf\u5e2e\u6211\u4eec\u628a\u6570\u636e\u4ece\u5185\u6838\u642c\u8fd0\uff0c\u901a\u77e5\u6211\u4eec\u53bb\u53d6\u7684\u624d\u662f\u5f02\u6b65\u7684","title":"3. \u5f02\u6b65I/O"},{"location":"Blog/%E7%BD%91%E7%BB%9C/%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E%E3%80%81%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E3%80%81%E5%BC%82%E6%AD%A5IO/#4-unixlinx-5-io","text":"blocking non-blcoking \u901a\u8fc7 setsockopt \u6539\u53d8 cfd \u7684\u5c5e\u6027\u4e3a\u975e\u963b\u585e \u6ca1\u6709\u65b0\u6570\u636e\u7684\u65f6\u5019\u4e0d\u518d\u963b\u585e \u4f46\u662f\u8bfb\u5230\u7a7a\u4f1a\u8fd4\u56de\u4e0d\u540c\u7684\u4fe1\u53f7\uff1a EAGAIN EINTR AGAIN \u5e76\u4e14\u5728\u8bfb\u53d6\u7684\u65f6\u5019\u8fd8\u9700\u8981\u81ea\u5df1\u4ece\u5185\u6838\u628a\u7f13\u51b2\u533a\u7684\u6570\u636e\u642c\u51fa\u6765\uff0c\u963b\u585e\u5728\u8fd9\u91cc IO multiplexing (IO\u590d\u7528) \u901a\u8fc7select/poll/epoll \u7684\u7cfb\u7edf\u8c03\u7528\uff0c\u8ba9\u5185\u6838\u5e2e\u6211\u4eec\u76d1\u542c \u5f53\u76d1\u542c\u7684fd\u53d8\u5316\uff0c\u8fd4\u56de\u53ef\u8bfb\u7684fd \u4e3b\u8981\u6548\u679c\u662f\u8ba9\u5355\u7ebf\u7a0b\u53ef\u4ee5\u68c0\u6d4b\u591a\u4e2afd\uff0c\u51cf\u5c11\u4e86\u7ebf\u7a0b\u4e0e\u8fdb\u7a0b\u7684\u5f00\u9500 signal-driven (\u4fe1\u53f7\u9a71\u52a8) \u5927\u6982\u662f\u6ce8\u518c SIGACTION \u6765\u8fd4\u56de\u53d8\u5316\u7684fd \u4f46\u662f\u5728read\u7684\u65f6\u5019\u8fd8\u662f\u540c\u6b65\u7684\u963b\u585e\u7684 asynchronous (\u5f02\u6b65) unix\u4e2d\uff0c\u53ef\u4ee5\u8c03\u7528aio_read \u51fd\u6570\uff0c\u544a\u8bc9\u5185\u6838\u7f13\u51b2\u533a\u6307\u9488\uff0c\u548c\u7f13\u51b2\u533a\u5927\u5c0f\u3001\u6587\u4ef6\u504f\u79fb\u53ca\u901a\u77e5\u7684\u65b9\u5f0f\uff0c\u7136\u540e\u7acb\u523b\u8fd4\u56de \u7531\u5185\u6838\u5e2e\u6211\u4eec\u8fdb\u884c\u62f7\u8d1d\u6570\u636e\u5230\u7f13\u5b58\u533a \u901a\u8fc7\u6ce8\u518c\u7684\u901a\u77e5\u65b9\u5f0f\u6765\u63d0\u9192 \u8fd9\u65f6\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528\u5df2\u7ecf\u88c5\u597d\u6570\u636e\u7684\u7f13\u51b2\u533a\u5c31\u53ef\u4ee5\u4e86 \u5927\u5927\u63d0\u5347\u4e86\u6548\u7387","title":"4. Unix/Linx 5\u79cd I/O \u6a21\u578b"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/","text":"RISC-V \u00b6 \u72b6\u6001\u673a \u00b6 - fcompile \u4ece \u8bed\u8a00(C)\u72b6\u6001\u673a \u6620\u5c04\u5230 IS(\u6307\u4ee4\u96c6)\u7684\u72b6\u6001\u673a - \u518d\u628a\u6307\u4ee4\u96c6\u72b6\u6001\u673a \u6620\u5c04\u5230 \u903b\u8f91\u7535\u8def\u7684\u72b6\u6001\u673a\u4e0a fstat: {R, M} -> {\u65f6\u5e8f\u903b\u8f91\u7535\u8def} fuarch: {command} -> {\u7ec4\u5408\u903b\u8f91\u7535\u8def} \u4e09\u4e2a\u72b6\u6001\u673a\u7684\u8054\u7cfb: S_c ~ S_isa ~ S_cpu freestanding \u00b6 \u7f16\u8bd1\u9009\u9879 \u81ea\u5236\u4e00\u4e2a freestanding runtime \u73af\u5883 \u00b6 \u5982\u4f55\u5236\u9020 runtime ? \u00b6 \u7528\u53d8\u91cf\u5b9e\u73b0\u5bc4\u5b58\u5668\u548c\u5185\u5b58\u6a21\u578b C 1 2 uint64_t R [ 32 ], pc ; // accroding to RISC-V manual uint8_t M [ 64 ]; // 64-Byte memory \u4f7f\u7528 int \u6ea2\u51fa\u662f undefine behavior, \u4f46uint \u4e0d\u4f1a","title":"RISC-V"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/#risc-v","text":"","title":"RISC-V"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/#_1","text":"- fcompile \u4ece \u8bed\u8a00(C)\u72b6\u6001\u673a \u6620\u5c04\u5230 IS(\u6307\u4ee4\u96c6)\u7684\u72b6\u6001\u673a - \u518d\u628a\u6307\u4ee4\u96c6\u72b6\u6001\u673a \u6620\u5c04\u5230 \u903b\u8f91\u7535\u8def\u7684\u72b6\u6001\u673a\u4e0a fstat: {R, M} -> {\u65f6\u5e8f\u903b\u8f91\u7535\u8def} fuarch: {command} -> {\u7ec4\u5408\u903b\u8f91\u7535\u8def} \u4e09\u4e2a\u72b6\u6001\u673a\u7684\u8054\u7cfb: S_c ~ S_isa ~ S_cpu","title":"\u72b6\u6001\u673a"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/#freestanding","text":"\u7f16\u8bd1\u9009\u9879","title":"freestanding"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/#freestanding-runtime","text":"","title":"\u81ea\u5236\u4e00\u4e2a freestanding runtime \u73af\u5883"},{"location":"Blog/%E8%AE%A1%E7%BB%84/RISC-V/#runtime","text":"\u7528\u53d8\u91cf\u5b9e\u73b0\u5bc4\u5b58\u5668\u548c\u5185\u5b58\u6a21\u578b C 1 2 uint64_t R [ 32 ], pc ; // accroding to RISC-V manual uint8_t M [ 64 ]; // 64-Byte memory \u4f7f\u7528 int \u6ea2\u51fa\u662f undefine behavior, \u4f46uint \u4e0d\u4f1a","title":"\u5982\u4f55\u5236\u9020 runtime ?"},{"location":"Diary/2022-09-22/","text":"\u76d7\u68a6\u7a7a\u95f4 4\u5206 \u9009\u4fee6\u5206 2\u5206 \u4eba\u6587 \u5de5\u4f5c\u8981 \u4e09\u65b9\u5408\u540c \u5b9e\u4e60\u7533\u8bf7 \u5de5\u4f5c\u8bc1\u660e \u5341\u6708\u53cc\u9009\u4f1a \u6bd5\u8bbe\u8001\u5e08\u8981\u6c42\u4e0e\u4e13\u4e1a\u76f8\u5173 \u5b9e\u8df58\u4e2a\u5b66\u5206\uff0c\u6bd5\u8bbe10\u4e2a\u5b66\u8d39\u8ddf \u91cd\u4fee\u548c\u8865\u8003","title":"2022 09 22"},{"location":"Diary/2022-10-23/","text":"there was a way there was a creep it was a grave i found you lay there is a lake that i can not dream of you of the late","title":"2022 10 23"},{"location":"Diary/2022-10-24/","text":"STFW - Search The Friendly Web RTFM - Read The Friendly Manual RTFSC - Read The Friendly Source Code","title":"2022 10 24"},{"location":"Diary/2022-10-27/","text":"Hello, interviewer, my name is Zhou Guogeng, 21 years old. I came from Sichuan Technology and Bussiness University (\u56db\u5ddd\u5de5\u5546\u5b66\u9662), major in engineering cost(\u5de5\u7a0b\u9020\u4ef7\u4e13\u4e1a). I have more than 3 years programing experience. My main language is C plus plus , and also knew and learnt a little about other languages. Like Python, Java, Golang, and so on. Now I hopes to get a chance to join big project and great team to team to improve myself. I skill at c plus plus development, familiar with the technology about Network Programing, Qt library. and database like MYSQL , Sqlite. In my life, I\u2019m interested in XX(\u4f60\u7684\u5174\u8da3). That\u2019s all, thank you very much.","title":"2022 10 27"},{"location":"HOME/detail/","text":"This godot speaking \u00b6","title":"\u4fe1\u606f"},{"location":"HOME/detail/#this-godot-speaking","text":"","title":"This godot speaking"},{"location":"Library/","text":"Index \u00b6 1. \u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5e93 \u00b6 cobra","title":"Index"},{"location":"Library/#index","text":"","title":"Index"},{"location":"Library/#1","text":"cobra","title":"1. \u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5e93"},{"location":"Library/GNU/GDB/","text":"GDB \u00b6 see more TUI commands in: https://ftp.gnu.org/old-gnu/Manuals/gdb/html_chapter/gdb_19.html gdb file -ex \"b main\" \u6dfb\u52a0\u65ad\u70b9\u4e8emain - \u591a\u884c\u547d\u4ee4\u6307\u5b9a\u591a\u4e2a -ex \u5f00\u542fTUI \u00b6 1. \u5f00\u542fTUI hotkey \u00b6 ctrl+x a \u542f\u52a8TUI ctrl+x A \u9000\u51faTUI ctrl+x 2 \u5207\u6362\u5e03\u5c40 2. Command Line for Layout \u00b6 layout next Display the next layout. layout prev Display the previous layout. layout src Display the source window only. layout asm Display the assembly window only. layout split Display the source and assembly window. layout regs Display the register window together with the source or assembly window. focus next | prev | src | asm | regs | split Set the focus to the named window. This command allows to change the active window so that scrolling keys can be affected to another window. refresh Refresh the screen. This is similar to using C-L key. update Update the source window and the current execution point. winheight name +count/-count Change the height of the window name by count lines. Positive counts increase the height, while negative counts decrease it. GDB \u8c03\u8bd5\u6307\u4ee4 \u00b6 1. HOT KEY \u00b6 C+p \u4e0a\u4e00\u6761\u6307\u4ee4 2. COMMAND \u00b6 python ... run python script python write a python script \u8fd0\u884c \u00b6 r run \u8fd0\u884c r -l -a a.txt \u6267\u884c argc \u4e0e argv s step \u5411\u540e\u4e00\u90e8 n next \u5411\u540e\u4e00\u884c c continue \u5411\u540e\u6267\u884c\u5230\u65ad\u70b9\u6216\u7ed3\u675f k kill \u6740\u6b7b\u5f53\u524d\u7ebf\u7a0b finish \u6267\u884c\u5230\u5f53\u524d\u51fd\u6570\u8fd4\u56de x \u626b\u63cf\u5185\u5b58 starti \u4ece\u7a0b\u5e8f\u7684\u7b2c\u4e00\u6761\u6307\u4ee4\u5f00\u59cb(\u4e0d\u662fmain) \u65ad\u70b9 \u00b6 b/break n \u5728n\u884c\u6253\u65ad\u7535 tb \u4e34\u65f6\u65ad\u70b9 \u53ea\u89e6\u53d1\u4e00\u6b21 pyhton gdb.Breakpoint('n') b namespace::function(para) \u5728\u7279\u5b9a\u51fd\u6570\u4e0b\u65ad\u70b9\uff0c\u4e0d\u52a0para\u5728\u6240\u6709\u91cd\u8f7d\u6253\u65ad\u70b9 python print(gdb.breakpoints()) \u67e5\u770b\u65ad\u70b9 d n \u5220\u9664n\u53f7\u65ad\u70b9 \u6761\u4ef6\u65ad\u70b9 \u00b6 b [func or line] if [conditon] : Bash 1 b func if ptr == nullptr \u76d1\u89c6\u53d8\u91cf \u00b6 watch valriable \u5982\u679c\u53d8\u91cf\u88ab\u4fee\u6539\uff0c\u7a0b\u5e8f\u4f1a\u6682\u505c awatch .. \u8bfb\u5199\u90fd\u4f1a\u6253\u65ad\u70b9 \u4fdd\u5b58\u65ad\u70b9 \u00b6 \u4f7f\u7528 save breakpoints file.gdb \u6765\u4fdd\u5b58\u6253\u4e0b\u7684\u65ad\u70b9\u5230 .gdb \u4e2d \u4e0b\u6b21\u8fd0\u884c\u65f6\u4f7f\u7528 source file.gdb \u6765\u8bfb\u53d6 file.gdb like: Bash 1 2 3 file a.out b main run val1 val2 \u89c2\u5bdf \u00b6 p/print target \u6253\u5370: p \u53d8\u91cf \u6253\u5370\u53d8\u91cf\u4fe1\u606f p val=.. \u8fd0\u884c\u65f6\u6539\u53d8\u53d8\u91cf bt \u6808\u56de\u6eaf (\u4ece\u54ea\u91cc\u8fdb\u5165\u7684\u51fd\u6570\uff0ccall stack of before) l [file/func]:n \u67e5\u770b \u67d0\u6587\u4ef6\u6216\u51fd\u6570(\u53ef\u9009) \u7684\u7b2c\u51e0\u884c backward-cpp \u9879\u76ee on github, \u66f4\u8be6\u7ec6\u7684\u9519\u8befstack trace \u8fdb\u5165 \u7cfb\u7edf\u8fdb\u7a0b/\u7ebf\u7a0b \u00b6 Bash 1 2 ls -lth core* gdb -c core. [ TID ] attach TID \u6765\u9644\u52a0\u5230\u4ee5\u8fd0\u884c\u7684\u7ebf\u7a0b\u4e0a","title":"GDB"},{"location":"Library/GNU/GDB/#gdb","text":"see more TUI commands in: https://ftp.gnu.org/old-gnu/Manuals/gdb/html_chapter/gdb_19.html gdb file -ex \"b main\" \u6dfb\u52a0\u65ad\u70b9\u4e8emain - \u591a\u884c\u547d\u4ee4\u6307\u5b9a\u591a\u4e2a -ex","title":"GDB"},{"location":"Library/GNU/GDB/#tui","text":"","title":"\u5f00\u542fTUI"},{"location":"Library/GNU/GDB/#1-tui-hotkey","text":"ctrl+x a \u542f\u52a8TUI ctrl+x A \u9000\u51faTUI ctrl+x 2 \u5207\u6362\u5e03\u5c40","title":"1.  \u5f00\u542fTUI hotkey"},{"location":"Library/GNU/GDB/#2-command-line-for-layout","text":"layout next Display the next layout. layout prev Display the previous layout. layout src Display the source window only. layout asm Display the assembly window only. layout split Display the source and assembly window. layout regs Display the register window together with the source or assembly window. focus next | prev | src | asm | regs | split Set the focus to the named window. This command allows to change the active window so that scrolling keys can be affected to another window. refresh Refresh the screen. This is similar to using C-L key. update Update the source window and the current execution point. winheight name +count/-count Change the height of the window name by count lines. Positive counts increase the height, while negative counts decrease it.","title":"2.  Command Line for Layout"},{"location":"Library/GNU/GDB/#gdb_1","text":"","title":"GDB \u8c03\u8bd5\u6307\u4ee4"},{"location":"Library/GNU/GDB/#1-hot-key","text":"C+p \u4e0a\u4e00\u6761\u6307\u4ee4","title":"1. HOT KEY"},{"location":"Library/GNU/GDB/#2-command","text":"python ... run python script python write a python script","title":"2. COMMAND"},{"location":"Library/GNU/GDB/#_1","text":"r run \u8fd0\u884c r -l -a a.txt \u6267\u884c argc \u4e0e argv s step \u5411\u540e\u4e00\u90e8 n next \u5411\u540e\u4e00\u884c c continue \u5411\u540e\u6267\u884c\u5230\u65ad\u70b9\u6216\u7ed3\u675f k kill \u6740\u6b7b\u5f53\u524d\u7ebf\u7a0b finish \u6267\u884c\u5230\u5f53\u524d\u51fd\u6570\u8fd4\u56de x \u626b\u63cf\u5185\u5b58 starti \u4ece\u7a0b\u5e8f\u7684\u7b2c\u4e00\u6761\u6307\u4ee4\u5f00\u59cb(\u4e0d\u662fmain)","title":"\u8fd0\u884c"},{"location":"Library/GNU/GDB/#_2","text":"b/break n \u5728n\u884c\u6253\u65ad\u7535 tb \u4e34\u65f6\u65ad\u70b9 \u53ea\u89e6\u53d1\u4e00\u6b21 pyhton gdb.Breakpoint('n') b namespace::function(para) \u5728\u7279\u5b9a\u51fd\u6570\u4e0b\u65ad\u70b9\uff0c\u4e0d\u52a0para\u5728\u6240\u6709\u91cd\u8f7d\u6253\u65ad\u70b9 python print(gdb.breakpoints()) \u67e5\u770b\u65ad\u70b9 d n \u5220\u9664n\u53f7\u65ad\u70b9","title":"\u65ad\u70b9"},{"location":"Library/GNU/GDB/#_3","text":"b [func or line] if [conditon] : Bash 1 b func if ptr == nullptr","title":"\u6761\u4ef6\u65ad\u70b9"},{"location":"Library/GNU/GDB/#_4","text":"watch valriable \u5982\u679c\u53d8\u91cf\u88ab\u4fee\u6539\uff0c\u7a0b\u5e8f\u4f1a\u6682\u505c awatch .. \u8bfb\u5199\u90fd\u4f1a\u6253\u65ad\u70b9","title":"\u76d1\u89c6\u53d8\u91cf"},{"location":"Library/GNU/GDB/#_5","text":"\u4f7f\u7528 save breakpoints file.gdb \u6765\u4fdd\u5b58\u6253\u4e0b\u7684\u65ad\u70b9\u5230 .gdb \u4e2d \u4e0b\u6b21\u8fd0\u884c\u65f6\u4f7f\u7528 source file.gdb \u6765\u8bfb\u53d6 file.gdb like: Bash 1 2 3 file a.out b main run val1 val2","title":"\u4fdd\u5b58\u65ad\u70b9"},{"location":"Library/GNU/GDB/#_6","text":"p/print target \u6253\u5370: p \u53d8\u91cf \u6253\u5370\u53d8\u91cf\u4fe1\u606f p val=.. \u8fd0\u884c\u65f6\u6539\u53d8\u53d8\u91cf bt \u6808\u56de\u6eaf (\u4ece\u54ea\u91cc\u8fdb\u5165\u7684\u51fd\u6570\uff0ccall stack of before) l [file/func]:n \u67e5\u770b \u67d0\u6587\u4ef6\u6216\u51fd\u6570(\u53ef\u9009) \u7684\u7b2c\u51e0\u884c backward-cpp \u9879\u76ee on github, \u66f4\u8be6\u7ec6\u7684\u9519\u8befstack trace","title":"\u89c2\u5bdf"},{"location":"Library/GNU/GDB/#_7","text":"Bash 1 2 ls -lth core* gdb -c core. [ TID ] attach TID \u6765\u9644\u52a0\u5230\u4ee5\u8fd0\u884c\u7684\u7ebf\u7a0b\u4e0a","title":"\u8fdb\u5165 \u7cfb\u7edf\u8fdb\u7a0b/\u7ebf\u7a0b"},{"location":"Library/GNU/gcc%E7%BC%96%E8%AF%91%E5%99%A8/","text":"gcc \u7f16\u8bd1\u5668 \u00b6 \u7f16\u8bd1\u9009\u9879 \u00b6 option second description -O 0~3 \u4e09\u79cd\u4f18\u5316\u7ea7\u522b s \u6700\u5c0f\u6587\u4ef6\u4f18\u5316 -f no-elide-constructors \u5173\u95ed\u8fd4\u56de\u503c\u4f18\u5316 -I \u6307\u5b9a\u5934\u6587\u4ef6\u76ee\u5f55 -L \u6307\u5b9alib\u76ee\u5f55 -l \u6307\u5b9alib\u5e93 -nostdlib \u94fe\u63a5\u65f6\u4e0d\u8981\u7528\u6807\u51c6\u5e93 -Wl,{arg} \u5411\u94fe\u63a5\u5668\u4f20\u9012\u53c2\u6570 \u7f16\u8bd1\u94fe\u63a5 \u00b6 option second description -E *.cpp preprocessor -S *.cpp compile to asm -c *.cpp *.o \u751f\u6210.o\u6587\u4ef6,\u76ee\u6807\u6587\u4ef6 -L -o *.lib \u8fde\u63a5\u5e93 C 1 2 clang * . o riscv64 - linux - gnu - gcc a . c \u5934\u6587\u4ef6\u5982\u4f55\u627e\u5230\uff1f Bash 1 gcc -E a.c --verbose > /dev/null \u4f18\u5316 \u00b6","title":"gcc\u7f16\u8bd1\u5668"},{"location":"Library/GNU/gcc%E7%BC%96%E8%AF%91%E5%99%A8/#gcc","text":"","title":"gcc \u7f16\u8bd1\u5668"},{"location":"Library/GNU/gcc%E7%BC%96%E8%AF%91%E5%99%A8/#_1","text":"option second description -O 0~3 \u4e09\u79cd\u4f18\u5316\u7ea7\u522b s \u6700\u5c0f\u6587\u4ef6\u4f18\u5316 -f no-elide-constructors \u5173\u95ed\u8fd4\u56de\u503c\u4f18\u5316 -I \u6307\u5b9a\u5934\u6587\u4ef6\u76ee\u5f55 -L \u6307\u5b9alib\u76ee\u5f55 -l \u6307\u5b9alib\u5e93 -nostdlib \u94fe\u63a5\u65f6\u4e0d\u8981\u7528\u6807\u51c6\u5e93 -Wl,{arg} \u5411\u94fe\u63a5\u5668\u4f20\u9012\u53c2\u6570","title":"\u7f16\u8bd1\u9009\u9879"},{"location":"Library/GNU/gcc%E7%BC%96%E8%AF%91%E5%99%A8/#_2","text":"option second description -E *.cpp preprocessor -S *.cpp compile to asm -c *.cpp *.o \u751f\u6210.o\u6587\u4ef6,\u76ee\u6807\u6587\u4ef6 -L -o *.lib \u8fde\u63a5\u5e93 C 1 2 clang * . o riscv64 - linux - gnu - gcc a . c \u5934\u6587\u4ef6\u5982\u4f55\u627e\u5230\uff1f Bash 1 gcc -E a.c --verbose > /dev/null","title":"\u7f16\u8bd1\u94fe\u63a5"},{"location":"Library/GNU/gcc%E7%BC%96%E8%AF%91%E5%99%A8/#_3","text":"","title":"\u4f18\u5316"},{"location":"Library/LLVM/Clang/","text":"clang \u00b6 \u751f\u6210\u76ee\u6807\u6846\u67b6\u4ee3\u7801 C 1 clang - S a . c -- target = riscv64 - march = rv64g \u67e5\u770bclang\u8fdb\u884c\u4e86\u54ea\u4e9b\u4f18\u5316 C 1 clang - S a . c - ftime - report","title":"Clang"},{"location":"Library/LLVM/Clang/#clang","text":"\u751f\u6210\u76ee\u6807\u6846\u67b6\u4ee3\u7801 C 1 clang - S a . c -- target = riscv64 - march = rv64g \u67e5\u770bclang\u8fdb\u884c\u4e86\u54ea\u4e9b\u4f18\u5316 C 1 clang - S a . c - ftime - report","title":"clang"},{"location":"Library/LLVM/Clangd/","text":"Vscode \u63d2\u4ef6 \u00b6 1. \u8bbe\u7f6e include path \u00b6 ABANDONED create .clangd file in project root add CompileFlags : Text Only 1 2 3 4 5 6 7 8 CompileFlags: # Tweak the parse settings Add: - \"-I=[include_path]\" # include conffig or - \"--include-dir=[include_path]\" #Add: [-xc++, -Wall] # treat all files as C++, enable more warnings #Remove: -W* # strip all other warning-related flags #Compiler: clang++ # Change argv[0] of compile flags to `clang++` Right Way see as: https://clangd.llvm.org/installation.html Add FLAG When create build and cmake : Bash 1 2 3 mkdir build && cd build cmake .. -D CMAKE_COMPILE_COMMANDS = 1 ... ln -s compile_commands.json ../ Or set in cmakelists.txt: CMake 1 set ( CMAKE_EXPORT_COMPILE_COMMANDS 1 ) 2. Clangd Arguments \u00b6 JSON 1 2 3 4 5 6 7 8 9 \"clangd.arguments\" : [ \"--completion-style=bundled\" , // bundled \u8865\u5168\u6253\u5305\u4e3a\u4e00\u4e2a\u5efa\u8bae, \u76f8\u53cd\u4e3a detailed \"-j=8\" , \"--background-index\" , // \u540e\u53f0\u81ea\u52a8\u5206\u6790\u6587\u4ef6(compile_commands) \"--clang-tidy\" , \"--pretty\" , // \u7f8e\u5316\u8f93\u51fa\u7684json \"--cross-file-rename\" , // \u8de8\u6587\u4ef6\u91cd\u547d\u540d\u53d8\u91cf \"--function-arg-placeholders=false\" , // \u542f\u7528\u8fd9\u9879\u65f6\uff0c\u8865\u5168\u51fd\u6570\u65f6\uff0c\u5c06\u4f1a\u7ed9\u53c2\u6570\u63d0\u4f9b\u5360\u4f4d\u7b26\uff0c\u952e\u5165\u540e\u6309 Tab \u53ef\u4ee5\u5207\u6362\u5230\u4e0b\u4e00\u5360\u4f4d\u7b26\uff0c\u4e43\u81f3\u51fd\u6570\u672b ]","title":"Clangd"},{"location":"Library/LLVM/Clangd/#vscode","text":"","title":"Vscode \u63d2\u4ef6"},{"location":"Library/LLVM/Clangd/#1-include-path","text":"ABANDONED create .clangd file in project root add CompileFlags : Text Only 1 2 3 4 5 6 7 8 CompileFlags: # Tweak the parse settings Add: - \"-I=[include_path]\" # include conffig or - \"--include-dir=[include_path]\" #Add: [-xc++, -Wall] # treat all files as C++, enable more warnings #Remove: -W* # strip all other warning-related flags #Compiler: clang++ # Change argv[0] of compile flags to `clang++` Right Way see as: https://clangd.llvm.org/installation.html Add FLAG When create build and cmake : Bash 1 2 3 mkdir build && cd build cmake .. -D CMAKE_COMPILE_COMMANDS = 1 ... ln -s compile_commands.json ../ Or set in cmakelists.txt: CMake 1 set ( CMAKE_EXPORT_COMPILE_COMMANDS 1 )","title":"1. \u8bbe\u7f6e include path"},{"location":"Library/LLVM/Clangd/#2-clangd-arguments","text":"JSON 1 2 3 4 5 6 7 8 9 \"clangd.arguments\" : [ \"--completion-style=bundled\" , // bundled \u8865\u5168\u6253\u5305\u4e3a\u4e00\u4e2a\u5efa\u8bae, \u76f8\u53cd\u4e3a detailed \"-j=8\" , \"--background-index\" , // \u540e\u53f0\u81ea\u52a8\u5206\u6790\u6587\u4ef6(compile_commands) \"--clang-tidy\" , \"--pretty\" , // \u7f8e\u5316\u8f93\u51fa\u7684json \"--cross-file-rename\" , // \u8de8\u6587\u4ef6\u91cd\u547d\u540d\u53d8\u91cf \"--function-arg-placeholders=false\" , // \u542f\u7528\u8fd9\u9879\u65f6\uff0c\u8865\u5168\u51fd\u6570\u65f6\uff0c\u5c06\u4f1a\u7ed9\u53c2\u6570\u63d0\u4f9b\u5360\u4f4d\u7b26\uff0c\u952e\u5165\u540e\u6309 Tab \u53ef\u4ee5\u5207\u6362\u5230\u4e0b\u4e00\u5360\u4f4d\u7b26\uff0c\u4e43\u81f3\u51fd\u6570\u672b ]","title":"2. Clangd Arguments"},{"location":"Library/LLVM/LLVM_IR%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","text":"LLVM IR \u5feb\u901f\u4e0a\u624b \u00b6 see as: https://buaa-se-compiling.github.io/miniSysY-tutorial/pre/llvm_ir_ssa.html IR \u7684\u597d\u5904 \u9996\u5148\uff0c\u6709\u4e00\u4e9b\u4f18\u5316\u6280\u672f\u662f\u76ee\u6807\u5e73\u53f0\u65e0\u5173\u7684\uff08\u4f8b\u5982\u4f5c\u4e3a\u6211\u4eec\u5b9e\u9a8c\u6311\u6218\u4efb\u52a1\u7684\u6b7b\u4ee3\u7801\u5220\u9664\u548c\u5e38\u91cf\u6298\u53e0\uff09\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728 IR \u4e0a\u505a\u8fd9\u4e9b\u4f18\u5316\uff0c\u518d\u7ffb\u8bd1\u5230\u4e0d\u540c\u7684\u6c47\u7f16\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u5728\u6240\u6709\u652f\u6301\u7684\u4f53\u7cfb\u7ed3\u6784\u4e0a\u5b9e\u73b0\u8fd9\u79cd\u4f18\u5316\uff0c\u8fd9\u5927\u5927\u7684\u51cf\u5c11\u4e86\u5f00\u53d1\u7684\u5de5\u4f5c\u91cf\u3002 \u5176\u6b21\uff0c\u5047\u8bbe\u6211\u4eec\u6709 m \u79cd\u6e90\u8bed\u8a00\u548c n \u79cd\u76ee\u6807\u5e73\u53f0\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u5c06\u6e90\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u76ee\u6807\u5e73\u53f0\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u7f16\u5199 m * n \u4e2a\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u91c7\u7528\u4e00\u79cd IR \u4f5c\u4e3a\u4e2d\u8f6c\uff0c\u5148\u5c06\u6e90\u8bed\u8a00\u7f16\u8bd1\u5230\u8fd9\u79cd IR \uff0c\u518d\u5c06\u8fd9\u79cd IR \u7ffb\u8bd1\u5230\u4e0d\u540c\u7684\u76ee\u6807\u5e73\u53f0\u4e0a\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ea\u9700\u8981\u5b9e\u73b0 m + n \u4e2a\u7f16\u8bd1\u5668\u3002 \u67b6\u6784: front-end: \u5c06 source \u7f16\u8bd1\u5230 IR intermediate-end: \u5bf9 IR \u8fdb\u884c\u4f18\u5316 back-end: \u5c06IR\u7ffb\u8bd1\u4e3a\u76ee\u6807\u673a\u5668\u8bed\u8a00 IR \u7684\u4e09\u79cd\u8868\u73b0\u5f62\u5f0f(\u683c\u5f0f): \u5728\u5185\u5b58\u4e2d\u7684\u7f16\u8bd1\u4e2d\u95f4\u8bed\u8a00(\u65e0\u6cd5\u901a\u8fc7\u6587\u4ef6\u7684\u5f62\u5f0f\u5f97\u5230) \u786c\u76d8\u4e2d\u7684 binary \u4e2d\u95f4\u8bed\u8a00 ( .bc ) \u4eba\u7c7b\u53ef\u8bfbIR ( .ll ) \u7c7b\u578b\u7cfb\u7edf \u00b6 void integer i1 , i32 , i64 , label \u6807\u7b7e\u7c7b\u578b, \u7528\u4f5c\u4ee3\u7801\u6807\u7b7e C 1 2 br i1 % 9 , label % 10 , label % 11 br label % 12","title":"LLVM_IR\u5feb\u901f\u4e0a\u624b"},{"location":"Library/LLVM/LLVM_IR%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#llvm-ir","text":"see as: https://buaa-se-compiling.github.io/miniSysY-tutorial/pre/llvm_ir_ssa.html IR \u7684\u597d\u5904 \u9996\u5148\uff0c\u6709\u4e00\u4e9b\u4f18\u5316\u6280\u672f\u662f\u76ee\u6807\u5e73\u53f0\u65e0\u5173\u7684\uff08\u4f8b\u5982\u4f5c\u4e3a\u6211\u4eec\u5b9e\u9a8c\u6311\u6218\u4efb\u52a1\u7684\u6b7b\u4ee3\u7801\u5220\u9664\u548c\u5e38\u91cf\u6298\u53e0\uff09\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728 IR \u4e0a\u505a\u8fd9\u4e9b\u4f18\u5316\uff0c\u518d\u7ffb\u8bd1\u5230\u4e0d\u540c\u7684\u6c47\u7f16\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u5728\u6240\u6709\u652f\u6301\u7684\u4f53\u7cfb\u7ed3\u6784\u4e0a\u5b9e\u73b0\u8fd9\u79cd\u4f18\u5316\uff0c\u8fd9\u5927\u5927\u7684\u51cf\u5c11\u4e86\u5f00\u53d1\u7684\u5de5\u4f5c\u91cf\u3002 \u5176\u6b21\uff0c\u5047\u8bbe\u6211\u4eec\u6709 m \u79cd\u6e90\u8bed\u8a00\u548c n \u79cd\u76ee\u6807\u5e73\u53f0\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u5c06\u6e90\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u76ee\u6807\u5e73\u53f0\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u7f16\u5199 m * n \u4e2a\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u91c7\u7528\u4e00\u79cd IR \u4f5c\u4e3a\u4e2d\u8f6c\uff0c\u5148\u5c06\u6e90\u8bed\u8a00\u7f16\u8bd1\u5230\u8fd9\u79cd IR \uff0c\u518d\u5c06\u8fd9\u79cd IR \u7ffb\u8bd1\u5230\u4e0d\u540c\u7684\u76ee\u6807\u5e73\u53f0\u4e0a\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ea\u9700\u8981\u5b9e\u73b0 m + n \u4e2a\u7f16\u8bd1\u5668\u3002 \u67b6\u6784: front-end: \u5c06 source \u7f16\u8bd1\u5230 IR intermediate-end: \u5bf9 IR \u8fdb\u884c\u4f18\u5316 back-end: \u5c06IR\u7ffb\u8bd1\u4e3a\u76ee\u6807\u673a\u5668\u8bed\u8a00 IR \u7684\u4e09\u79cd\u8868\u73b0\u5f62\u5f0f(\u683c\u5f0f): \u5728\u5185\u5b58\u4e2d\u7684\u7f16\u8bd1\u4e2d\u95f4\u8bed\u8a00(\u65e0\u6cd5\u901a\u8fc7\u6587\u4ef6\u7684\u5f62\u5f0f\u5f97\u5230) \u786c\u76d8\u4e2d\u7684 binary \u4e2d\u95f4\u8bed\u8a00 ( .bc ) \u4eba\u7c7b\u53ef\u8bfbIR ( .ll )","title":"LLVM IR \u5feb\u901f\u4e0a\u624b"},{"location":"Library/LLVM/LLVM_IR%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#_1","text":"void integer i1 , i32 , i64 , label \u6807\u7b7e\u7c7b\u578b, \u7528\u4f5c\u4ee3\u7801\u6807\u7b7e C 1 2 br i1 % 9 , label % 10 , label % 11 br label % 12","title":"\u7c7b\u578b\u7cfb\u7edf"},{"location":"Library/LLVM/SSA/","text":"SSA \u00b6 Static Single Assignment \u6982\u5ff5 \u00b6 \u6bcf\u4e2a\u53d8\u91cf\u5728\u8bd5\u7528\u524d\u90fd\u5fc5\u987b\u5148\u5b9a\u4e49, \u4e14\u6bcf\u4e2a\u53d8\u91cf\u53ea\u80fd\u8d4b\u503c\u4e00\u6b21(\u53d8\u91cf\u53ea\u80fd\u88ab\u521d\u59cb\u5316, \u4e0d\u80fd\u88ab\u8d4b\u503c) SSA \u7684\u597d\u5904 \u00b6 \u53ef\u4ee5\u7b80\u5316\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u8fc7\u7a0b C 1 2 3 d1 : y := 1 // \u7b2c\u4e00\u6b21\u7684\u8d4b\u503c\u662f\u65e0\u610f\u4e49\u7684 d2 : y := 2 d3 : x := y // \u7f16\u8bd1\u5668 \u7531 d3 \u65e0\u6cd5\u77e5\u9053y\u662f\u7531 d1\u6216\u662fd2 \u800c\u6765 \u4f46\u662f\u5982\u679c\u91c7\u7528SSA: C 1 2 3 d1 : y1 := 1 d2 : y2 := 2 d3 : x := y2 // d2 \u5c31\u662f d3 \u7684reaching defintion \u574f\u5904 \u00b6 \u5982\u679c\u5728\u5faa\u73af\u4e2d, \u53ef\u4ee5\u5bf9\u4e00\u4e2a\u503c\u8fdb\u884c\u591a\u6b21\u7684\u8d4b\u503c, \u8fd9\u6837\u4f18\u5316\u4f1a\u4ea7\u751f\u591a\u4e2a\u65e0\u610f\u4e49\u7684\u503c. \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u53d1\u73b0 %temp \u548c %i \u8fdb\u884c\u4e86\u591a\u6b21\u8d4b\u503c, \u8fdd\u80cc\u4e86SSA \u89e3\u51b3\u65b9\u6cd5: A: phi \u00b6 \u5728 clang -O1 \u4e0b\u751f\u6210\u7684 .ll \u6587\u4ef6 C 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 define dso_local i32 @ factorial ( i32 noundef % 0 ) local_unnamed_addr # 0 { % 2 = icmp sgt i32 % 0 , 0 br i1 % 2 , label % 5 , label % 3 3 : ; preds = % 5 , % 1 % 4 = phi i32 [ 1 , % 1 ], [ % 8 , % 5 ] ; % 4 \u7684\u503c \u4ece % 1 \u6765\u4e3a1 , \u4ece % 5 \u6765 \u4e3a % 8 ret i32 % 4 5 : ; preds = % 1 , % 5 % 6 = phi i32 [ % 9 , % 5 ], [ 0 , % 1 ] % 7 = phi i32 [ % 8 , % 5 ], [ 1 , % 1 ] % 8 = mul nsw i32 % 6 , % 7 % 9 = add nuw nsw i32 % 6 , 1 % 10 = icmp eq i32 % 9 , % 0 br i1 % 10 , label % 3 , label % 5 , ! llvm . loop ! 5 } \u8fd9\u6837\u6bcf\u4e2a\u53d8\u91cf\u53ea\u88ab\u8d4b\u503c\u4e00\u6b21, \u5e76\u4e14\u5b9e\u73b0\u4e86\u5faa\u73af\u9012\u589e( IR \u5185\u7684 % \u5c40\u90e8\u53d8\u91cf\u4e4b\u95f4\u5faa\u73af\u8d4b\u503c) B: alloca, load, store \u00b6 \u4f7f\u7528 clang -emit-llvm -S for.c -o for.ll -O0 \u5728 O0 \u4e0b\u751f\u6210IR: C 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 define dso_local i32 @ factorial ( i32 noundef % 0 ) # 0 { % 2 = alloca i32 , align 4 % 3 = alloca i32 , align 4 % 4 = alloca i32 , align 4 store i32 % 0 , i32 * % 2 , align 4 store i32 1 , i32 * % 3 , align 4 store i32 0 , i32 * % 4 , align 4 br label % 5 5 : ; preds = % 13 , % 1 % 6 = load i32 , i32 * % 4 , align 4 % 7 = load i32 , i32 * % 2 , align 4 % 8 = icmp slt i32 % 6 , % 7 br i1 % 8 , label % 9 , label % 16 9 : ; preds = % 5 % 10 = load i32 , i32 * % 4 , align 4 % 11 = load i32 , i32 * % 3 , align 4 % 12 = mul nsw i32 % 11 , % 10 store i32 % 12 , i32 * % 3 , align 4 br label % 13 13 : ; preds = % 9 % 14 = load i32 , i32 * % 4 , align 4 % 15 = add nsw i32 % 14 , 1 store i32 % 15 , i32 * % 4 , align 4 br label % 5 , ! llvm . loop ! 6 16 : ; preds = % 5 % 17 = load i32 , i32 * % 3 , align 4 ret i32 % 17 } - \u5373\u53ea\u8981\u6c42 IR \u7684\u865a\u62df\u5bc4\u5b58\u5668\u662f SSA \u7684, \u800c\u771f\u7684\u5185\u5b58\u4e0d\u9700\u8981\u662fSSA\u7684","title":"SSA"},{"location":"Library/LLVM/SSA/#ssa","text":"Static Single Assignment","title":"SSA"},{"location":"Library/LLVM/SSA/#_1","text":"\u6bcf\u4e2a\u53d8\u91cf\u5728\u8bd5\u7528\u524d\u90fd\u5fc5\u987b\u5148\u5b9a\u4e49, \u4e14\u6bcf\u4e2a\u53d8\u91cf\u53ea\u80fd\u8d4b\u503c\u4e00\u6b21(\u53d8\u91cf\u53ea\u80fd\u88ab\u521d\u59cb\u5316, \u4e0d\u80fd\u88ab\u8d4b\u503c)","title":"\u6982\u5ff5"},{"location":"Library/LLVM/SSA/#ssa_1","text":"\u53ef\u4ee5\u7b80\u5316\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u8fc7\u7a0b C 1 2 3 d1 : y := 1 // \u7b2c\u4e00\u6b21\u7684\u8d4b\u503c\u662f\u65e0\u610f\u4e49\u7684 d2 : y := 2 d3 : x := y // \u7f16\u8bd1\u5668 \u7531 d3 \u65e0\u6cd5\u77e5\u9053y\u662f\u7531 d1\u6216\u662fd2 \u800c\u6765 \u4f46\u662f\u5982\u679c\u91c7\u7528SSA: C 1 2 3 d1 : y1 := 1 d2 : y2 := 2 d3 : x := y2 // d2 \u5c31\u662f d3 \u7684reaching defintion","title":"SSA \u7684\u597d\u5904"},{"location":"Library/LLVM/SSA/#_2","text":"\u5982\u679c\u5728\u5faa\u73af\u4e2d, \u53ef\u4ee5\u5bf9\u4e00\u4e2a\u503c\u8fdb\u884c\u591a\u6b21\u7684\u8d4b\u503c, \u8fd9\u6837\u4f18\u5316\u4f1a\u4ea7\u751f\u591a\u4e2a\u65e0\u610f\u4e49\u7684\u503c. \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u53d1\u73b0 %temp \u548c %i \u8fdb\u884c\u4e86\u591a\u6b21\u8d4b\u503c, \u8fdd\u80cc\u4e86SSA \u89e3\u51b3\u65b9\u6cd5:","title":"\u574f\u5904"},{"location":"Library/LLVM/SSA/#a-phi","text":"\u5728 clang -O1 \u4e0b\u751f\u6210\u7684 .ll \u6587\u4ef6 C 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 define dso_local i32 @ factorial ( i32 noundef % 0 ) local_unnamed_addr # 0 { % 2 = icmp sgt i32 % 0 , 0 br i1 % 2 , label % 5 , label % 3 3 : ; preds = % 5 , % 1 % 4 = phi i32 [ 1 , % 1 ], [ % 8 , % 5 ] ; % 4 \u7684\u503c \u4ece % 1 \u6765\u4e3a1 , \u4ece % 5 \u6765 \u4e3a % 8 ret i32 % 4 5 : ; preds = % 1 , % 5 % 6 = phi i32 [ % 9 , % 5 ], [ 0 , % 1 ] % 7 = phi i32 [ % 8 , % 5 ], [ 1 , % 1 ] % 8 = mul nsw i32 % 6 , % 7 % 9 = add nuw nsw i32 % 6 , 1 % 10 = icmp eq i32 % 9 , % 0 br i1 % 10 , label % 3 , label % 5 , ! llvm . loop ! 5 } \u8fd9\u6837\u6bcf\u4e2a\u53d8\u91cf\u53ea\u88ab\u8d4b\u503c\u4e00\u6b21, \u5e76\u4e14\u5b9e\u73b0\u4e86\u5faa\u73af\u9012\u589e( IR \u5185\u7684 % \u5c40\u90e8\u53d8\u91cf\u4e4b\u95f4\u5faa\u73af\u8d4b\u503c)","title":"A: phi"},{"location":"Library/LLVM/SSA/#b-alloca-load-store","text":"\u4f7f\u7528 clang -emit-llvm -S for.c -o for.ll -O0 \u5728 O0 \u4e0b\u751f\u6210IR: C 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 define dso_local i32 @ factorial ( i32 noundef % 0 ) # 0 { % 2 = alloca i32 , align 4 % 3 = alloca i32 , align 4 % 4 = alloca i32 , align 4 store i32 % 0 , i32 * % 2 , align 4 store i32 1 , i32 * % 3 , align 4 store i32 0 , i32 * % 4 , align 4 br label % 5 5 : ; preds = % 13 , % 1 % 6 = load i32 , i32 * % 4 , align 4 % 7 = load i32 , i32 * % 2 , align 4 % 8 = icmp slt i32 % 6 , % 7 br i1 % 8 , label % 9 , label % 16 9 : ; preds = % 5 % 10 = load i32 , i32 * % 4 , align 4 % 11 = load i32 , i32 * % 3 , align 4 % 12 = mul nsw i32 % 11 , % 10 store i32 % 12 , i32 * % 3 , align 4 br label % 13 13 : ; preds = % 9 % 14 = load i32 , i32 * % 4 , align 4 % 15 = add nsw i32 % 14 , 1 store i32 % 15 , i32 * % 4 , align 4 br label % 5 , ! llvm . loop ! 6 16 : ; preds = % 5 % 17 = load i32 , i32 * % 3 , align 4 ret i32 % 17 } - \u5373\u53ea\u8981\u6c42 IR \u7684\u865a\u62df\u5bc4\u5b58\u5668\u662f SSA \u7684, \u800c\u771f\u7684\u5185\u5b58\u4e0d\u9700\u8981\u662fSSA\u7684","title":"B:  alloca, load, store"},{"location":"Library/LLVM/Slang/","text":"SSA In compiler design, static single assignment form (often abbreviated as SSA form or simply SSA) is a property of an intermediate representation (IR), which requires that each variable is assigned exactly once, and every variable is defined before it is used. \u6bcf\u4e2a\u53d8\u91cf\u53ea\u8d4b\u503c\u4e00\u6b21 ABI Application Binary Interface \u4e8c\u8fdb\u5236\u63a5\u53e3 \u53ef\u4ee5\u4e0d\u7ecf\u4fee\u6539\u5728\u652f\u6301\u540c\u6837ABI\u7684\u7cfb\u7edf\u4e0a\u8fd0\u884c\u7a0b\u5e8f IR Intermediate Representation \u4e2d\u95f4\u8868\u793a","title":"Slang"},{"location":"Library/LLVM/%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4/","text":"\u5185\u7f6e\u6307\u4ee4 \u00b6 br C++ 1 2 3 br i1 % 9 , label % 10 , label % 11 ; A br label % 12 ; B br label % 12 ; C br + \u6807\u5fd7\u4f4d + truelable + falselable \u5224\u65ad\u6807\u5fd7\u4f4d\u662f\u5426\u4e3a1 br + label \u65e0\u6761\u4ef6\u8df3\u8f6c icmp eq \u5224\u65ad\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49 phi \u6839\u636e\u8fdb\u5165\u5f53\u524d\u5757\u4e4b\u524d\u6267\u884c\u7684\u662f\u54ea\u4e00\u4e2a\u57fa\u672c\u5feb\u7684\u4ee3\u7801\u6765\u9009\u62e9\u4e00\u4e2a\u53d8\u91cf\u7684\u503c HTML 1 < result > = phi < type > [ < val0 > , < lable0 > ], [ < val1 > , < lable1 > ]...","title":"\u5185\u7f6e\u6307\u4ee4"},{"location":"Library/LLVM/%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4/#_1","text":"br C++ 1 2 3 br i1 % 9 , label % 10 , label % 11 ; A br label % 12 ; B br label % 12 ; C br + \u6807\u5fd7\u4f4d + truelable + falselable \u5224\u65ad\u6807\u5fd7\u4f4d\u662f\u5426\u4e3a1 br + label \u65e0\u6761\u4ef6\u8df3\u8f6c icmp eq \u5224\u65ad\u4e24\u4e2a\u503c\u662f\u5426\u76f8\u7b49 phi \u6839\u636e\u8fdb\u5165\u5f53\u524d\u5757\u4e4b\u524d\u6267\u884c\u7684\u662f\u54ea\u4e00\u4e2a\u57fa\u672c\u5feb\u7684\u4ee3\u7801\u6765\u9009\u62e9\u4e00\u4e2a\u53d8\u91cf\u7684\u503c HTML 1 < result > = phi < type > [ < val0 > , < lable0 > ], [ < val1 > , < lable1 > ]...","title":"\u5185\u7f6e\u6307\u4ee4"},{"location":"Tools/CMake/CMkeLists%E6%A0%BC%E5%BC%8F/","text":"CAMKELISTS.TXT \u00b6 \u6837\u5f0f \u00b6 \u9876\u5c42 CMake 1 2 3 4 5 6 7 8 CMAKE_MINIMUM_REQUIRED ( VERSION 2.8 ) # CMake \u6700\u4f4e\u7248\u672c\u8981\u6c42\uff0c\u4f4e\u4e8e2.6 \u6784\u5efa\u8fc7\u7a0b\u4f1a\u88ab\u7ec8\u6b62\u3002 PROJECT ( server_project ) #\u5b9a\u4e49\u5de5\u7a0b\u540d\u79f0 MESSAGE ( STATUS \"Project: SERVER\" ) # \u6253\u5370\u76f8\u5173\u6d88\u606f\u6d88\u606f MESSAGE ( STATUS \"Project Directory: ${PROJECT_SOURCE_DIR}\" ) SET ( CMAKE_BUILE_TYPE DEBUG ) # \u6307\u5b9a\u7f16\u8bd1\u7c7b\u578b\uff0cdebug \u6216release debug \u7248\u4f1a\u751f\u6210\u76f8\u5173\u8c03\u8bd5\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528 gdb \u8fdb\u884c release\u4e0d\u4f1a\u751f\u6210\u8c03\u8bd5\u4fe1\u606f\u3002\u5f53\u65e0\u6cd5\u8fdb\u884c\u8c03\u8bd5\u65f6\u67e5\u770b\u6b64\u5904\u662f\u5426\u8bbe\u7f6e\u4e3a debug. CMake 1 2 3 4 5 6 7 8 SET ( CMAKE_C_FLAGS_DEBUG \"-g -Wall\" ) # \u6307\u5b9a\u7f16\u8bd1\u5668 # CMAKE_C_FLAGS_DEBUG ---- C \u7f16\u8bd1\u5668 # CMAKE_CXX_FLAGS_DEBUG ---- C++ \u7f16\u8bd1\u5668 # -g\uff1a\u53ea\u662f\u7f16\u8bd1\u5668\uff0c\u5728\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u8c03\u8bd5\u4fe1\u606f\u3002 # -Wall\uff1a\u751f\u6210\u6240\u6709\u8b66\u544a\u4fe1\u606f\u3002\u4e00\u4e0b\u662f\u5177\u4f53\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528 ADD_SUBDIRECTORY ( utility ) # \u6dfb\u52a0\u5b50\u76ee\u5f55 ADD_SUBDIRECTORY ( server ) \u5355\u4e2a\u5de5\u7a0b CMake 1 2 3 4 5 6 7 8 9 10 11 12 SET ( SOURCE_FILES ConfigParser.cpp StrUtility.cpp ) # \u8bbe\u7f6e\u53d8\u91cf\uff0c\u8868\u793a\u6240\u6709\u7684\u6e90\u6587\u4ef6 INCLUDE_DIRECTORIES ( /usr/local/include ${ PROJET_SOURCE_DIR } /utility ) # \u76f8\u5173\u5934\u6587\u4ef6\u7684\u76ee\u5f55 LINK_DIRECTORIES ( /usr/local/lib ) # \u76f8\u5173\u5e93\u6587\u4ef6\u7684\u76ee\u5f55 ADD_LIBRARY ( association ${ SOURCE_FILES } ) # \u751f\u6210\u9759\u6001\u94fe\u63a5\u5e93libassociation.a TARGET_LINK_LIBRARY ( association core\uff09 # \u4f9d\u8d56\u7684\u5e93\u6587\u4ef6 SET_TARGET_PROPERTIES(utility PROPERTIES # \u8868\u793a\u751f\u6210\u7684\u6267\u884c\u6587\u4ef6\u6240\u5728\u8def\u5f84 RUNTIME_OUTPUT_DIRECTORY> \"${PROJECT_SOURCE_DIR}/lib\" ) \u8f93\u51fa\u8def\u5f84\u8bbe\u7f6e \u00b6 \u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8f93\u51fa\u8def\u5f84\uff1a SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/../bin) \u9759\u6001\u5e93 lib \u8f93\u51fa\u8def\u5f84\uff1a set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/../bin) \u52a8\u6001\u5e93\u8f93\u51fa\u8def\u5f84\uff08\u6ce8\u610f\u8fd9\u4e2a\u653e\u5728\u6700\u540e\uff09\uff1a CMake 1 SET_TARGET_PROPERTIES ( dllname PROPERTIES RUNTIME_OUTPUT_DIRECTORY ../bin ) \u5c5e\u6027\u8bbe\u7f6e \u00b6 \u8bbe\u7f6eDebug\u7248\u672c\u548cRelease\u7248\u672c\u4e0b\u5e93\u6587\u4ef6\u7684\u540e\u7f00\u540d CMake 1 set ( CMAKE_DEBUG_POSTFIX \"_d\" ) set ( CMAKE_RELEASE_POSTFIX \"_r\" ) \u8bbe\u7f6eDebug\u7248\u672c\u548cRelease\u7248\u672c\u4e0b\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540e\u7f00\u540d CMake 1 2 set_target_properties ( ${ TARGET_NAME } PROPERTIES DEBUG_POSTFIX \"_d\" ) set_target_properties ( ${ TARGET_NAME } PROPERTIES RELEASE_POSTFIX \"_r\" ) 3.\u8bbe\u7f6e\u94fe\u63a5\u5e93\u540d\u79f0\uff1a CMake 1 2 3 4 5 6 7 8 target_link_libraries () target_link_libraries ( DealWithMould ${ VTK_LIBRARIES } ) target_link_libraries ( myProject hello ) \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300c\u604b\u604b\u897f\u98ce\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/q610098308/article/details/121157418","title":"CMakeLists\u683c\u5f0f"},{"location":"Tools/CMake/CMkeLists%E6%A0%BC%E5%BC%8F/#camkeliststxt","text":"","title":"CAMKELISTS.TXT"},{"location":"Tools/CMake/CMkeLists%E6%A0%BC%E5%BC%8F/#_1","text":"\u9876\u5c42 CMake 1 2 3 4 5 6 7 8 CMAKE_MINIMUM_REQUIRED ( VERSION 2.8 ) # CMake \u6700\u4f4e\u7248\u672c\u8981\u6c42\uff0c\u4f4e\u4e8e2.6 \u6784\u5efa\u8fc7\u7a0b\u4f1a\u88ab\u7ec8\u6b62\u3002 PROJECT ( server_project ) #\u5b9a\u4e49\u5de5\u7a0b\u540d\u79f0 MESSAGE ( STATUS \"Project: SERVER\" ) # \u6253\u5370\u76f8\u5173\u6d88\u606f\u6d88\u606f MESSAGE ( STATUS \"Project Directory: ${PROJECT_SOURCE_DIR}\" ) SET ( CMAKE_BUILE_TYPE DEBUG ) # \u6307\u5b9a\u7f16\u8bd1\u7c7b\u578b\uff0cdebug \u6216release debug \u7248\u4f1a\u751f\u6210\u76f8\u5173\u8c03\u8bd5\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528 gdb \u8fdb\u884c release\u4e0d\u4f1a\u751f\u6210\u8c03\u8bd5\u4fe1\u606f\u3002\u5f53\u65e0\u6cd5\u8fdb\u884c\u8c03\u8bd5\u65f6\u67e5\u770b\u6b64\u5904\u662f\u5426\u8bbe\u7f6e\u4e3a debug. CMake 1 2 3 4 5 6 7 8 SET ( CMAKE_C_FLAGS_DEBUG \"-g -Wall\" ) # \u6307\u5b9a\u7f16\u8bd1\u5668 # CMAKE_C_FLAGS_DEBUG ---- C \u7f16\u8bd1\u5668 # CMAKE_CXX_FLAGS_DEBUG ---- C++ \u7f16\u8bd1\u5668 # -g\uff1a\u53ea\u662f\u7f16\u8bd1\u5668\uff0c\u5728\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u4ea7\u751f\u8c03\u8bd5\u4fe1\u606f\u3002 # -Wall\uff1a\u751f\u6210\u6240\u6709\u8b66\u544a\u4fe1\u606f\u3002\u4e00\u4e0b\u662f\u5177\u4f53\u7684\u9009\u9879\uff0c\u53ef\u4ee5\u5355\u72ec\u4f7f\u7528 ADD_SUBDIRECTORY ( utility ) # \u6dfb\u52a0\u5b50\u76ee\u5f55 ADD_SUBDIRECTORY ( server ) \u5355\u4e2a\u5de5\u7a0b CMake 1 2 3 4 5 6 7 8 9 10 11 12 SET ( SOURCE_FILES ConfigParser.cpp StrUtility.cpp ) # \u8bbe\u7f6e\u53d8\u91cf\uff0c\u8868\u793a\u6240\u6709\u7684\u6e90\u6587\u4ef6 INCLUDE_DIRECTORIES ( /usr/local/include ${ PROJET_SOURCE_DIR } /utility ) # \u76f8\u5173\u5934\u6587\u4ef6\u7684\u76ee\u5f55 LINK_DIRECTORIES ( /usr/local/lib ) # \u76f8\u5173\u5e93\u6587\u4ef6\u7684\u76ee\u5f55 ADD_LIBRARY ( association ${ SOURCE_FILES } ) # \u751f\u6210\u9759\u6001\u94fe\u63a5\u5e93libassociation.a TARGET_LINK_LIBRARY ( association core\uff09 # \u4f9d\u8d56\u7684\u5e93\u6587\u4ef6 SET_TARGET_PROPERTIES(utility PROPERTIES # \u8868\u793a\u751f\u6210\u7684\u6267\u884c\u6587\u4ef6\u6240\u5728\u8def\u5f84 RUNTIME_OUTPUT_DIRECTORY> \"${PROJECT_SOURCE_DIR}/lib\" )","title":"\u6837\u5f0f"},{"location":"Tools/CMake/CMkeLists%E6%A0%BC%E5%BC%8F/#_2","text":"\u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8f93\u51fa\u8def\u5f84\uff1a SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/../bin) \u9759\u6001\u5e93 lib \u8f93\u51fa\u8def\u5f84\uff1a set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/../bin) \u52a8\u6001\u5e93\u8f93\u51fa\u8def\u5f84\uff08\u6ce8\u610f\u8fd9\u4e2a\u653e\u5728\u6700\u540e\uff09\uff1a CMake 1 SET_TARGET_PROPERTIES ( dllname PROPERTIES RUNTIME_OUTPUT_DIRECTORY ../bin )","title":"\u8f93\u51fa\u8def\u5f84\u8bbe\u7f6e"},{"location":"Tools/CMake/CMkeLists%E6%A0%BC%E5%BC%8F/#_3","text":"\u8bbe\u7f6eDebug\u7248\u672c\u548cRelease\u7248\u672c\u4e0b\u5e93\u6587\u4ef6\u7684\u540e\u7f00\u540d CMake 1 set ( CMAKE_DEBUG_POSTFIX \"_d\" ) set ( CMAKE_RELEASE_POSTFIX \"_r\" ) \u8bbe\u7f6eDebug\u7248\u672c\u548cRelease\u7248\u672c\u4e0b\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540e\u7f00\u540d CMake 1 2 set_target_properties ( ${ TARGET_NAME } PROPERTIES DEBUG_POSTFIX \"_d\" ) set_target_properties ( ${ TARGET_NAME } PROPERTIES RELEASE_POSTFIX \"_r\" ) 3.\u8bbe\u7f6e\u94fe\u63a5\u5e93\u540d\u79f0\uff1a CMake 1 2 3 4 5 6 7 8 target_link_libraries () target_link_libraries ( DealWithMould ${ VTK_LIBRARIES } ) target_link_libraries ( myProject hello ) \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300c\u604b\u604b\u897f\u98ce\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/q610098308/article/details/121157418","title":"\u5c5e\u6027\u8bbe\u7f6e"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/","text":"CMake \u4f7f\u7528 Vcpkg \u5b89\u88c5\u7684\u5305, Include \u548c lib \u8fde\u63a5 \u00b6 1. \u6253\u5f00 integrate \u00b6 \uff08\u53ef\u9009\uff09\u6253\u5f00\u540e\uff0c\u5728VS\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5include\u4e0e\u8c03\u7528 2. \u8bbe\u7f6evcpkg.cmake\u7684\u8def\u5f84 \u00b6 CMake 1 cmake .. -D CMAKE_TOOLCHAIN_FILE=\"/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake\" \u6216\u8005\u5728 CMakelist.txt \u4e2d\uff1a CMake 1 set ( CMAKE_TOOLCHAIN_FILE \"D:/Program\\ Files/vcpkg/vcpkg/scripts/buildsystems/vcpkg.cmake\" ) \u6ce8\u610f : \u9700\u8981\u5199\u5728 project() \u4e4b\u524d 3. \u67e5\u627e\u5305\u4e0e\u5305\u542b\u5934\u6587\u4ef6 \u00b6 (Find Package and Include Directories) \u5728find_package() \u540e\uff0c cmake \u5e76\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0include \u6587\u4ef6\u5939\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u6dfb\u52a0 CMake 1 2 3 find_package ( <package_name> CONFIG REQUIRED ) find_path ( package_INCLUDE_DIR NAMES <xxx.h> PATH_SUFFIX <dir_name> - xxx.h \u6587\u4ef6\u5939\u4e0b\u5305\u542b\u7684\u67d0\u4e00\u4e2a\u6587\u4ef6 - dir_name xxx.h \u5b58\u5728\u7684\u6587\u4ef6\u5939\uff0c \u5373 path_suffix \u4f8b\u5982: CMake 1 2 3 4 5 6 7 8 9 10 find_package ( TBB CONFIG REQUIRED ) #find_package(TBB) message ( \"${tbb_DIR}\" ) #\u8f93\u51fa\uff1a D:/Program Files/vcpkg/vcpkg/installed/x64-windows/share/tbb find_path ( tbb_INCLUDE_DIR NAMES tbb.h PATH_SUFFIX tbb ) include_directories ( ${ tbb_INCLUDE_DIR } ) message ( \"${tbb_INCLUDE_DIR}\" ) #\u8f93\u51fa: D:/Program Files/vcpkg/vcpkg/installed/x64-windows/include \u67e5\u5230\u5230\u7684\u5c31\u662f tbb.h \u5b58\u5728\u7684\u6587\u4ef6 path \u53bb\u6389 tbb \u540e\u7f00\u7684\u8def\u5f84\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5include\u4e86 C++ 1 #include <tbb/tbb.h> 4. \u8fde\u63a5\u5e93 \u00b6 (link libraries) CMake 1 2 find_package ( package ) link_libraries ( ${ PROJECT_NAME } package ) \u6ce8\u610f : \u5728 find_library() \u8981\u6ce8\u610f\u67e5\u627e\u7684\u5305\u540d, \u4f7f\u7528vcpkg\u8c03\u7528\u65f6\u4f1a\u63d0\u9192\u5982\u4f55\u5bfb\u627e\u4e0e\u8fde\u63a5 \u5982\u679c\u5305\u540d\u9519\u8bef\uff0c\u5c06\u65e0\u6cd5\u8fde\u63a5","title":"Vcpkg\u7684\u4f7f\u7528"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/#cmake-vcpkg-include-lib","text":"","title":"CMake \u4f7f\u7528 Vcpkg \u5b89\u88c5\u7684\u5305, Include \u548c lib \u8fde\u63a5"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/#1-integrate","text":"\uff08\u53ef\u9009\uff09\u6253\u5f00\u540e\uff0c\u5728VS\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5include\u4e0e\u8c03\u7528","title":"1. \u6253\u5f00 integrate"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/#2-vcpkgcmake","text":"CMake 1 cmake .. -D CMAKE_TOOLCHAIN_FILE=\"/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake\" \u6216\u8005\u5728 CMakelist.txt \u4e2d\uff1a CMake 1 set ( CMAKE_TOOLCHAIN_FILE \"D:/Program\\ Files/vcpkg/vcpkg/scripts/buildsystems/vcpkg.cmake\" ) \u6ce8\u610f : \u9700\u8981\u5199\u5728 project() \u4e4b\u524d","title":"2. \u8bbe\u7f6evcpkg.cmake\u7684\u8def\u5f84"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/#3","text":"(Find Package and Include Directories) \u5728find_package() \u540e\uff0c cmake \u5e76\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0include \u6587\u4ef6\u5939\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u6dfb\u52a0 CMake 1 2 3 find_package ( <package_name> CONFIG REQUIRED ) find_path ( package_INCLUDE_DIR NAMES <xxx.h> PATH_SUFFIX <dir_name> - xxx.h \u6587\u4ef6\u5939\u4e0b\u5305\u542b\u7684\u67d0\u4e00\u4e2a\u6587\u4ef6 - dir_name xxx.h \u5b58\u5728\u7684\u6587\u4ef6\u5939\uff0c \u5373 path_suffix \u4f8b\u5982: CMake 1 2 3 4 5 6 7 8 9 10 find_package ( TBB CONFIG REQUIRED ) #find_package(TBB) message ( \"${tbb_DIR}\" ) #\u8f93\u51fa\uff1a D:/Program Files/vcpkg/vcpkg/installed/x64-windows/share/tbb find_path ( tbb_INCLUDE_DIR NAMES tbb.h PATH_SUFFIX tbb ) include_directories ( ${ tbb_INCLUDE_DIR } ) message ( \"${tbb_INCLUDE_DIR}\" ) #\u8f93\u51fa: D:/Program Files/vcpkg/vcpkg/installed/x64-windows/include \u67e5\u5230\u5230\u7684\u5c31\u662f tbb.h \u5b58\u5728\u7684\u6587\u4ef6 path \u53bb\u6389 tbb \u540e\u7f00\u7684\u8def\u5f84\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5include\u4e86 C++ 1 #include <tbb/tbb.h>","title":"3.  \u67e5\u627e\u5305\u4e0e\u5305\u542b\u5934\u6587\u4ef6"},{"location":"Tools/CMake/Vcpkg%E7%9A%84%E4%BD%BF%E7%94%A8/#4","text":"(link libraries) CMake 1 2 find_package ( package ) link_libraries ( ${ PROJECT_NAME } package ) \u6ce8\u610f : \u5728 find_library() \u8981\u6ce8\u610f\u67e5\u627e\u7684\u5305\u540d, \u4f7f\u7528vcpkg\u8c03\u7528\u65f6\u4f1a\u63d0\u9192\u5982\u4f55\u5bfb\u627e\u4e0e\u8fde\u63a5 \u5982\u679c\u5305\u540d\u9519\u8bef\uff0c\u5c06\u65e0\u6cd5\u8fde\u63a5","title":"4. \u8fde\u63a5\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/","text":"Modern CMAKE \u00b6 -B \u6307\u5b9a build \u76ee\u5f55 --build \u8fdb\u884c\u6784\u5efa \uff08\u8fdb\u5165 build \u76ee\u5f55\u4e0b\uff09 CMake 1 2 cmake -B build cmake --build ./build 1. \u6dfb\u52a0 source \u00b6 CMake 1 2 add_executable ( main ) (\u4e4b\u524d) target_sources ( main PUBLIC main.cpp ) (\u4e4b\u540e) \u6279\u91cf\u6dfb\u52a0 sources \u00b6 1. \u4f7f\u7528file()\u51fd\u6570 \u548c GLOB\u53c2\u6570 \u00b6 CMake 1 2 3 add_executale ( main ) file ( GLOB sources CONFIGURE_DEPENDS ./src/*.cpp ./include/*.h ) target_sources ( main PUBLIC ${ sources } ) 2. GLOB_RECURSE\uff1a \u00b6 \u9012\u5f52\u5730\u67e5\u627e\u5b50\u76ee\u5f55 \u4f46\u662f\u4f1a\u628abuild\u76ee\u5f55\u4e0b\u7684\u4e34\u65f6 .cpp \u6587\u4ef6\u4e5f\u52a0\u8fdb\u6765, \u89e3\u51b3\u65b9\u6cd5: \u4e0d\u8981 \u628a\u6e90\u7801\u653e\u5728\u4e0e build \u76ee\u5f55\u540c\u7ea7 \u4e0b 3. CONFIGURE_DEPENDS \u53c2\u6570: \u00b6 \u6bcf\u6b21build \u66f4\u65b0\u6e90\u6587\u4ef6( configure \u4e00\u904d) (\u5426\u5219\u53ef\u80fd\u5df2\u6dfb\u52a0\u6216\u5220\u9664\u7684\u6e90\u6587\u4ef6\u672a\u68c0\u6d4b\u5230) 4. aux_source_directory() \u51fd\u6570 \u00b6 CMake 1 2 3 4 5 add_executable ( main ) aux_source_directory ( . sources ) aux_source_directory ( lib sources ) aux_source_directory ( src sources ) target_sources ( main PUBLIC ${ sources } ) 2. \u6dfb\u52a0\u5e93 \u00b6 \u9759\u6001\u5e93 \u00b6 CMake 1 2 3 4 5 add_library ( mylib STATIC mylib.cpp ) file ( GLOB blib_src blib/*.cpp ) add_library ( blib STATIC ${ blib_src } ) target_link_libraries ( main PUBLIC mylib ) \u52a8\u6001\u5e93 \u00b6 \u6839\u636e BUILD_SHARED_LIB \u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u51b3\u5b9a\u4e3a\u52a8\u6001\u8fd8\u662f\u9759\u6001 ON \u76f8\u5f53\u4e8e SHARED, OFF \u76f8\u5f53\u4e8e STATIC \u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u4e3a STATIC \u5982\u679c\u4e00\u4e2a\u9879\u76ee\u91cc\u7684 add_Llibrary() \u91cc\u662f\u65e0\u53c2\u6570\u7684\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 cmake -B build -D BUILD_SHARED_LIBS:BOOL=ON , \u6765\u4f7f\u4ed6\u5168\u90e8\u751f\u6210\u9759\u6001\u5e93 Text Only 1 set(BUILD_SHARED_LIBS ON) \u5751\u70b9\uff1a\u52a8\u6001\u5e93\u65e0\u6cd5\u94fe\u63a5\u9759\u6001\u5e93 \u00b6 CMake 1 2 3 4 5 6 7 add_library ( otherlib STATIC otherlib.cpp ) add_library ( mylib SHARED mylib.cp ) target_link_libraries ( mylib PUBLIC otherlib ) add_executalbe ( main main.cpp ) target_link_libraries ( main PUBLIC mylib ) - \u539f\u56e0: \u5c06static\u94fe\u63a5\u5230share\u4e0a\uff0cstatic_lib \u7684\u5730\u5740\u662f \u4e0d\u53d8 \u7684\uff0c\u800cshare\u7684\u5730\u5740\u662f \u53d8\u5316 \u7684 - Solution: 1. \u751f\u6210\u5bf9\u8c61\u5e93 2. \u8ba9\u9759\u6001\u5e93\u7f16\u8bd1\u65f6\u4e5f\u751f\u6210\u4e0e \u4f4d\u7f6e \u65e0\u5173\u7684PIC, \u8fd9\u6837\u624d\u80fd\u88c5\u5728\u52a8\u6001\u5e93\u91cc CMake 1 2 3 4 5 6 7 8 9 set ( CMAKE_POSITION_INDEPENDENT_CODE ON ) # \u5f00\u542f add_library ( otherlib STATIC otherlib.cpp ) add_library ( mylib SHARED mylib.cpp ) target_link_libraries ( mylib PUBLIC otherlib ) add_executable ( main main.cpp ) target_link_libraries ( main PUBLIC mylib ) 3. \u53ea\u9488\u5bf9\u67d0\u4e00\u4e2a\u5e93\u751f\u6210 PIC (\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801) CMake 1 2 3 4 5 add_library ( othrelib STATIC otherlib.cpp ) set_property ( TARGET otherlib PROPERTY POSITON_INDEPENDENT_CODE ON ) add ( ... ) link ( .. ) ... \u5bf9\u8c61\u5e93 \u00b6 \u4fdd\u8bc1\u4e0d\u4f1a\u81ea\u52a8\u5254\u9664\u6ca1\u5f15\u7528\u7684\u6587\u4ef6 // TODO 3. \u94fe\u63a5\u7b2c\u4e09\u65b9\u5e93 \u00b6 1. \u76f4\u63a5\u94fe\u63a5 \u00b6 \u5728 windows \u4e0b\u53ef\u80fd\u65e0\u6cd5\u627e\u5230 CMake 1 2 3 add_executable ( main main.cpp ) target_link_libraries ( mian PUBLIC tbb ) target_link_libraries ( mian PUBLIC C:/lib/... ) 2. \u66f4\u597d\u7684\u65b9\u5f0f\uff1a find_package() \u00b6 CMake 1 2 3 4 add_executable ( main main.cpp ) find_package ( TBB REQUIRED ) target_link_libraries ( main PUBLIC TBB:tbb ) .cmake \u6587\u4ef6\u7531\u4f5c\u8005\u63d0\u4f9b, \u5426\u5219\u9700\u8981\u81ea\u5df1\u5199\u6765\u8fdb\u884cfind 3. \u4f7f\u7528 vcpkg \u00b6 CMake 1 -DCMAKE_TOOLCHAIN_FILE=<vcpkg_dir>/scripts/buildsystems/vcpkg.cmake - \u4f7f\u7528 set() \u9700\u8981\u653e\u5728 project()\u4e4b\u524d 4. \u8f93\u51fa \u00b6 message(STATUS ...) \u5e26 -- \u524d\u7f00\u7684\u4fe1\u606f message(WARNNING ) message(AUTHOR_WARNING) \u53ea\u6709\u4f5c\u8005\u80fd\u770b\u5230\u7684\u8b66\u544a message(FATAL_ERROR .. ) \u7ea2\u8272\u5e76\u4e14\u7acb\u5373\u7ec8\u6b62\u7a0b\u5e8f message(SEND_ERROR ..) \u4e0d\u7ec8\u6b62\u7a0b\u5e8f\u7684\u9519\u8bef 5. \u7f13\u5b58 \u00b6 build \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u662f\u7f13\u5b58\u7684\uff0c\u6709\u65f6\u5019\u73af\u5883\u53d8\u91cf\u4f46\u4ed6\u6ca1\u53d8\uff0c\u9700\u8981\u5220\u6389\u91cd\u6765 \u7f3a\u70b9 : .o \u6587\u4ef6\u4e5f\u4f1a\u88ab\u5220\u9664 \u81ea\u5df1\u8bbe\u7f6e\u7f13\u5b58 CMake 1 set ( myvar \"hello\" CACHE STRING \"this is a docstirng in cache(comment)\" ) \u547d\u4ee4\u884c\u592a\u9ebb\u70e6, \u53ef\u4ee5\u901a\u8fc7 ccmake -B build \u6765\u7f16\u8f91\u7f13\u5b58\u53d8\u91cf opthon() \u4e2d\u8bbe\u7f6e\u7684\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7ccmake\u770b\u89c1 6. \u63a7\u5236\u6d41 \u00b6 \u4e0d\u9700\u8981\u52a0`${} CMake 1 2 3 4 5 6 set ( MYVAR Hello ) if ( MYVAR MATCHES \"Hello\" ) message ( \"MYVAR is Hello\" ) else () message ( \"MYVAR is not Hello\" ) endif () \u5728 ${MYVAR} \u5916\u52a0 \"\" \u5224\u65ad\u53d8\u91cf\u662f\u5426\u5b58\u5728 CMake 1 if ( DEFINED ENV{xx} ) # \u4e0d\u9700\u8981 `$` \u7b26\u53f7 7. \u53d8\u91cf\u4e0e\u4f5c\u7528\u57df \u00b6 1. \u5b50\u6a21\u5757\u5411\u7236\u6a21\u5757\u4f20\u9012\u53d8\u91cf \u00b6 \u7236 CMake 1 2 3 set ( MYVAR OFF ) add_subdirector ( mylib ) message ( \"MYVAR: ${MYVAR}\" ) \u5b50 CMake 1 set ( MYVAR ON PARENT_SCOPE ) \u7ed3\u679c\u4e3aON 2. \u8bbf\u95ee\u73af\u5883\u53d8\u91cf \u00b6 CMake 1 message ( \"PATH is \uff1a $ENV{PATH}\" ) 3. \u8bbf\u95ee\u7f13\u5b58\u91cc\u7684\u53d8\u91cf \u00b6 CMake 1 message ( \"CMAKE_BUILD_TYPE is: $CACHE{CMAKE_BUILD_TYPE}\" ) 8. -D \u9644\u52a0\u53c2\u6570 \u00b6 1. CMAKE_BUILD_TYPE \u53c2\u6570 \u00b6 Debug : \u5b8c\u5168\u4e0d\u4f18\u5316, \u4fbf\u4e8e\u8c03\u8bd5 -O0 -g Release : \u4f18\u5316\u7a0b\u5ea6\u9ad8\uff0c\u4f46\u7f16\u8bd1\u6162 -O3 -DNDEBUG MinSizeRel : \u6700\u5c0f\u4f53\u79ef\u53d1\u5e03\uff0c\u6bd4 Release \u5c0f\uff0c\u4f46\u662f\u4e0d\u5b8c\u5168\u4f18\u5316\uff0c\u51cf\u5c11\u4e86\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u4f53\u79ef -Os -DNDEBUG RelWithDebInfo : \u5e26\u8c03\u8bd5\u4fe1\u606f\u53d1\u5e03\uff0c\u6bd4 Release \u8fd8\u5927, -O2 -g -DNDEBUG \u9ed8\u8ba4\u53c2\u6570\u4e3a\u7a7a\uff0c \u76f8\u5f53\u4e8e Debug \u6b64\u5916\u5b9a\u4e49\u4e86 NDEBUG \u5b8f\u56de\u4e8b assert \u88ab\u53bb\u9664\u6389 \u8bbe\u7f6e\u9ed8\u8ba4 Release \u00b6 \u5982\u679c\u4e0d\u60f3\u6307\u5b9a -D CMAKE_BUILD_TYPE.... \u53c2\u6570\uff0c \u6216\u8005\u5fd8\u8bb0\u6307\u5b9a \u53ef\u4ee5\u5224\u65ad\u53c2\u6570\u6709\u65e0\uff08\u9ed8\u8ba4\u4e0d\u6307\u5b9a\u5373\u4e3a \u7a7a\u4e32 \uff09 CMake 1 2 3 if ( NOT CMAKE_BUILD_TYPE ) set ( CMAKE_BUILD_TYPE Release ) endif () 2. \u6307\u5b9a\u7f16\u8bd1\u5668 \u00b6 CMake 1 2 $ cmake -D CAMKE_C_COMPILER=... $ cmake -D CAMKE_CXX_COMPILER=... 9. \u5e38\u7528\u53d8\u91cf \u00b6 \u8def\u5f84\u4e0e\u9879\u76ee\u540d\u79f0 PROJECT_SOURCE_DIR : \u5f53\u524d\u6e90\u7801\u8def\u5f84 PROJECT_BINARY_DIR : out/put/path CMAME_SOURCE_DIR : \u6839\u9879\u76ee\u6e90\u7801\u8def\u5f84 \u4f46 (\u6700\u5916\u5c42CMAKELIST.txt \u6587\u4ef6\u7684\u7236\u76ee\u5f55) CMAKE_BINARY_DIR : \u6839\u9879\u76ee\u8f93\u51fa\u8def\u5f84 PROJECT_IS_TOP_LEVEL : BOOL \u7c7b\u578b\uff0c \u8868\u793a\u5f53\u524d\u9879\u76ee\u662f\u5426\u662f\u6700\u9876\u5c42\u7684\u6839\u9879\u76ee PROCECT_NAME : \u5f53\u524d\u9879\u76ee\u540d CMAKE_PROJECT_NAME : \u6839\u9879\u76ee\u540d \u8bbe\u7f6e CMAKE_CXX_STANDARD \u6807\u51c6 VERSION \u5b57\u6bb5 \u7cfb\u7edf\u53d8\u91cf WIN32 APPLE UNIX ANDROID IOS \u5176\u4ed6 CMake 1 2 3 4 5 6 7 8 CMAKE_BUILD_TOOL #\u6307\u5b9a\u6784\u5efa\u5de5\u5177(VS6-msdev Unix-make/gmake VS7-devenv Nmake-nmake) CMAKE_DL_LIBS #\u5305\u542b dlopen \u548c dlclose \u7684\u5e93\u540d\u79f0 CMAKE_COMMAND #\u6307\u5411 cmake full-path CMAKE_EDIT_COMMAND # cmake-gui \u6216 ccmake \u7684 full-path CMAKE_EXECUTALE_SUFFIX # \u8be5\u8058\u4efb\u592a\u4e0a\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u540e\u7f00 CMAKE_SIZEOF_VOID_P # void \u6307\u9488\u7684\u5927\u5c0f CMAKE_SKIP_PATH # \u5982\u679c\u4e3a\u771f\uff0c\u4e0d\u6dfb\u52a0\u8fd0\u884c\u65f6\u7684\u8def\u5f84\u4fe1\u606f CMAKE_GENRATOR # -G \u53c2\u6570\u5185\u5bb9 10. \u5e38\u7528\u51fd\u6570 \u00b6 1. project() \u00b6 CMake 1 project ( \u9879\u76ee\u540d LANGUAGES \u4f7f\u7528\u7684\u8bed\u8a00**\u5217\u8868** ) 1. LANGUAGE \u5b57\u6bb5 \u00b6 C CXX ASM Fortran CUDA : \u82f1\u4f1f\u8fbe\u7684 CUDA (after 3.8) OBJC OBJCXX : Objective-C++ (after 3.18) ISPC: \u4e00\u79cd intel \u7684\u81ea\u52a8 SIMD \u8bed\u8a00 \uff08after 3.18) \u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u4e3a C \u548c CXX \u6216\u8005\u4f7f\u7528 enable_language() \u5728\u540e\u9762\u542f\u7528\u8bed\u8a00 2. VERSION \u5b57\u6bb5 \u00b6 \u53ef\u901a\u8fc7\u56db\u4e2a\u53d8\u91cf\u83b7\u53d6 CMake 1 2 3 4 5 6 project ( hello VERSION 0.2.3 ) message ( \"PROJECT_VERSION: ${PROJECT_VERSION}\" ) message ( \"PROJECT_VERSION_MAJOR: ${PROJECT_VERSION_MAJOR}\" ) message ( \"PROJECT_VERSION_MINOR: ${PROJECT_VERSION_MINOR}\" ) message ( \"PROJECT_VERSION_PATCH: ${PROJECT_VERSION_PATCH}\" ) \u901a\u8fc7\u9879\u76ee\u540d\u53d8\u91cf \u5d4c\u5957 \u6765\u83b7\u53d6\u7248\u672c CMake 1 2 3 message ( \"hello_VERSION: ${${PROJECT_NAME}_VERSION} \" ) message ( \"hello_SOURCE_DIR: ${${PROJECT_NAME}_SOURCE_DIR} \" ) message ( \"hello_BINARY_DIR: ${${PROJECT_NAME}_BINARY_DIR} \" ) 2. set() \u00b6 1. \u8bbe\u7f6e CMAKE_CXX_STANDARD \u6807\u51c6 \u00b6 CMake 1 2 3 set ( CMAKE_CXX_STANDARD 17 ) set ( CMAKE_CXX_STANDARD_REQUIRED ON ) #\u68c0\u6d4b\u5230\u4e0d\u652f\u6301\u65f6\u51fa\u9519 set ( CMAKE_CXX_EXTENSIONS ON ) #\u4e00\u822c\u8bbe\u4e3aoff\uff0c \u4e0d\u7136\u5728msvc\u4e0a \u6ca1\u6709\u7279\u6027\u51fa\u9519 2. \u8bbe\u7f6e \u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u65b9\u5f0f \u00b6 CMake 1 2 3 if ( NOT DEFINED BUILD_SHARE_LIBS ) set ( BUILD_SHARED_LIBS ON ) endif () 3. \u5e2e\u52a9 clangd \u8bc6\u522b\u9879\u76ee \u00b6 \u8bbe\u7f6e include path 3. set_property() \u00b6 \u8bbe\u7f6e\u5355\u4e2alib\u5c5e\u6027 \u5751\u70b9\uff1a\u52a8\u6001\u5e93\u65e0\u6cd5\u94fe\u63a5\u9759\u6001\u5e93 \u5176\u4ed6 CMake 1 2 3 4 5 6 7 set_property ( TAGET main PROPERTY CXX_STANDARD 17 ) set_property ( TAGET main PROPERTY CXX_STANDARD ON ) set_property ( TAGET main PROPERTY WIN32_EXECUTALBLE ON ) # \u5728windows\u4e2d\u5173\u95ed console \u53ea\u6709 gui (default OFFu) set_property ( TAGET main PROPERTY LINK_WHAT_YOU_USE ON ) # \u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u81ea\u52a8\u5254\u9664\u6ca1\u6709\u5f15\u7528\u7b26\u53f7\u7684\u94fe\u63a5\u5e93 \uff08default OFF) set_property ( TAGET main PROPERTY LIBRARY_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u52a8\u6001\u94fe\u63a5\u5e93\u7684\u8f93\u51fa\u8def\u5f84 set_property ( TAGET main PROPERTY ARCHIVE_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u9759\u6001\u94fe\u63a5\u5e93 set_property ( TAGET main PROPERTY RUNTIME_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u53ef\u6267\u884c\u6587\u4ef6 4. set_target_property() \u00b6 \u53ef\u4ee5\u6279\u91cf\u8bbe\u7f6e\u5c5e\u6027 5. find_package() \u00b6 \u66f4\u597d\u7684\u65b9\u5f0f\uff1a find_package 6. add_custom_target() \u00b6 \u521b\u5efa\u4e00\u4e2a run \u4f2a\u76ee\u6807\uff0c\u6267\u884c main \u7684\u53ef\u6267\u884c\u6587\u95f4 CMake 1 2 3 4 5 add_executable ( main main.cpp ) add_custom_target ( run COMMAND $< TARGET_FILE:main > ) # \u4f7f\u5f97 run \u4f9d\u8d56\u4e8e main or add_dependencies ( run main ) \u8fd9\u6837\u5c31\u53ef\u4ee5\u8fd0\u884c\u6307\u5b9a\u76ee\u6807\u4e86 Bash 1 cmake -build build --target run","title":"\u73b0\u4ee3CMAKE"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#modern-cmake","text":"-B \u6307\u5b9a build \u76ee\u5f55 --build \u8fdb\u884c\u6784\u5efa \uff08\u8fdb\u5165 build \u76ee\u5f55\u4e0b\uff09 CMake 1 2 cmake -B build cmake --build ./build","title":"Modern CMAKE"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-source","text":"CMake 1 2 add_executable ( main ) (\u4e4b\u524d) target_sources ( main PUBLIC main.cpp ) (\u4e4b\u540e)","title":"1. \u6dfb\u52a0 source"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#sources","text":"","title":"\u6279\u91cf\u6dfb\u52a0 sources"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-file-glob","text":"CMake 1 2 3 add_executale ( main ) file ( GLOB sources CONFIGURE_DEPENDS ./src/*.cpp ./include/*.h ) target_sources ( main PUBLIC ${ sources } )","title":"1.  \u4f7f\u7528file()\u51fd\u6570 \u548c GLOB\u53c2\u6570"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2-glob_recurse","text":"\u9012\u5f52\u5730\u67e5\u627e\u5b50\u76ee\u5f55 \u4f46\u662f\u4f1a\u628abuild\u76ee\u5f55\u4e0b\u7684\u4e34\u65f6 .cpp \u6587\u4ef6\u4e5f\u52a0\u8fdb\u6765, \u89e3\u51b3\u65b9\u6cd5: \u4e0d\u8981 \u628a\u6e90\u7801\u653e\u5728\u4e0e build \u76ee\u5f55\u540c\u7ea7 \u4e0b","title":"2.  GLOB_RECURSE\uff1a"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3-configure_depends","text":"\u6bcf\u6b21build \u66f4\u65b0\u6e90\u6587\u4ef6( configure \u4e00\u904d) (\u5426\u5219\u53ef\u80fd\u5df2\u6dfb\u52a0\u6216\u5220\u9664\u7684\u6e90\u6587\u4ef6\u672a\u68c0\u6d4b\u5230)","title":"3. CONFIGURE_DEPENDS \u53c2\u6570:"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#4-aux_source_directory","text":"CMake 1 2 3 4 5 add_executable ( main ) aux_source_directory ( . sources ) aux_source_directory ( lib sources ) aux_source_directory ( src sources ) target_sources ( main PUBLIC ${ sources } )","title":"4. aux_source_directory() \u51fd\u6570"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2","text":"","title":"2. \u6dfb\u52a0\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#_1","text":"CMake 1 2 3 4 5 add_library ( mylib STATIC mylib.cpp ) file ( GLOB blib_src blib/*.cpp ) add_library ( blib STATIC ${ blib_src } ) target_link_libraries ( main PUBLIC mylib )","title":"\u9759\u6001\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#_2","text":"\u6839\u636e BUILD_SHARED_LIB \u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u51b3\u5b9a\u4e3a\u52a8\u6001\u8fd8\u662f\u9759\u6001 ON \u76f8\u5f53\u4e8e SHARED, OFF \u76f8\u5f53\u4e8e STATIC \u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u4e3a STATIC \u5982\u679c\u4e00\u4e2a\u9879\u76ee\u91cc\u7684 add_Llibrary() \u91cc\u662f\u65e0\u53c2\u6570\u7684\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 cmake -B build -D BUILD_SHARED_LIBS:BOOL=ON , \u6765\u4f7f\u4ed6\u5168\u90e8\u751f\u6210\u9759\u6001\u5e93 Text Only 1 set(BUILD_SHARED_LIBS ON)","title":"\u52a8\u6001\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#_3","text":"CMake 1 2 3 4 5 6 7 add_library ( otherlib STATIC otherlib.cpp ) add_library ( mylib SHARED mylib.cp ) target_link_libraries ( mylib PUBLIC otherlib ) add_executalbe ( main main.cpp ) target_link_libraries ( main PUBLIC mylib ) - \u539f\u56e0: \u5c06static\u94fe\u63a5\u5230share\u4e0a\uff0cstatic_lib \u7684\u5730\u5740\u662f \u4e0d\u53d8 \u7684\uff0c\u800cshare\u7684\u5730\u5740\u662f \u53d8\u5316 \u7684 - Solution: 1. \u751f\u6210\u5bf9\u8c61\u5e93 2. \u8ba9\u9759\u6001\u5e93\u7f16\u8bd1\u65f6\u4e5f\u751f\u6210\u4e0e \u4f4d\u7f6e \u65e0\u5173\u7684PIC, \u8fd9\u6837\u624d\u80fd\u88c5\u5728\u52a8\u6001\u5e93\u91cc CMake 1 2 3 4 5 6 7 8 9 set ( CMAKE_POSITION_INDEPENDENT_CODE ON ) # \u5f00\u542f add_library ( otherlib STATIC otherlib.cpp ) add_library ( mylib SHARED mylib.cpp ) target_link_libraries ( mylib PUBLIC otherlib ) add_executable ( main main.cpp ) target_link_libraries ( main PUBLIC mylib ) 3. \u53ea\u9488\u5bf9\u67d0\u4e00\u4e2a\u5e93\u751f\u6210 PIC (\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801) CMake 1 2 3 4 5 add_library ( othrelib STATIC otherlib.cpp ) set_property ( TARGET otherlib PROPERTY POSITON_INDEPENDENT_CODE ON ) add ( ... ) link ( .. ) ...","title":"\u5751\u70b9\uff1a\u52a8\u6001\u5e93\u65e0\u6cd5\u94fe\u63a5\u9759\u6001\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#_4","text":"\u4fdd\u8bc1\u4e0d\u4f1a\u81ea\u52a8\u5254\u9664\u6ca1\u5f15\u7528\u7684\u6587\u4ef6 // TODO","title":"\u5bf9\u8c61\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3","text":"","title":"3. \u94fe\u63a5\u7b2c\u4e09\u65b9\u5e93"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1","text":"\u5728 windows \u4e0b\u53ef\u80fd\u65e0\u6cd5\u627e\u5230 CMake 1 2 3 add_executable ( main main.cpp ) target_link_libraries ( mian PUBLIC tbb ) target_link_libraries ( mian PUBLIC C:/lib/... )","title":"1. \u76f4\u63a5\u94fe\u63a5"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2-find_package","text":"CMake 1 2 3 4 add_executable ( main main.cpp ) find_package ( TBB REQUIRED ) target_link_libraries ( main PUBLIC TBB:tbb ) .cmake \u6587\u4ef6\u7531\u4f5c\u8005\u63d0\u4f9b, \u5426\u5219\u9700\u8981\u81ea\u5df1\u5199\u6765\u8fdb\u884cfind","title":"2.  \u66f4\u597d\u7684\u65b9\u5f0f\uff1a find_package()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3-vcpkg","text":"CMake 1 -DCMAKE_TOOLCHAIN_FILE=<vcpkg_dir>/scripts/buildsystems/vcpkg.cmake - \u4f7f\u7528 set() \u9700\u8981\u653e\u5728 project()\u4e4b\u524d","title":"3. \u4f7f\u7528 vcpkg"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#4","text":"message(STATUS ...) \u5e26 -- \u524d\u7f00\u7684\u4fe1\u606f message(WARNNING ) message(AUTHOR_WARNING) \u53ea\u6709\u4f5c\u8005\u80fd\u770b\u5230\u7684\u8b66\u544a message(FATAL_ERROR .. ) \u7ea2\u8272\u5e76\u4e14\u7acb\u5373\u7ec8\u6b62\u7a0b\u5e8f message(SEND_ERROR ..) \u4e0d\u7ec8\u6b62\u7a0b\u5e8f\u7684\u9519\u8bef","title":"4. \u8f93\u51fa"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#5","text":"build \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u662f\u7f13\u5b58\u7684\uff0c\u6709\u65f6\u5019\u73af\u5883\u53d8\u91cf\u4f46\u4ed6\u6ca1\u53d8\uff0c\u9700\u8981\u5220\u6389\u91cd\u6765 \u7f3a\u70b9 : .o \u6587\u4ef6\u4e5f\u4f1a\u88ab\u5220\u9664 \u81ea\u5df1\u8bbe\u7f6e\u7f13\u5b58 CMake 1 set ( myvar \"hello\" CACHE STRING \"this is a docstirng in cache(comment)\" ) \u547d\u4ee4\u884c\u592a\u9ebb\u70e6, \u53ef\u4ee5\u901a\u8fc7 ccmake -B build \u6765\u7f16\u8f91\u7f13\u5b58\u53d8\u91cf opthon() \u4e2d\u8bbe\u7f6e\u7684\u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7ccmake\u770b\u89c1","title":"5. \u7f13\u5b58"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#6","text":"\u4e0d\u9700\u8981\u52a0`${} CMake 1 2 3 4 5 6 set ( MYVAR Hello ) if ( MYVAR MATCHES \"Hello\" ) message ( \"MYVAR is Hello\" ) else () message ( \"MYVAR is not Hello\" ) endif () \u5728 ${MYVAR} \u5916\u52a0 \"\" \u5224\u65ad\u53d8\u91cf\u662f\u5426\u5b58\u5728 CMake 1 if ( DEFINED ENV{xx} ) # \u4e0d\u9700\u8981 `$` \u7b26\u53f7","title":"6. \u63a7\u5236\u6d41"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#7","text":"","title":"7.  \u53d8\u91cf\u4e0e\u4f5c\u7528\u57df"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1_1","text":"\u7236 CMake 1 2 3 set ( MYVAR OFF ) add_subdirector ( mylib ) message ( \"MYVAR: ${MYVAR}\" ) \u5b50 CMake 1 set ( MYVAR ON PARENT_SCOPE ) \u7ed3\u679c\u4e3aON","title":"1. \u5b50\u6a21\u5757\u5411\u7236\u6a21\u5757\u4f20\u9012\u53d8\u91cf"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2_1","text":"CMake 1 message ( \"PATH is \uff1a $ENV{PATH}\" )","title":"2. \u8bbf\u95ee\u73af\u5883\u53d8\u91cf"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3_1","text":"CMake 1 message ( \"CMAKE_BUILD_TYPE is: $CACHE{CMAKE_BUILD_TYPE}\" )","title":"3. \u8bbf\u95ee\u7f13\u5b58\u91cc\u7684\u53d8\u91cf"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#8-d","text":"","title":"8. -D \u9644\u52a0\u53c2\u6570"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-cmake_build_type","text":"Debug : \u5b8c\u5168\u4e0d\u4f18\u5316, \u4fbf\u4e8e\u8c03\u8bd5 -O0 -g Release : \u4f18\u5316\u7a0b\u5ea6\u9ad8\uff0c\u4f46\u7f16\u8bd1\u6162 -O3 -DNDEBUG MinSizeRel : \u6700\u5c0f\u4f53\u79ef\u53d1\u5e03\uff0c\u6bd4 Release \u5c0f\uff0c\u4f46\u662f\u4e0d\u5b8c\u5168\u4f18\u5316\uff0c\u51cf\u5c11\u4e86\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u4f53\u79ef -Os -DNDEBUG RelWithDebInfo : \u5e26\u8c03\u8bd5\u4fe1\u606f\u53d1\u5e03\uff0c\u6bd4 Release \u8fd8\u5927, -O2 -g -DNDEBUG \u9ed8\u8ba4\u53c2\u6570\u4e3a\u7a7a\uff0c \u76f8\u5f53\u4e8e Debug \u6b64\u5916\u5b9a\u4e49\u4e86 NDEBUG \u5b8f\u56de\u4e8b assert \u88ab\u53bb\u9664\u6389","title":"1. CMAKE_BUILD_TYPE \u53c2\u6570"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#release","text":"\u5982\u679c\u4e0d\u60f3\u6307\u5b9a -D CMAKE_BUILD_TYPE.... \u53c2\u6570\uff0c \u6216\u8005\u5fd8\u8bb0\u6307\u5b9a \u53ef\u4ee5\u5224\u65ad\u53c2\u6570\u6709\u65e0\uff08\u9ed8\u8ba4\u4e0d\u6307\u5b9a\u5373\u4e3a \u7a7a\u4e32 \uff09 CMake 1 2 3 if ( NOT CMAKE_BUILD_TYPE ) set ( CMAKE_BUILD_TYPE Release ) endif ()","title":"\u8bbe\u7f6e\u9ed8\u8ba4 Release"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2_2","text":"CMake 1 2 $ cmake -D CAMKE_C_COMPILER=... $ cmake -D CAMKE_CXX_COMPILER=...","title":"2. \u6307\u5b9a\u7f16\u8bd1\u5668"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#9","text":"\u8def\u5f84\u4e0e\u9879\u76ee\u540d\u79f0 PROJECT_SOURCE_DIR : \u5f53\u524d\u6e90\u7801\u8def\u5f84 PROJECT_BINARY_DIR : out/put/path CMAME_SOURCE_DIR : \u6839\u9879\u76ee\u6e90\u7801\u8def\u5f84 \u4f46 (\u6700\u5916\u5c42CMAKELIST.txt \u6587\u4ef6\u7684\u7236\u76ee\u5f55) CMAKE_BINARY_DIR : \u6839\u9879\u76ee\u8f93\u51fa\u8def\u5f84 PROJECT_IS_TOP_LEVEL : BOOL \u7c7b\u578b\uff0c \u8868\u793a\u5f53\u524d\u9879\u76ee\u662f\u5426\u662f\u6700\u9876\u5c42\u7684\u6839\u9879\u76ee PROCECT_NAME : \u5f53\u524d\u9879\u76ee\u540d CMAKE_PROJECT_NAME : \u6839\u9879\u76ee\u540d \u8bbe\u7f6e CMAKE_CXX_STANDARD \u6807\u51c6 VERSION \u5b57\u6bb5 \u7cfb\u7edf\u53d8\u91cf WIN32 APPLE UNIX ANDROID IOS \u5176\u4ed6 CMake 1 2 3 4 5 6 7 8 CMAKE_BUILD_TOOL #\u6307\u5b9a\u6784\u5efa\u5de5\u5177(VS6-msdev Unix-make/gmake VS7-devenv Nmake-nmake) CMAKE_DL_LIBS #\u5305\u542b dlopen \u548c dlclose \u7684\u5e93\u540d\u79f0 CMAKE_COMMAND #\u6307\u5411 cmake full-path CMAKE_EDIT_COMMAND # cmake-gui \u6216 ccmake \u7684 full-path CMAKE_EXECUTALE_SUFFIX # \u8be5\u8058\u4efb\u592a\u4e0a\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u540e\u7f00 CMAKE_SIZEOF_VOID_P # void \u6307\u9488\u7684\u5927\u5c0f CMAKE_SKIP_PATH # \u5982\u679c\u4e3a\u771f\uff0c\u4e0d\u6dfb\u52a0\u8fd0\u884c\u65f6\u7684\u8def\u5f84\u4fe1\u606f CMAKE_GENRATOR # -G \u53c2\u6570\u5185\u5bb9","title":"9. \u5e38\u7528\u53d8\u91cf"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#10","text":"","title":"10. \u5e38\u7528\u51fd\u6570"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-project","text":"CMake 1 project ( \u9879\u76ee\u540d LANGUAGES \u4f7f\u7528\u7684\u8bed\u8a00**\u5217\u8868** )","title":"1. project()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-language","text":"C CXX ASM Fortran CUDA : \u82f1\u4f1f\u8fbe\u7684 CUDA (after 3.8) OBJC OBJCXX : Objective-C++ (after 3.18) ISPC: \u4e00\u79cd intel \u7684\u81ea\u52a8 SIMD \u8bed\u8a00 \uff08after 3.18) \u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u4e3a C \u548c CXX \u6216\u8005\u4f7f\u7528 enable_language() \u5728\u540e\u9762\u542f\u7528\u8bed\u8a00","title":"1. LANGUAGE \u5b57\u6bb5"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2-version","text":"\u53ef\u901a\u8fc7\u56db\u4e2a\u53d8\u91cf\u83b7\u53d6 CMake 1 2 3 4 5 6 project ( hello VERSION 0.2.3 ) message ( \"PROJECT_VERSION: ${PROJECT_VERSION}\" ) message ( \"PROJECT_VERSION_MAJOR: ${PROJECT_VERSION_MAJOR}\" ) message ( \"PROJECT_VERSION_MINOR: ${PROJECT_VERSION_MINOR}\" ) message ( \"PROJECT_VERSION_PATCH: ${PROJECT_VERSION_PATCH}\" ) \u901a\u8fc7\u9879\u76ee\u540d\u53d8\u91cf \u5d4c\u5957 \u6765\u83b7\u53d6\u7248\u672c CMake 1 2 3 message ( \"hello_VERSION: ${${PROJECT_NAME}_VERSION} \" ) message ( \"hello_SOURCE_DIR: ${${PROJECT_NAME}_SOURCE_DIR} \" ) message ( \"hello_BINARY_DIR: ${${PROJECT_NAME}_BINARY_DIR} \" )","title":"2. VERSION \u5b57\u6bb5"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2-set","text":"","title":"2. set()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#1-cmake_cxx_standard","text":"CMake 1 2 3 set ( CMAKE_CXX_STANDARD 17 ) set ( CMAKE_CXX_STANDARD_REQUIRED ON ) #\u68c0\u6d4b\u5230\u4e0d\u652f\u6301\u65f6\u51fa\u9519 set ( CMAKE_CXX_EXTENSIONS ON ) #\u4e00\u822c\u8bbe\u4e3aoff\uff0c \u4e0d\u7136\u5728msvc\u4e0a \u6ca1\u6709\u7279\u6027\u51fa\u9519","title":"1. \u8bbe\u7f6e CMAKE_CXX_STANDARD \u6807\u51c6"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#2_3","text":"CMake 1 2 3 if ( NOT DEFINED BUILD_SHARE_LIBS ) set ( BUILD_SHARED_LIBS ON ) endif ()","title":"2. \u8bbe\u7f6e \u53d8\u91cf\u7684\u9ed8\u8ba4\u503c\u65b9\u5f0f"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3-clangd","text":"\u8bbe\u7f6e include path","title":"3. \u5e2e\u52a9 clangd \u8bc6\u522b\u9879\u76ee"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#3-set_property","text":"\u8bbe\u7f6e\u5355\u4e2alib\u5c5e\u6027 \u5751\u70b9\uff1a\u52a8\u6001\u5e93\u65e0\u6cd5\u94fe\u63a5\u9759\u6001\u5e93 \u5176\u4ed6 CMake 1 2 3 4 5 6 7 set_property ( TAGET main PROPERTY CXX_STANDARD 17 ) set_property ( TAGET main PROPERTY CXX_STANDARD ON ) set_property ( TAGET main PROPERTY WIN32_EXECUTALBLE ON ) # \u5728windows\u4e2d\u5173\u95ed console \u53ea\u6709 gui (default OFFu) set_property ( TAGET main PROPERTY LINK_WHAT_YOU_USE ON ) # \u544a\u8bc9\u7f16\u8bd1\u5668\u4e0d\u8981\u81ea\u52a8\u5254\u9664\u6ca1\u6709\u5f15\u7528\u7b26\u53f7\u7684\u94fe\u63a5\u5e93 \uff08default OFF) set_property ( TAGET main PROPERTY LIBRARY_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u52a8\u6001\u94fe\u63a5\u5e93\u7684\u8f93\u51fa\u8def\u5f84 set_property ( TAGET main PROPERTY ARCHIVE_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u9759\u6001\u94fe\u63a5\u5e93 set_property ( TAGET main PROPERTY RUNTIME_OUTPUT_DIRECTORY ${ CMAKE_SOURCE_DIR } /lib ) # \u53ef\u6267\u884c\u6587\u4ef6","title":"3. set_property()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#4-set_target_property","text":"\u53ef\u4ee5\u6279\u91cf\u8bbe\u7f6e\u5c5e\u6027","title":"4. set_target_property()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#5-find_package","text":"\u66f4\u597d\u7684\u65b9\u5f0f\uff1a find_package","title":"5. find_package()"},{"location":"Tools/CMake/%E7%8E%B0%E4%BB%A3CMAKE/#6-add_custom_target","text":"\u521b\u5efa\u4e00\u4e2a run \u4f2a\u76ee\u6807\uff0c\u6267\u884c main \u7684\u53ef\u6267\u884c\u6587\u95f4 CMake 1 2 3 4 5 add_executable ( main main.cpp ) add_custom_target ( run COMMAND $< TARGET_FILE:main > ) # \u4f7f\u5f97 run \u4f9d\u8d56\u4e8e main or add_dependencies ( run main ) \u8fd9\u6837\u5c31\u53ef\u4ee5\u8fd0\u884c\u6307\u5b9a\u76ee\u6807\u4e86 Bash 1 cmake -build build --target run","title":"6. add_custom_target()"},{"location":"Tools/Docker/Image%E5%8F%8AContainer%E7%AE%A1%E7%90%86/","text":"","title":"Image\u53caContainer\u7ba1\u7406"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/","text":"Run \u547d\u4ee4\u53ca\u53c2\u6570\u7684\u4f7f\u7528 \u00b6 docker run: \u4f7f\u7528\u4e00\u4e2a\u955c\u50cf\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u5bb9\u5668\u9644\u52a0\u76f8\u5e94\u7684\u53c2\u6570 \u666e\u901a\u7684\u8fd0\u884c \u00b6 Bash 1 2 $ docker run -it -p 80 :80 /bin/bash -v ` pwd ` : ` pwd ` debian:latest $ docker run -d -P ubuntu \u9009\u62e9\u955c\u50cf\u548c\u5bb9\u5668\u540d\u5b57(--name) \u00b6 Bash 1 --name [ \u5bb9\u5668\u540d\u5b57 ] \u00b6 \u7f51\u7edc\u914d\u7f6e \u00b6 --net \u00b6 --net=bridge \u8fd9\u4e2a\u662f\u9ed8\u8ba4\u503c\uff0c\u8fde\u63a5\u5230\u9ed8\u8ba4\u7684\u7f51\u6865\u3002(\u5206\u914d172.**\u5730\u5740) \u2013net=host \u5171\u4eab\u4e3b\u673a\u7f51\u7edc\u7a7a\u95f4\uff0c\u53ef\u4ee5\u50cf\u666e\u901a\u8fdb\u7a0b\u4e00\u6837\u8fdb\u884c\u901a\u4fe1(\u4e0d\u5206\u914d\u72ec\u7acb\u5730\u5740) -\u2013net=container:NAME_or_ID \u8ba9 Docker \u548c\u5df2\u5b58\u5728\u7684\u5bb9\u5668\u5171\u4eab IP \u5730\u5740\u548c\u7aef\u53e3\u7b49\u7f51\u7edc\u8d44\u6e90\uff0c\u4e24\u8005\u8fdb\u7a0b\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 lo \u73af\u56de\u63a5\u53e3\u901a\u4fe1\u3002 -\u2013net=none \u8ba9 Docker \u5c06\u65b0\u5bb9\u5668\u653e\u5230\u9694\u79bb\u7684\u7f51\u7edc\u6808\u4e2d\uff0c\u4f46\u662f\u4e0d\u8fdb\u884c\u7f51\u7edc\u914d\u7f6e\u3002\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u8fdb\u884c\u914d\u7f6e\u3002 \u4f7f\u7528 --net=container:NAME_or_ID \u8fd0\u884c\u4e00\u7ec4docker cluster \u8fdb\u884c\u96c6\u6210\u73af\u5883\u6d4b\u8bd5 \u81ea\u5b9a\u4e49\u7f51\u7edc \u00b6 \u5728 \u81ea\u5b9a\u4e49\u7f51\u7edc \u540e: Bash 1 $ docker run --net ={ custom_net } ... \u7aef\u53e3\u6620\u5c04(-p/P) \u00b6 Text Only 1 2 3 -p [\u672c\u673a\u7aef\u53e3]:[\u5bb9\u5668\u7aef\u53e3] (\u53ef\u591a\u6b21\u4f7f\u7528-p \u6620\u5c04\u591a\u4e2a\u7aef\u53e3) -P \u968f\u673a\u6620\u5c04\u4e00\u4e2a\u672c\u673a\u7aef\u53e3\u5230\u5bb9\u5668\u768480\u7aef\u53e3 \u542f\u52a8\u6a21\u5f0f \u00b6 Text Only 1 2 3 4 5 -d --detach \u6307\u5b9a\u540e\u53f0\u8fd0\u884c -i \u4ee5\u4ea4\u4e92\u6a21\u5f0f\u542f\u52a8\uff0c\u901a\u5e38\u4e0e-t\u8054\u7528 -t \u9009\u62e9\u4e00\u4e2ashell\u7a0b\u5e8f\u4f7f\u7528 \u5982: -it /bin/bash \u8fde\u63a5\u5230\u6807\u51c6\u8f93\u51fa(-a) \u00b6 -a \u6807\u5fd7\u544a\u8bc9 docker run \u7ed1\u5b9a\u5230\u5bb9\u5668\u7684STDIN\uff0cSTDOUT\u6216STDERR\u3002 \u8fd9\u4f7f\u5f97\u53ef\u4ee5\u6839\u636e\u9700\u8981\u64cd\u7eb5\u8f93\u51fa\u548c\u8f93\u5165\u3002 Bash 1 2 $ docker run -a stdout ubuntu echo test test \u5b8c\u6574\u5bb9\u5668\u80fd\u529b (\u2013privileged) \u00b6 \u7279\u6743\u5bb9\u5668\uff1f \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5927\u591a\u6570\u6f5c\u5728\u5371\u9669\u7684\u5185\u6838\u529f\u80fd\u90fd\u4f1a\u88ab\u5220\u9664; \u5305\u62ec cap_sys_admin\uff08\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\uff09\u3002 \u4f46\u662f\uff0c\u2013privileged\u6807\u5fd7\u5c06\u5141\u8bb8\u5b83\u8fd0\u884c\u3002 Bash 1 $ docker run -t -i --privileged ubuntu bash --privileged \u6807\u5fd7\u4e3a\u5bb9\u5668\u63d0\u4f9b\u4e86\u6240\u6709\u529f\u80fd\uff0c\u5b83\u8fd8\u89e3\u9664\u4e86\u8bbe\u5907cgroup\u63a7\u5236\u5668\u5f3a\u5236\u6267\u884c\u7684\u6240\u6709\u9650\u5236\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u5bb9\u5668\u51e0\u4e4e\u53ef\u4ee5\u5b8c\u6210\u4e3b\u673a\u53ef\u4ee5\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002 \u6b64\u6807\u5fd7\u5b58\u5728\u4ee5\u5141\u8bb8\u7279\u6b8a\u7528\u4f8b\uff0c\u4f8b\u5982\u5728Docker\u4e2d\u8fd0\u884cDocker\u3002 \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 (-w) \u00b6 Bash 1 2 $ docker run -w /path/to/dir/ -i -t ubuntu pwd /path/to/dir -w \u5141\u8bb8\u547d\u4ee4\u5728\u7ed9\u5b9a\u7684\u76ee\u5f55\u4e2d\u6267\u884c\uff0c\u8fd9\u91cc\u662f /path/to/dir/\u3002 \u5982\u679c\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u5219\u5728\u5bb9\u5668\u5185\u521b\u5efa\u3002 \u6302\u8f7d\u5377 (-v, \u2013read-only) \u00b6 Bash 1 docker run -v ` pwd ` : ` pwd ` -w ` pwd ` -i -t ubuntu pwd -v \u6807\u5fd7\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u3002 -w \u8ba9\u547d\u4ee4\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u6267\u884c\uff0c\u65b9\u6cd5\u662f\u5c06\u5de5\u4f5c\u76ee\u5f55\u66f4\u6539\u4e3apwd\u8fd4\u56de\u7684\u503c\u3002\u6240\u4ee5\u8fd9\u4e2a\u7ec4\u5408\u4f7f\u7528\u5bb9\u5668\u6267\u884c\u547d\u4ee4\uff0c\u4f46\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u3002 \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf(-e , -env, -env-file) \u00b6 \u53ef\u4ee5\u901a\u8fc7 -e , -env, -env-file \u8bbe\u7f6e\u5bb9\u5668\u7684\u73af\u5883\u53d8\u91cf Bash 1 $ docker run -e ENV_VAR --env ENV_VAR2 = xxx --env-file ./env.list debain bash \u672c\u5730\u5df2\u7ecf export \u7684\u73af\u5883\u53d8\u91cf\uff0c\u53ef\u4ee5\u4e0d\u7528\u8d4b\u503c Bash 1 2 3 4 5 6 export VAR1 = value1 export VAR2 = value2 $ docker run --env VAR1 --env VAR2 ubuntu env | grep VAR VAR1 = value1 VAR2 = value2 \u4ece\u5bb9\u5668\u6302\u8f7d\u5377(\u2013volumes-from) \u00b6 Bash 1 docker run --volumes-from 777f7dc92da7 --volumes-from ba8c0c54f0f2:ro -i -t ubuntu pwd \u8d44\u6e90\u5206\u914d \u00b6 Bash 1 2 --cpu-period =[ number ] --cput-quota =[ number ] # \u53ea\u80fd\u4f7f\u7528 number/1000 ms \u7684cpu \u547d\u4ee4\u8be6\u89e3 \u00b6 Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...] Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 -d, --detach = false \u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u4e8e\u524d\u53f0\u8fd8\u662f\u540e\u53f0\uff0c\u9ed8\u8ba4\u4e3afalse -i, --interactive = false \u6253\u5f00STDIN\uff0c\u7528\u4e8e\u63a7\u5236\u53f0\u4ea4\u4e92 -t, --tty = false \u5206\u914dtty\u8bbe\u5907\uff0c\u8be5\u53ef\u4ee5\u652f\u6301\u7ec8\u7aef\u767b\u5f55\uff0c\u9ed8\u8ba4\u4e3afalse -u, --user = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u7528\u6237 -a, --attach =[] \u767b\u5f55\u5bb9\u5668\uff08\u5fc5\u987b\u662f\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668\uff09 -w, --workdir = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55 -c, --cpu-shares = 0 \u8bbe\u7f6e\u5bb9\u5668CPU\u6743\u91cd\uff0c\u5728CPU\u5171\u4eab\u573a\u666f\u4f7f\u7528 -e, --env =[] \u6307\u5b9a\u73af\u5883\u53d8\u91cf\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8be5\u73af\u5883\u53d8\u91cf -m, --memory = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u5185\u5b58\u4e0a\u9650 -P, --publish-all = false \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3 -p, --publish =[] \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3 -h, --hostname = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u4e3b\u673a\u540d -v, --volume =[] \u7ed9\u5bb9\u5668\u6302\u8f7d\u5b58\u50a8\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --volumes-from =[] \u7ed9\u5bb9\u5668\u6302\u8f7d\u5176\u4ed6\u5bb9\u5668\u4e0a\u7684\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --cap-add =[] \u6dfb\u52a0\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cap-drop =[] \u5220\u9664\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cidfile = \"\" \u8fd0\u884c\u5bb9\u5668\u540e\uff0c\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u5199\u5165\u5bb9\u5668PID\u503c\uff0c\u4e00\u79cd\u5178\u578b\u7684\u76d1\u63a7\u7cfb\u7edf\u7528\u6cd5 --cpuset = \"\" \u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9bCPU\uff0c\u6b64\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u5bb9\u5668\u72ec\u5360CPU --device =[] \u6dfb\u52a0\u4e3b\u673a\u8bbe\u5907\u7ed9\u5bb9\u5668\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u76f4\u901a --dns =[] \u6307\u5b9a\u5bb9\u5668\u7684dns\u670d\u52a1\u5668 --dns-search =[] \u6307\u5b9a\u5bb9\u5668\u7684dns\u641c\u7d22\u57df\u540d\uff0c\u5199\u5165\u5230\u5bb9\u5668\u7684/etc/resolv.conf\u6587\u4ef6 --entrypoint = \"\" \u8986\u76d6image\u7684\u5165\u53e3\u70b9 --env-file =[] \u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3a\u6bcf\u884c\u4e00\u4e2a\u73af\u5883\u53d8\u91cf --expose =[] \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5373\u4fee\u6539\u955c\u50cf\u7684\u66b4\u9732\u7aef\u53e3 --link =[] \u6307\u5b9a\u5bb9\u5668\u95f4\u7684\u5173\u8054\uff0c\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684IP\u3001env\u7b49\u4fe1\u606f --lxc-conf =[] \u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u6709\u5728\u6307\u5b9a--exec-driver = lxc\u65f6\u4f7f\u7528 --name = \"\" \u6307\u5b9a\u5bb9\u5668\u540d\u5b57\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u540d\u5b57\u8fdb\u884c\u5bb9\u5668\u7ba1\u7406\uff0c links\u7279\u6027\u9700\u8981\u4f7f\u7528\u540d\u5b57 --net = \"bridge\" \u5bb9\u5668\u7f51\u7edc\u8bbe\u7f6e: bridge \u4f7f\u7528docker daemon\u6307\u5b9a\u7684\u7f51\u6865 host //\u5bb9\u5668\u4f7f\u7528\u4e3b\u673a\u7684\u7f51\u7edc container:NAME_or_ID >//\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684\u7f51\u8def\uff0c\u5171\u4eabIP\u548cPORT\u7b49\u7f51\u7edc\u8d44\u6e90 none \u5bb9\u5668\u4f7f\u7528\u81ea\u5df1\u7684\u7f51\u7edc\uff08\u7c7b\u4f3c--net = bridge\uff09\uff0c\u4f46\u662f\u4e0d\u8fdb\u884c\u914d\u7f6e --privileged = false \u6307\u5b9a\u5bb9\u5668\u662f\u5426\u4e3a\u7279\u6743\u5bb9\u5668\uff0c\u7279\u6743\u5bb9\u5668\u62e5\u6709\u6240\u6709\u7684capabilities --restart = \"no\" \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u7684\u91cd\u542f\u7b56\u7565: no\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u4e0d\u91cd\u542f on-failure\uff1a\u5bb9\u5668\u6545\u969c\u9000\u51fa\uff08\u8fd4\u56de\u503c\u975e\u96f6\uff09\u65f6\u91cd\u542f always\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u603b\u662f\u91cd\u542f --rm = false \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668 ( \u4e0d\u652f\u6301\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668 ) --sig-proxy = true \u8bbe\u7f6e\u7531\u4ee3\u7406\u63a5\u53d7\u5e76\u5904\u7406\u4fe1\u53f7\uff0c\u4f46\u662fSIGCHLD\u3001SIGSTOP\u548c SIGKILL\u4e0d\u80fd\u88ab\u4ee3\u7406","title":"Run\u547d\u4ee4"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#run","text":"docker run: \u4f7f\u7528\u4e00\u4e2a\u955c\u50cf\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u5bb9\u5668\u9644\u52a0\u76f8\u5e94\u7684\u53c2\u6570","title":"Run \u547d\u4ee4\u53ca\u53c2\u6570\u7684\u4f7f\u7528"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_1","text":"Bash 1 2 $ docker run -it -p 80 :80 /bin/bash -v ` pwd ` : ` pwd ` debian:latest $ docker run -d -P ubuntu","title":"\u666e\u901a\u7684\u8fd0\u884c"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-name","text":"","title":"\u9009\u62e9\u955c\u50cf\u548c\u5bb9\u5668\u540d\u5b57(--name)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#bash1-name","text":"","title":"Bash1--name [\u5bb9\u5668\u540d\u5b57]\n"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_2","text":"","title":"\u7f51\u7edc\u914d\u7f6e"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-net","text":"--net=bridge \u8fd9\u4e2a\u662f\u9ed8\u8ba4\u503c\uff0c\u8fde\u63a5\u5230\u9ed8\u8ba4\u7684\u7f51\u6865\u3002(\u5206\u914d172.**\u5730\u5740) \u2013net=host \u5171\u4eab\u4e3b\u673a\u7f51\u7edc\u7a7a\u95f4\uff0c\u53ef\u4ee5\u50cf\u666e\u901a\u8fdb\u7a0b\u4e00\u6837\u8fdb\u884c\u901a\u4fe1(\u4e0d\u5206\u914d\u72ec\u7acb\u5730\u5740) -\u2013net=container:NAME_or_ID \u8ba9 Docker \u548c\u5df2\u5b58\u5728\u7684\u5bb9\u5668\u5171\u4eab IP \u5730\u5740\u548c\u7aef\u53e3\u7b49\u7f51\u7edc\u8d44\u6e90\uff0c\u4e24\u8005\u8fdb\u7a0b\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 lo \u73af\u56de\u63a5\u53e3\u901a\u4fe1\u3002 -\u2013net=none \u8ba9 Docker \u5c06\u65b0\u5bb9\u5668\u653e\u5230\u9694\u79bb\u7684\u7f51\u7edc\u6808\u4e2d\uff0c\u4f46\u662f\u4e0d\u8fdb\u884c\u7f51\u7edc\u914d\u7f6e\u3002\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5df1\u8fdb\u884c\u914d\u7f6e\u3002 \u4f7f\u7528 --net=container:NAME_or_ID \u8fd0\u884c\u4e00\u7ec4docker cluster \u8fdb\u884c\u96c6\u6210\u73af\u5883\u6d4b\u8bd5","title":"--net"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_3","text":"\u5728 \u81ea\u5b9a\u4e49\u7f51\u7edc \u540e: Bash 1 $ docker run --net ={ custom_net } ...","title":"\u81ea\u5b9a\u4e49\u7f51\u7edc"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-pp","text":"Text Only 1 2 3 -p [\u672c\u673a\u7aef\u53e3]:[\u5bb9\u5668\u7aef\u53e3] (\u53ef\u591a\u6b21\u4f7f\u7528-p \u6620\u5c04\u591a\u4e2a\u7aef\u53e3) -P \u968f\u673a\u6620\u5c04\u4e00\u4e2a\u672c\u673a\u7aef\u53e3\u5230\u5bb9\u5668\u768480\u7aef\u53e3","title":"\u7aef\u53e3\u6620\u5c04(-p/P)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_4","text":"Text Only 1 2 3 4 5 -d --detach \u6307\u5b9a\u540e\u53f0\u8fd0\u884c -i \u4ee5\u4ea4\u4e92\u6a21\u5f0f\u542f\u52a8\uff0c\u901a\u5e38\u4e0e-t\u8054\u7528 -t \u9009\u62e9\u4e00\u4e2ashell\u7a0b\u5e8f\u4f7f\u7528 \u5982: -it /bin/bash","title":"\u542f\u52a8\u6a21\u5f0f"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-a","text":"-a \u6807\u5fd7\u544a\u8bc9 docker run \u7ed1\u5b9a\u5230\u5bb9\u5668\u7684STDIN\uff0cSTDOUT\u6216STDERR\u3002 \u8fd9\u4f7f\u5f97\u53ef\u4ee5\u6839\u636e\u9700\u8981\u64cd\u7eb5\u8f93\u51fa\u548c\u8f93\u5165\u3002 Bash 1 2 $ docker run -a stdout ubuntu echo test test","title":"\u8fde\u63a5\u5230\u6807\u51c6\u8f93\u51fa(-a)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#privileged","text":"\u7279\u6743\u5bb9\u5668\uff1f \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5927\u591a\u6570\u6f5c\u5728\u5371\u9669\u7684\u5185\u6838\u529f\u80fd\u90fd\u4f1a\u88ab\u5220\u9664; \u5305\u62ec cap_sys_admin\uff08\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u6240\u9700\uff09\u3002 \u4f46\u662f\uff0c\u2013privileged\u6807\u5fd7\u5c06\u5141\u8bb8\u5b83\u8fd0\u884c\u3002 Bash 1 $ docker run -t -i --privileged ubuntu bash --privileged \u6807\u5fd7\u4e3a\u5bb9\u5668\u63d0\u4f9b\u4e86\u6240\u6709\u529f\u80fd\uff0c\u5b83\u8fd8\u89e3\u9664\u4e86\u8bbe\u5907cgroup\u63a7\u5236\u5668\u5f3a\u5236\u6267\u884c\u7684\u6240\u6709\u9650\u5236\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u5bb9\u5668\u51e0\u4e4e\u53ef\u4ee5\u5b8c\u6210\u4e3b\u673a\u53ef\u4ee5\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002 \u6b64\u6807\u5fd7\u5b58\u5728\u4ee5\u5141\u8bb8\u7279\u6b8a\u7528\u4f8b\uff0c\u4f8b\u5982\u5728Docker\u4e2d\u8fd0\u884cDocker\u3002","title":"\u5b8c\u6574\u5bb9\u5668\u80fd\u529b (\u2013privileged)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-w","text":"Bash 1 2 $ docker run -w /path/to/dir/ -i -t ubuntu pwd /path/to/dir -w \u5141\u8bb8\u547d\u4ee4\u5728\u7ed9\u5b9a\u7684\u76ee\u5f55\u4e2d\u6267\u884c\uff0c\u8fd9\u91cc\u662f /path/to/dir/\u3002 \u5982\u679c\u8def\u5f84\u4e0d\u5b58\u5728\uff0c\u5219\u5728\u5bb9\u5668\u5185\u521b\u5efa\u3002","title":"\u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 (-w)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-v-read-only","text":"Bash 1 docker run -v ` pwd ` : ` pwd ` -w ` pwd ` -i -t ubuntu pwd -v \u6807\u5fd7\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u3002 -w \u8ba9\u547d\u4ee4\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u6267\u884c\uff0c\u65b9\u6cd5\u662f\u5c06\u5de5\u4f5c\u76ee\u5f55\u66f4\u6539\u4e3apwd\u8fd4\u56de\u7684\u503c\u3002\u6240\u4ee5\u8fd9\u4e2a\u7ec4\u5408\u4f7f\u7528\u5bb9\u5668\u6267\u884c\u547d\u4ee4\uff0c\u4f46\u5728\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e2d\u3002","title":"\u6302\u8f7d\u5377 (-v, \u2013read-only)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#-e-env-env-file","text":"\u53ef\u4ee5\u901a\u8fc7 -e , -env, -env-file \u8bbe\u7f6e\u5bb9\u5668\u7684\u73af\u5883\u53d8\u91cf Bash 1 $ docker run -e ENV_VAR --env ENV_VAR2 = xxx --env-file ./env.list debain bash \u672c\u5730\u5df2\u7ecf export \u7684\u73af\u5883\u53d8\u91cf\uff0c\u53ef\u4ee5\u4e0d\u7528\u8d4b\u503c Bash 1 2 3 4 5 6 export VAR1 = value1 export VAR2 = value2 $ docker run --env VAR1 --env VAR2 ubuntu env | grep VAR VAR1 = value1 VAR2 = value2","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf(-e , -env, -env-file)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#volumes-from","text":"Bash 1 docker run --volumes-from 777f7dc92da7 --volumes-from ba8c0c54f0f2:ro -i -t ubuntu pwd","title":"\u4ece\u5bb9\u5668\u6302\u8f7d\u5377(\u2013volumes-from)"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_5","text":"Bash 1 2 --cpu-period =[ number ] --cput-quota =[ number ] # \u53ea\u80fd\u4f7f\u7528 number/1000 ms \u7684cpu","title":"\u8d44\u6e90\u5206\u914d"},{"location":"Tools/Docker/Run%E5%91%BD%E4%BB%A4/#_6","text":"Usage: docker run [OPTIONS] IMAGE [COMMAND] [ARG...] Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 -d, --detach = false \u6307\u5b9a\u5bb9\u5668\u8fd0\u884c\u4e8e\u524d\u53f0\u8fd8\u662f\u540e\u53f0\uff0c\u9ed8\u8ba4\u4e3afalse -i, --interactive = false \u6253\u5f00STDIN\uff0c\u7528\u4e8e\u63a7\u5236\u53f0\u4ea4\u4e92 -t, --tty = false \u5206\u914dtty\u8bbe\u5907\uff0c\u8be5\u53ef\u4ee5\u652f\u6301\u7ec8\u7aef\u767b\u5f55\uff0c\u9ed8\u8ba4\u4e3afalse -u, --user = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u7528\u6237 -a, --attach =[] \u767b\u5f55\u5bb9\u5668\uff08\u5fc5\u987b\u662f\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668\uff09 -w, --workdir = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u5de5\u4f5c\u76ee\u5f55 -c, --cpu-shares = 0 \u8bbe\u7f6e\u5bb9\u5668CPU\u6743\u91cd\uff0c\u5728CPU\u5171\u4eab\u573a\u666f\u4f7f\u7528 -e, --env =[] \u6307\u5b9a\u73af\u5883\u53d8\u91cf\uff0c\u5bb9\u5668\u4e2d\u53ef\u4ee5\u4f7f\u7528\u8be5\u73af\u5883\u53d8\u91cf -m, --memory = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u5185\u5b58\u4e0a\u9650 -P, --publish-all = false \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3 -p, --publish =[] \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3 -h, --hostname = \"\" \u6307\u5b9a\u5bb9\u5668\u7684\u4e3b\u673a\u540d -v, --volume =[] \u7ed9\u5bb9\u5668\u6302\u8f7d\u5b58\u50a8\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --volumes-from =[] \u7ed9\u5bb9\u5668\u6302\u8f7d\u5176\u4ed6\u5bb9\u5668\u4e0a\u7684\u5377\uff0c\u6302\u8f7d\u5230\u5bb9\u5668\u7684\u67d0\u4e2a\u76ee\u5f55 --cap-add =[] \u6dfb\u52a0\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cap-drop =[] \u5220\u9664\u6743\u9650\uff0c\u6743\u9650\u6e05\u5355\u8be6\u89c1\uff1ahttp://linux.die.net/man/7/capabilities --cidfile = \"\" \u8fd0\u884c\u5bb9\u5668\u540e\uff0c\u5728\u6307\u5b9a\u6587\u4ef6\u4e2d\u5199\u5165\u5bb9\u5668PID\u503c\uff0c\u4e00\u79cd\u5178\u578b\u7684\u76d1\u63a7\u7cfb\u7edf\u7528\u6cd5 --cpuset = \"\" \u8bbe\u7f6e\u5bb9\u5668\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9bCPU\uff0c\u6b64\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u5bb9\u5668\u72ec\u5360CPU --device =[] \u6dfb\u52a0\u4e3b\u673a\u8bbe\u5907\u7ed9\u5bb9\u5668\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u76f4\u901a --dns =[] \u6307\u5b9a\u5bb9\u5668\u7684dns\u670d\u52a1\u5668 --dns-search =[] \u6307\u5b9a\u5bb9\u5668\u7684dns\u641c\u7d22\u57df\u540d\uff0c\u5199\u5165\u5230\u5bb9\u5668\u7684/etc/resolv.conf\u6587\u4ef6 --entrypoint = \"\" \u8986\u76d6image\u7684\u5165\u53e3\u70b9 --env-file =[] \u6307\u5b9a\u73af\u5883\u53d8\u91cf\u6587\u4ef6\uff0c\u6587\u4ef6\u683c\u5f0f\u4e3a\u6bcf\u884c\u4e00\u4e2a\u73af\u5883\u53d8\u91cf --expose =[] \u6307\u5b9a\u5bb9\u5668\u66b4\u9732\u7684\u7aef\u53e3\uff0c\u5373\u4fee\u6539\u955c\u50cf\u7684\u66b4\u9732\u7aef\u53e3 --link =[] \u6307\u5b9a\u5bb9\u5668\u95f4\u7684\u5173\u8054\uff0c\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684IP\u3001env\u7b49\u4fe1\u606f --lxc-conf =[] \u6307\u5b9a\u5bb9\u5668\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u53ea\u6709\u5728\u6307\u5b9a--exec-driver = lxc\u65f6\u4f7f\u7528 --name = \"\" \u6307\u5b9a\u5bb9\u5668\u540d\u5b57\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7\u540d\u5b57\u8fdb\u884c\u5bb9\u5668\u7ba1\u7406\uff0c links\u7279\u6027\u9700\u8981\u4f7f\u7528\u540d\u5b57 --net = \"bridge\" \u5bb9\u5668\u7f51\u7edc\u8bbe\u7f6e: bridge \u4f7f\u7528docker daemon\u6307\u5b9a\u7684\u7f51\u6865 host //\u5bb9\u5668\u4f7f\u7528\u4e3b\u673a\u7684\u7f51\u7edc container:NAME_or_ID >//\u4f7f\u7528\u5176\u4ed6\u5bb9\u5668\u7684\u7f51\u8def\uff0c\u5171\u4eabIP\u548cPORT\u7b49\u7f51\u7edc\u8d44\u6e90 none \u5bb9\u5668\u4f7f\u7528\u81ea\u5df1\u7684\u7f51\u7edc\uff08\u7c7b\u4f3c--net = bridge\uff09\uff0c\u4f46\u662f\u4e0d\u8fdb\u884c\u914d\u7f6e --privileged = false \u6307\u5b9a\u5bb9\u5668\u662f\u5426\u4e3a\u7279\u6743\u5bb9\u5668\uff0c\u7279\u6743\u5bb9\u5668\u62e5\u6709\u6240\u6709\u7684capabilities --restart = \"no\" \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u7684\u91cd\u542f\u7b56\u7565: no\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u4e0d\u91cd\u542f on-failure\uff1a\u5bb9\u5668\u6545\u969c\u9000\u51fa\uff08\u8fd4\u56de\u503c\u975e\u96f6\uff09\u65f6\u91cd\u542f always\uff1a\u5bb9\u5668\u9000\u51fa\u65f6\u603b\u662f\u91cd\u542f --rm = false \u6307\u5b9a\u5bb9\u5668\u505c\u6b62\u540e\u81ea\u52a8\u5220\u9664\u5bb9\u5668 ( \u4e0d\u652f\u6301\u4ee5docker run -d\u542f\u52a8\u7684\u5bb9\u5668 ) --sig-proxy = true \u8bbe\u7f6e\u7531\u4ee3\u7406\u63a5\u53d7\u5e76\u5904\u7406\u4fe1\u53f7\uff0c\u4f46\u662fSIGCHLD\u3001SIGSTOP\u548c SIGKILL\u4e0d\u80fd\u88ab\u4ee3\u7406","title":"\u547d\u4ee4\u8be6\u89e3"},{"location":"Tools/Docker/docker%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/","text":"1. \u83b7\u53d6 container \u7684\u5185\u7f51IP\u5730\u5740 \u00b6 \u8fdb\u5165\u5bb9\u5668\u5185\u90e8\u540e Bash 1 cat /etc/hosts #\u4f1a\u663e\u793a\u81ea\u5df1\u4ee5\u53ca(\u2013 link)\u8f6f\u8fde\u63a5\u7684\u5bb9\u5668IP 2.\u4f7f\u7528\u547d\u4ee4 Bash 1 2 3 4 5 6 docker inspect <container id> \u6216 docker inspect --format '{{ .NetworkSettings.IPAddress }}' <container-ID> \u6216 docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' container_name_or_id 3.\u53ef\u4ee5\u8003\u8651\u5728 ~/.bashrc \u4e2d\u5199\u4e00\u4e2a bash \u51fd\u6570\uff1a Bash 1 2 3 4 5 6 7 8 function docker_ip () { sudo docker inspect --format '{{ .NetworkSettings.IPAddress }}' $1 } source ~/.bashrc \u7136\u540e\uff1a $ docker_ip <container-ID> 172 .17.0.6 4.\u8981\u83b7\u53d6\u6240\u6709\u5bb9\u5668\u540d\u79f0\u53ca\u5176IP\u5730\u5740\u53ea\u9700\u4e00\u4e2a\u547d\u4ee4\u3002 Text Only 1 docker inspect -f '{{.Name}} - {{.NetworkSettings.IPAddress }}' $(docker ps -aq) \u5982\u679c\u4f7f\u7528docker-compose\u547d\u4ee4\u5c06\u662f\uff1a Bash 1 docker inspect -f '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $( docker ps -aq ) 5.\u663e\u793a\u6240\u6709\u5bb9\u5668IP\u5730\u5740\uff1a Bash 1 docker inspect --format = '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $( docker ps -aq ) \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300csannerlittle\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/sannerlittle/article/details/77063800 2. \u81ea\u5b9a\u4e49\u7f51\u7edc \u00b6 container\u7684\u9ed8\u8ba4ip\u4e3a172.**\uff0c\u7f51\u5173\u4e5f\u540c\u6837\u4e3a172.** \u8fd9\u6837\u5bfc\u81f4\u5bb9\u5668\u5728\u4e0d\u540c\u7684\u7f51\u5173\u4e0b\u4e0d\u80fdping\u901a \u521b\u5efa\u81ea\u5b9a\u4e49\u7f51\u7edc \u00b6 \u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 docker network create \u521b\u5efa\u4e00\u4e2a\u4e8e\u672c\u5730\u4e0b\u7684\u7f51\u7edc Bash 1 2 3 $ docker network create --driver bridge --subnet 192 .168.0.0/16 --gateway 192 .168.0.1 custom-net $ docker inspect custom-net 2. \u4e8e\u662f\u5728 \u81ea\u5b9a\u4e49\u7f51\u7edc \u4e2d\u52a0\u5165: - --net=custom-net 3. \u7f51\u7edc\u8fde\u901a \u81ea\u5b9a\u4e49\u7f51\u7edc\u7684\u4f18\u70b9 \u00b6 \u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u5982mysql\u96c6\u7fa4\u4f7f\u7528\u540c\u4e00\u4e2a\u7f51\u6865\uff0c\u4f7f\u5176\u80fd\u591f\u76f8\u4e92\u8bbf\u95ee\uff1b \u4e0d\u540c\u96c6\u7fa4\u3001\u5e94\u7528\u4f7f\u7528\u4e0d\u540c\u7684\u7f51\u6865\uff0c\u505a\u7f51\u7edc\u9694\u79bb\uff1b \u6709\u5229\u4e8e\u96c6\u7fa4\u7684\u5065\u5eb7\u5b89\u5168\uff0c\u65b9\u4fbf\u7f51\u7edc\u7ba1\u7406\u3002","title":"docker\u7f51\u7edc\u7ba1\u7406"},{"location":"Tools/Docker/docker%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#1-container-ip","text":"\u8fdb\u5165\u5bb9\u5668\u5185\u90e8\u540e Bash 1 cat /etc/hosts #\u4f1a\u663e\u793a\u81ea\u5df1\u4ee5\u53ca(\u2013 link)\u8f6f\u8fde\u63a5\u7684\u5bb9\u5668IP 2.\u4f7f\u7528\u547d\u4ee4 Bash 1 2 3 4 5 6 docker inspect <container id> \u6216 docker inspect --format '{{ .NetworkSettings.IPAddress }}' <container-ID> \u6216 docker inspect -f '{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' container_name_or_id 3.\u53ef\u4ee5\u8003\u8651\u5728 ~/.bashrc \u4e2d\u5199\u4e00\u4e2a bash \u51fd\u6570\uff1a Bash 1 2 3 4 5 6 7 8 function docker_ip () { sudo docker inspect --format '{{ .NetworkSettings.IPAddress }}' $1 } source ~/.bashrc \u7136\u540e\uff1a $ docker_ip <container-ID> 172 .17.0.6 4.\u8981\u83b7\u53d6\u6240\u6709\u5bb9\u5668\u540d\u79f0\u53ca\u5176IP\u5730\u5740\u53ea\u9700\u4e00\u4e2a\u547d\u4ee4\u3002 Text Only 1 docker inspect -f '{{.Name}} - {{.NetworkSettings.IPAddress }}' $(docker ps -aq) \u5982\u679c\u4f7f\u7528docker-compose\u547d\u4ee4\u5c06\u662f\uff1a Bash 1 docker inspect -f '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $( docker ps -aq ) 5.\u663e\u793a\u6240\u6709\u5bb9\u5668IP\u5730\u5740\uff1a Bash 1 docker inspect --format = '{{.Name}} - {{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $( docker ps -aq ) \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300csannerlittle\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/sannerlittle/article/details/77063800","title":"1. \u83b7\u53d6 container \u7684\u5185\u7f51IP\u5730\u5740"},{"location":"Tools/Docker/docker%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#2","text":"container\u7684\u9ed8\u8ba4ip\u4e3a172.**\uff0c\u7f51\u5173\u4e5f\u540c\u6837\u4e3a172.** \u8fd9\u6837\u5bfc\u81f4\u5bb9\u5668\u5728\u4e0d\u540c\u7684\u7f51\u5173\u4e0b\u4e0d\u80fdping\u901a","title":"2. \u81ea\u5b9a\u4e49\u7f51\u7edc"},{"location":"Tools/Docker/docker%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#_1","text":"\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 docker network create \u521b\u5efa\u4e00\u4e2a\u4e8e\u672c\u5730\u4e0b\u7684\u7f51\u7edc Bash 1 2 3 $ docker network create --driver bridge --subnet 192 .168.0.0/16 --gateway 192 .168.0.1 custom-net $ docker inspect custom-net 2. \u4e8e\u662f\u5728 \u81ea\u5b9a\u4e49\u7f51\u7edc \u4e2d\u52a0\u5165: - --net=custom-net 3. \u7f51\u7edc\u8fde\u901a","title":"\u521b\u5efa\u81ea\u5b9a\u4e49\u7f51\u7edc"},{"location":"Tools/Docker/docker%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#_2","text":"\u90e8\u7f72\u96c6\u7fa4\u65f6\uff0c\u5982mysql\u96c6\u7fa4\u4f7f\u7528\u540c\u4e00\u4e2a\u7f51\u6865\uff0c\u4f7f\u5176\u80fd\u591f\u76f8\u4e92\u8bbf\u95ee\uff1b \u4e0d\u540c\u96c6\u7fa4\u3001\u5e94\u7528\u4f7f\u7528\u4e0d\u540c\u7684\u7f51\u6865\uff0c\u505a\u7f51\u7edc\u9694\u79bb\uff1b \u6709\u5229\u4e8e\u96c6\u7fa4\u7684\u5065\u5eb7\u5b89\u5168\uff0c\u65b9\u4fbf\u7f51\u7edc\u7ba1\u7406\u3002","title":"\u81ea\u5b9a\u4e49\u7f51\u7edc\u7684\u4f18\u70b9"},{"location":"Tools/Git/Commit/","text":"\u8ffd\u52a0\u5230\u4e0a\u4e00\u6b21\u63d0\u4ea4 \u00b6 1. git commit -amend \u8ffd\u52a0\u63d0\u4ea4 \u00b6 2. git rebase \u5408\u5e76\u591a\u6b21\u63d0\u4ea4 \u00b6 Bash 1 2 3 4 5 git rebase -i [ startpoint ] [ endpoint ] -i:--interactive git rebase -i [ one commit uuid ] : \u6307\u5b9a\u4e00\u4e2a\u5de6\u95ed\u53f3\u5f00\u533a\u95f4 We rebase the commit before \"add '2D TestTexture' \" It looks like this: Bash 1 2 3 4 5 6 7 - p:pick\uff1a\u4fdd\u7559\u8be5commit - r:reword\uff1a\u4fdd\u7559\u8be5commit\uff0c\u4f46\u6211\u9700\u8981\u4fee\u6539\u8be5commit\u7684\u6ce8\u91ca - e:edit\uff1a\u4fdd\u7559\u8be5commit, \u4f46\u6211\u8981\u505c\u4e0b\u6765\u4fee\u6539\u8be5\u63d0\u4ea4 ( \u4e0d\u4ec5\u4ec5\u4fee\u6539\u6ce8\u91ca ) - s:squash\uff1a\u5c06\u8be5commit\u548c\u524d\u4e00\u4e2acommit\u5408\u5e76 - f:fixup\uff1a\u5c06\u8be5commit\u548c\u524d\u4e00\u4e2acommit\u5408\u5e76\uff0c\u4f46\u6211\u4e0d\u8981\u4fdd\u7559\u8be5\u63d0\u4ea4\u7684\u6ce8\u91ca\u4fe1\u606f - x:exec\uff1a\u6267\u884cshell\u547d\u4ee4 - d:drop\uff1a\u6211\u8981\u4e22\u5f03\u8be5commit So we change pick of attach to s or squash , then :wq type git rebase --continue [x] It merge as one single commit","title":"Commit"},{"location":"Tools/Git/Commit/#_1","text":"","title":"\u8ffd\u52a0\u5230\u4e0a\u4e00\u6b21\u63d0\u4ea4"},{"location":"Tools/Git/Commit/#1-git-commit-amend","text":"","title":"1. git commit -amend \u8ffd\u52a0\u63d0\u4ea4"},{"location":"Tools/Git/Commit/#2-git-rebase","text":"Bash 1 2 3 4 5 git rebase -i [ startpoint ] [ endpoint ] -i:--interactive git rebase -i [ one commit uuid ] : \u6307\u5b9a\u4e00\u4e2a\u5de6\u95ed\u53f3\u5f00\u533a\u95f4 We rebase the commit before \"add '2D TestTexture' \" It looks like this: Bash 1 2 3 4 5 6 7 - p:pick\uff1a\u4fdd\u7559\u8be5commit - r:reword\uff1a\u4fdd\u7559\u8be5commit\uff0c\u4f46\u6211\u9700\u8981\u4fee\u6539\u8be5commit\u7684\u6ce8\u91ca - e:edit\uff1a\u4fdd\u7559\u8be5commit, \u4f46\u6211\u8981\u505c\u4e0b\u6765\u4fee\u6539\u8be5\u63d0\u4ea4 ( \u4e0d\u4ec5\u4ec5\u4fee\u6539\u6ce8\u91ca ) - s:squash\uff1a\u5c06\u8be5commit\u548c\u524d\u4e00\u4e2acommit\u5408\u5e76 - f:fixup\uff1a\u5c06\u8be5commit\u548c\u524d\u4e00\u4e2acommit\u5408\u5e76\uff0c\u4f46\u6211\u4e0d\u8981\u4fdd\u7559\u8be5\u63d0\u4ea4\u7684\u6ce8\u91ca\u4fe1\u606f - x:exec\uff1a\u6267\u884cshell\u547d\u4ee4 - d:drop\uff1a\u6211\u8981\u4e22\u5f03\u8be5commit So we change pick of attach to s or squash , then :wq type git rebase --continue [x] It merge as one single commit","title":"2. git rebase \u5408\u5e76\u591a\u6b21\u63d0\u4ea4"},{"location":"Tools/Git/Submodule/","text":"init submodule Bash 1 2 3 4 5 6 1 . after clone git submodule init git submodule update 2 . while cloning git clone ** --recursive \u6dfb\u52a0\u5b50\u6a21\u5757 Bash 1 git submodule add [ url ] [ path ]","title":"Submodule"},{"location":"Tools/Git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/","text":"Branch Command \u00b6 Bash 1 2 3 4 5 6 7 8 9 10 11 git branch git branch -f #\u67e5\u770b\u8fdc\u7a0b\u5206\u652f git branch [ name ] #\u521b\u5efa\u4e00\u4e2a\u5206\u652f\u4f46\u4e0d\u4f1a\u7acb\u5373\u5207\u6362 git checkout [ name ] git checkout -b [ name ] #\u521b\u5efa\u5e76\u7acb\u5373\u5207\u6362\u5230\u65b0\u5206\u652f git checkout -m:--merge # \u614e\u7528\uff01\u5c06\u5f53\u524d\u5206\u652f\u7684\u6539\u52a8\u79fb\u52a8\u5230\u65b0\u5206\u652f git branch -d [ name ] #\u5220\u9664\u5408\u5e76\u4e86\u7684\u5206\u652f\uff0c\u5bf9\u4e8e\u672a\u5408\u5e76\u7684\u5206\u652f\u9700\u8981 `-D` \u6765\u5220\u9664 git merge [ name ] # \u5c06 name \u5206\u652f \u4e0e\u5f53\u524d\u5206\u652f\u5408\u5e76 \u8fdc\u7a0b\u5206\u652f\u64cd\u4f5c \u00b6 Bash 1 2 git push origin [ name ] #\u521b\u5efa\u4e00\u4e2a\u8fdc\u7a0b\u5206\u652f git push origin : { heads | name } # \u5220\u9664\u8fdc\u7a0b\u5206\u652f \u5982\u679c : \u5de6\u8fb9\u4e3a\u7a7a\uff0c\u5c06\u5220\u9664 : \u53f3\u8fb9\u7684\u8fdc\u7a0b\u5206\u652f \u63d0\u4ea4\u672c\u5730\u7684 sub \u5206\u652f Bash 1 git push origin sub:sub \u63d0\u4ea4sub\u5220\u9664master\u5206\u652f Bash 1 git push origin sub:master \u5220\u9664sub\u5206\u652f(\" : \"\u5de6\u8fb9\u4e3a\u7a7a) Bash 1 git push origin :sub","title":"\u5206\u652f\u64cd\u4f5c"},{"location":"Tools/Git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/#branch-command","text":"Bash 1 2 3 4 5 6 7 8 9 10 11 git branch git branch -f #\u67e5\u770b\u8fdc\u7a0b\u5206\u652f git branch [ name ] #\u521b\u5efa\u4e00\u4e2a\u5206\u652f\u4f46\u4e0d\u4f1a\u7acb\u5373\u5207\u6362 git checkout [ name ] git checkout -b [ name ] #\u521b\u5efa\u5e76\u7acb\u5373\u5207\u6362\u5230\u65b0\u5206\u652f git checkout -m:--merge # \u614e\u7528\uff01\u5c06\u5f53\u524d\u5206\u652f\u7684\u6539\u52a8\u79fb\u52a8\u5230\u65b0\u5206\u652f git branch -d [ name ] #\u5220\u9664\u5408\u5e76\u4e86\u7684\u5206\u652f\uff0c\u5bf9\u4e8e\u672a\u5408\u5e76\u7684\u5206\u652f\u9700\u8981 `-D` \u6765\u5220\u9664 git merge [ name ] # \u5c06 name \u5206\u652f \u4e0e\u5f53\u524d\u5206\u652f\u5408\u5e76","title":"Branch Command"},{"location":"Tools/Git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/#_1","text":"Bash 1 2 git push origin [ name ] #\u521b\u5efa\u4e00\u4e2a\u8fdc\u7a0b\u5206\u652f git push origin : { heads | name } # \u5220\u9664\u8fdc\u7a0b\u5206\u652f \u5982\u679c : \u5de6\u8fb9\u4e3a\u7a7a\uff0c\u5c06\u5220\u9664 : \u53f3\u8fb9\u7684\u8fdc\u7a0b\u5206\u652f \u63d0\u4ea4\u672c\u5730\u7684 sub \u5206\u652f Bash 1 git push origin sub:sub \u63d0\u4ea4sub\u5220\u9664master\u5206\u652f Bash 1 git push origin sub:master \u5220\u9664sub\u5206\u652f(\" : \"\u5de6\u8fb9\u4e3a\u7a7a) Bash 1 git push origin :sub","title":"\u8fdc\u7a0b\u5206\u652f\u64cd\u4f5c"},{"location":"Tools/Makefile/args/","text":"args \u00b6 -n \u53ea\u6253\u5370\u547d\u4ee4\u4f46\u4e0d\u6267\u884c -- trace \u8f93\u5165\u76ee\u6807\u88ab\u6784\u5efa\u7684\u539f\u56e0\u548c\u547d\u4ee4 -d \u67e5\u770b\u8c03\u8bd5\u65e5\u5fd7\uff0cmake \u5982\u4f55\u6289\u62e9 -nB \u5f3a\u5236\u6784\u5efa\u6240\u6709\u76ee\u6807 Bash 1 2 3 4 5 6 7 8 9 10 11 12 make -nB | vim - \u53ea\u4fdd\u7559 gcc \u6216 g++ \u5f00\u5934\u7684\u884c :%!grep \"^\\(gcc\\|g++\\)\" \u5c06\u73af\u5883b\u53d8\u91cf\u8fdb\u884c\u66ff\u6362 :%!sed -e \"s+NEMU_HOME+\\$NEMU_HOME+g\" \u5c06 -c \u4e4b\u95f4\u7684\u5185\u5bb9 \u66ff\u6362\u4e3a $CFLAGS :%s/-O2.* = riscv64/ $CFLAGS /g \u5c06\u6700\u540e\u4e00\u884c\u7684\u7a7a\u683c\u66ff\u6362\u6210\u6362\u884c\u5e76\u7f29\u8fdb\u4e24\u683c : $s / */ \\r /g","title":"args"},{"location":"Tools/Makefile/args/#args","text":"-n \u53ea\u6253\u5370\u547d\u4ee4\u4f46\u4e0d\u6267\u884c -- trace \u8f93\u5165\u76ee\u6807\u88ab\u6784\u5efa\u7684\u539f\u56e0\u548c\u547d\u4ee4 -d \u67e5\u770b\u8c03\u8bd5\u65e5\u5fd7\uff0cmake \u5982\u4f55\u6289\u62e9 -nB \u5f3a\u5236\u6784\u5efa\u6240\u6709\u76ee\u6807 Bash 1 2 3 4 5 6 7 8 9 10 11 12 make -nB | vim - \u53ea\u4fdd\u7559 gcc \u6216 g++ \u5f00\u5934\u7684\u884c :%!grep \"^\\(gcc\\|g++\\)\" \u5c06\u73af\u5883b\u53d8\u91cf\u8fdb\u884c\u66ff\u6362 :%!sed -e \"s+NEMU_HOME+\\$NEMU_HOME+g\" \u5c06 -c \u4e4b\u95f4\u7684\u5185\u5bb9 \u66ff\u6362\u4e3a $CFLAGS :%s/-O2.* = riscv64/ $CFLAGS /g \u5c06\u6700\u540e\u4e00\u884c\u7684\u7a7a\u683c\u66ff\u6362\u6210\u6362\u884c\u5e76\u7f29\u8fdb\u4e24\u683c : $s / */ \\r /g","title":"args"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/","text":"\u4e00\u4e9b\u8bf4\u660e \u00b6 1. \u53d8\u91cf = \u5b8f\u5b9a\u4e49 \u00b6 \u5f15\u7528\u53d8\u91cf = \u5b57\u7b26\u4e32\u66ff\u6362 \u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570 subst , shell ,etc. C 1 2 SRCS = $ ( shell ls * . c ) OBJS = $ ( SRCS : . c = . o ) 2. \u89c4\u5219\u4e2d\u4e5f\u53ef\u4ee5\u5f15\u7528\u53d8\u91cf \u00b6 \u81ea\u52a8\u53d8\u91cf\uff0c\u5177\u4f53\u4e0e\u89c4\u5219\u76f8\u5173 $@ - \u89c4\u5219\u7684\u76ee\u6807 $^ \u89c4\u5219\u7684\u4f9d\u8d56 C 1 2 $ ( BIN ) : $ ( SRC ) $ ( CC ) $ ( CPPFLAGS ) $ ( CFLAGS ) - o $ @ $ ^ 3. \u9690\u542b\u89c4\u5219 \u00b6 \u9047\u5230\u4e00\u4e2a .o \u6587\u4ef6\u6ca1\u6709\u7ed9\u51fa\u89c4\u5219\uff0c\u5c31\u770b\u662f\u5426\u6709\u76f8\u5e94\u7684.c\u6587\u4ef6\uff0c \u82e5\u6709\u5c31\u4f7f\u7528\u4ee5\u4e0b\u9690\u542b\u89c4\u5219 C 1 2 % . o : % . c $ ( CC ) $ ( CPPFLAGS ) $ ( CFLAGS ) - c - o $ @ $ ^ 4. \u4f2a\u76ee\u6807 \u00b6 \u76f8\u5e94\u7684\u89c4\u5219\u4e0d\u68c0\u67e5\u4f9d\u8d56\u5173\u7cfb\uff0c\u603b\u662f\u6267\u884c\u89c4\u5219","title":"\u4e00\u4e9b\u8bf4\u660e"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/#_1","text":"","title":"\u4e00\u4e9b\u8bf4\u660e"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/#1","text":"\u5f15\u7528\u53d8\u91cf = \u5b57\u7b26\u4e32\u66ff\u6362 \u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570 subst , shell ,etc. C 1 2 SRCS = $ ( shell ls * . c ) OBJS = $ ( SRCS : . c = . o )","title":"1. \u53d8\u91cf = \u5b8f\u5b9a\u4e49"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/#2","text":"\u81ea\u52a8\u53d8\u91cf\uff0c\u5177\u4f53\u4e0e\u89c4\u5219\u76f8\u5173 $@ - \u89c4\u5219\u7684\u76ee\u6807 $^ \u89c4\u5219\u7684\u4f9d\u8d56 C 1 2 $ ( BIN ) : $ ( SRC ) $ ( CC ) $ ( CPPFLAGS ) $ ( CFLAGS ) - o $ @ $ ^","title":"2. \u89c4\u5219\u4e2d\u4e5f\u53ef\u4ee5\u5f15\u7528\u53d8\u91cf"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/#3","text":"\u9047\u5230\u4e00\u4e2a .o \u6587\u4ef6\u6ca1\u6709\u7ed9\u51fa\u89c4\u5219\uff0c\u5c31\u770b\u662f\u5426\u6709\u76f8\u5e94\u7684.c\u6587\u4ef6\uff0c \u82e5\u6709\u5c31\u4f7f\u7528\u4ee5\u4e0b\u9690\u542b\u89c4\u5219 C 1 2 % . o : % . c $ ( CC ) $ ( CPPFLAGS ) $ ( CFLAGS ) - c - o $ @ $ ^","title":"3. \u9690\u542b\u89c4\u5219"},{"location":"Tools/Makefile/%E4%B8%80%E4%BA%9B%E8%AF%B4%E6%98%8E/#4","text":"\u76f8\u5e94\u7684\u89c4\u5219\u4e0d\u68c0\u67e5\u4f9d\u8d56\u5173\u7cfb\uff0c\u603b\u662f\u6267\u884c\u89c4\u5219","title":"4. \u4f2a\u76ee\u6807"},{"location":"Tools/Vim/Vim-Plug/","text":"https://github.com/junegunn/vim-plug Download plug.vim and put it in the \"autoload\" directory. Vim \u00b6 Unix \u00b6 Bash 1 2 curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim You can automate the process by putting the command in your Vim configuration file as suggested here . Windows (PowerShell) \u00b6 Bash 1 2 iwr -useb https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim | ` ni $HOME /vimfiles/autoload/plug.vim -Force Neovim \u00b6 Unix, Linux \u00b6 Bash 1 2 sh -c 'curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim' Linux (Flatpak) \u00b6 Bash 1 2 curl -fLo ~/.var/app/io.neovim.nvim/data/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim Windows (PowerShell) \u00b6 Bash 1 2 iwr -useb https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim | ` ni \" $( @ ( $env :XDG_DATA_HOME, $env :LOCALAPPDATA ) [ $null -eq $env :XDG_DATA_HOME])/nvim-data/site/autoload/plug.vim Coc language servers \u00b6 https://github.com/neoclide/coc.nvim/wiki/Language-servers#ccobjective-c","title":"Vim-Plug"},{"location":"Tools/Vim/Vim-Plug/#vim","text":"","title":"Vim"},{"location":"Tools/Vim/Vim-Plug/#unix","text":"Bash 1 2 curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim You can automate the process by putting the command in your Vim configuration file as suggested here .","title":"Unix"},{"location":"Tools/Vim/Vim-Plug/#windows-powershell","text":"Bash 1 2 iwr -useb https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim | ` ni $HOME /vimfiles/autoload/plug.vim -Force","title":"Windows (PowerShell)"},{"location":"Tools/Vim/Vim-Plug/#neovim","text":"","title":"Neovim"},{"location":"Tools/Vim/Vim-Plug/#unix-linux","text":"Bash 1 2 sh -c 'curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'","title":"Unix, Linux"},{"location":"Tools/Vim/Vim-Plug/#linux-flatpak","text":"Bash 1 2 curl -fLo ~/.var/app/io.neovim.nvim/data/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim","title":"Linux (Flatpak)"},{"location":"Tools/Vim/Vim-Plug/#windows-powershell_1","text":"Bash 1 2 iwr -useb https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim | ` ni \" $( @ ( $env :XDG_DATA_HOME, $env :LOCALAPPDATA ) [ $null -eq $env :XDG_DATA_HOME])/nvim-data/site/autoload/plug.vim","title":"Windows (PowerShell)"},{"location":"Tools/Vim/Vim-Plug/#coc-language-servers","text":"https://github.com/neoclide/coc.nvim/wiki/Language-servers#ccobjective-c","title":"Coc  language servers"},{"location":"Tools/Vim/%E5%85%89%E6%A0%87%E6%93%8D%E4%BD%9C/","text":"Cursor Operation \u00b6 \u7b26\u53f7 \u8df3\u8f6c\u5230 0 \u884c\u9996 ^ \u7b2c\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26 $ \u884c\u5c3e \u7b26\u53f7 \u8df3\u8f6c\u5230 % \u914d\u5bf9\u7684\u62ec\u53f7 { / } \u4e0a\u4e00\u6bb5/\u4e0b\u4e00\u6bb5\u7684\u5f00\u5934 ( / ) \u8fd9\u4e00\u53e5/\u4e0b\u4e00\u53e5\u5f00\u5934 [[ / ]] \u9876\u90e8/\u5e95\u90e8\uff08G/gg) [] / ][ \u4e0a\u4e00\u4e2a/\u4e0b\u4e00\u4e2a\u51fd\u6570 \uff08\u8981\u6c42 { \u4e3a\u5355\u72ec\u884c) C-] \u51fd\u6570\u6216\u53d8\u91cf\u5b9a\u4e49\u5904 C-t / C-0 \u8fd4\u56de\uff08\u51fd\u6570) \u8df3\u8f6c\u524d\u4f4d\u7f6e C-O / C-I \u8fd4\u56de\u5149\u6807\u4e0a\u4e00\u6b21/\u4e0b\u4e00\u6b21\u4f4d\u7f6e C-f/C-b \u5411\u4e0b/\u4e0a\u7ffb\u9875 C-y/C-e \u5411\u4e0a/\u4e0b\u6eda\u52a8","title":"\u5149\u6807\u64cd\u4f5c"},{"location":"Tools/Vim/%E5%85%89%E6%A0%87%E6%93%8D%E4%BD%9C/#cursor-operation","text":"\u7b26\u53f7 \u8df3\u8f6c\u5230 0 \u884c\u9996 ^ \u7b2c\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26 $ \u884c\u5c3e \u7b26\u53f7 \u8df3\u8f6c\u5230 % \u914d\u5bf9\u7684\u62ec\u53f7 { / } \u4e0a\u4e00\u6bb5/\u4e0b\u4e00\u6bb5\u7684\u5f00\u5934 ( / ) \u8fd9\u4e00\u53e5/\u4e0b\u4e00\u53e5\u5f00\u5934 [[ / ]] \u9876\u90e8/\u5e95\u90e8\uff08G/gg) [] / ][ \u4e0a\u4e00\u4e2a/\u4e0b\u4e00\u4e2a\u51fd\u6570 \uff08\u8981\u6c42 { \u4e3a\u5355\u72ec\u884c) C-] \u51fd\u6570\u6216\u53d8\u91cf\u5b9a\u4e49\u5904 C-t / C-0 \u8fd4\u56de\uff08\u51fd\u6570) \u8df3\u8f6c\u524d\u4f4d\u7f6e C-O / C-I \u8fd4\u56de\u5149\u6807\u4e0a\u4e00\u6b21/\u4e0b\u4e00\u6b21\u4f4d\u7f6e C-f/C-b \u5411\u4e0b/\u4e0a\u7ffb\u9875 C-y/C-e \u5411\u4e0a/\u4e0b\u6eda\u52a8","title":"Cursor Operation"},{"location":"Tools/Vim/%E5%A4%9A%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/","text":"1. \u6253\u5f00\u591a\u4e2a\u6587\u4ef6 \u00b6 :new /path/to/file \u5206\u5c4f\u6253\u5f00\u4e00\u4e2a\u65b0\u6587\u4ef6 :open file :e file :ls / :buffers / :files //\u67e5\u770b\u5f53\u524d\u6253\u5f00\u4e86\u7684buffer :b num // switch buffer :f name // rename current file 2. \u5206\u5c4f \u00b6 :split \u6c34\u5e73\u5206\u5c4f :vsplit \u5782\u76f4\u5206\u5c4f 3. \u5207\u6362 \u00b6 \u6587\u4ef6\u95f4\u5207\u6362 \u5bf9\u4e8e\u7528(v)split\u5728\u591a\u4e2a\u7a97\u683c\u4e2d\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u4f1a\u5728\u5f53\u524d\u7a97\u683c\u4e2d\u5207\u6362\u4e0d\u540c\u7684\u6587\u4ef6\u3002 - ctrI+6\u2014\u4e0b\u4e00\u4e2a\u6587\u4ef6 - :bn\u2014\u4e0b\u4e00\u4e2a\u6587\u4ef6 - :bp\u2014\u4e0a\u4e00\u4e2a\u6587\u4ef6 \u5728\u7a97\u683c\u95f4\u5207\u6362\u7684\u65b9\u6cd5 ctrl+w+\u65b9\u5411\u952e\u2014\u2014\u5207\u6362\u5230\u524d\uff0f\u4e0b\uff0f\u4e0a\uff0f\u540e\u4e00\u4e2a\u7a97\u683c ctrl+w+h/j/k/l \u2014\u2014\u540c\u4e0a ctrl+ww\u2014\u2014\u4f9d\u6b21\u5411\u540e\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u683c\u4e2d \u591a\u6587\u6863\u7f16\u8f91\u7684\u547d\u4ee4\u5982\u4e0b :n \u7f16\u8f91\u4e0b\u4e00\u4e2a\u6587\u6863\u3002 :2n \u7f16\u8f91\u4e0b\u4e24\u4e2a\u6587\u6863\u3002 :N \u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u6863\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u6587\u6863\u3002 :e# \u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u6863 :b N \u7f16\u8f91\u6307\u5b9a\u4ee3\u53f7\u6587\u4ef6 (:buffer number) :bd N \u5173\u95ed\u7f13\u51b2\u533a(:bdelete number) \u6253\u5f00\u4e0a\u6b21\u7f16\u8f91\u7684\u6587\u4ef6 \u6dfb\u52a0 \u4e0b\u9762\u547d\u4ee4\u5230 vimrc, \u6ce8\u610f\u542f\u52a8vim\u7684\u7528\u6237\u4e0evimrc\u7684\u6240\u6709\u8005 Bash 1 vim if has ( \"autocmd\" ) au BufReadPost * if line ( \"'\\\"\" ) > 1 && line ( \"'\\\"\" ) < = line ( \" $ \" ) | exe \"normal! g'\\\"\" | endif endif ``` `","title":"\u591a\u6587\u4ef6\u64cd\u4f5c"},{"location":"Tools/Vim/%E5%A4%9A%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#1","text":":new /path/to/file \u5206\u5c4f\u6253\u5f00\u4e00\u4e2a\u65b0\u6587\u4ef6 :open file :e file :ls / :buffers / :files //\u67e5\u770b\u5f53\u524d\u6253\u5f00\u4e86\u7684buffer :b num // switch buffer :f name // rename current file","title":"1. \u6253\u5f00\u591a\u4e2a\u6587\u4ef6"},{"location":"Tools/Vim/%E5%A4%9A%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#2","text":":split \u6c34\u5e73\u5206\u5c4f :vsplit \u5782\u76f4\u5206\u5c4f","title":"2. \u5206\u5c4f"},{"location":"Tools/Vim/%E5%A4%9A%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/#3","text":"\u6587\u4ef6\u95f4\u5207\u6362 \u5bf9\u4e8e\u7528(v)split\u5728\u591a\u4e2a\u7a97\u683c\u4e2d\u6253\u5f00\u7684\u6587\u4ef6\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ea\u4f1a\u5728\u5f53\u524d\u7a97\u683c\u4e2d\u5207\u6362\u4e0d\u540c\u7684\u6587\u4ef6\u3002 - ctrI+6\u2014\u4e0b\u4e00\u4e2a\u6587\u4ef6 - :bn\u2014\u4e0b\u4e00\u4e2a\u6587\u4ef6 - :bp\u2014\u4e0a\u4e00\u4e2a\u6587\u4ef6 \u5728\u7a97\u683c\u95f4\u5207\u6362\u7684\u65b9\u6cd5 ctrl+w+\u65b9\u5411\u952e\u2014\u2014\u5207\u6362\u5230\u524d\uff0f\u4e0b\uff0f\u4e0a\uff0f\u540e\u4e00\u4e2a\u7a97\u683c ctrl+w+h/j/k/l \u2014\u2014\u540c\u4e0a ctrl+ww\u2014\u2014\u4f9d\u6b21\u5411\u540e\u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u7a97\u683c\u4e2d \u591a\u6587\u6863\u7f16\u8f91\u7684\u547d\u4ee4\u5982\u4e0b :n \u7f16\u8f91\u4e0b\u4e00\u4e2a\u6587\u6863\u3002 :2n \u7f16\u8f91\u4e0b\u4e24\u4e2a\u6587\u6863\u3002 :N \u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u6863\u3002\u6ce8\u610f\uff0c\u8be5\u65b9\u6cd5\u53ea\u80fd\u7528\u4e8e\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u6587\u6863\u3002 :e# \u7f16\u8f91\u4e0a\u4e00\u4e2a\u6587\u6863 :b N \u7f16\u8f91\u6307\u5b9a\u4ee3\u53f7\u6587\u4ef6 (:buffer number) :bd N \u5173\u95ed\u7f13\u51b2\u533a(:bdelete number) \u6253\u5f00\u4e0a\u6b21\u7f16\u8f91\u7684\u6587\u4ef6 \u6dfb\u52a0 \u4e0b\u9762\u547d\u4ee4\u5230 vimrc, \u6ce8\u610f\u542f\u52a8vim\u7684\u7528\u6237\u4e0evimrc\u7684\u6240\u6709\u8005 Bash 1 vim if has ( \"autocmd\" ) au BufReadPost * if line ( \"'\\\"\" ) > 1 && line ( \"'\\\"\" ) < = line ( \" $ \" ) | exe \"normal! g'\\\"\" | endif endif ``` `","title":"3. \u5207\u6362"},{"location":"Tools/Vim/%E5%AD%97%E6%AE%B5%E6%93%8D%E4%BD%9C/","text":"\u5b57\u6bb5\u64cd\u4f5c \u00b6 1. \u53bb\u9664\u7a7a\u884c \u00b6 VimL 1 :< b , e > g /^$/ d","title":"\u5b57\u6bb5\u64cd\u4f5c"},{"location":"Tools/Vim/%E5%AD%97%E6%AE%B5%E6%93%8D%E4%BD%9C/#_1","text":"","title":"\u5b57\u6bb5\u64cd\u4f5c"},{"location":"Tools/Vim/%E5%AD%97%E6%AE%B5%E6%93%8D%E4%BD%9C/#1","text":"VimL 1 :< b , e > g /^$/ d","title":"1. \u53bb\u9664\u7a7a\u884c"},{"location":"Tools/Vim/%E5%AE%89%E8%A3%85YCM/","text":"\u5b89\u88c5YouCompleteMe \u00b6 https://github.com/ycm-core/YouCompleteMe/wiki/Full-Installation-Guide git clone url --depth 1 (\u6307\u5b9a\u6df1\u5ea6, \u907f\u514d\u514b\u9686\u5197\u4f59\u6570\u636e) git submodule update --recursive --init --depth 1 (\u540c\u4e0a) python3 init.py --all/{--go.. , --Java.. } --verbose \u76f4\u63a5\u4f7f\u7528 Vundle \u6dfb\u52a0\u4e00\u884cplugin","title":"\u5b89\u88c5YCM"},{"location":"Tools/Vim/%E5%AE%89%E8%A3%85YCM/#youcompleteme","text":"https://github.com/ycm-core/YouCompleteMe/wiki/Full-Installation-Guide git clone url --depth 1 (\u6307\u5b9a\u6df1\u5ea6, \u907f\u514d\u514b\u9686\u5197\u4f59\u6570\u636e) git submodule update --recursive --init --depth 1 (\u540c\u4e0a) python3 init.py --all/{--go.. , --Java.. } --verbose \u76f4\u63a5\u4f7f\u7528 Vundle \u6dfb\u52a0\u4e00\u884cplugin","title":"\u5b89\u88c5YouCompleteMe"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/","text":"Config \u00b6 \u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u641c\u7d22\u4e00\u6b21 set incsearch \u8bbe\u7f6e\u641c\u7d22\u9ad8\u4eae set hlsearch \u67e5\u627e \u00b6 * \u67e5\u627e\u5f53\u524d\u5b57\u7b26 \u8f93\u5165 /+target \u5411\u540e\u67e5\u627e \u8f93\u5165 ?+target \u5411\u524d\u67e5\u627e \u56de\u8f66\u540e: n \u4e0b\u4e00\u4e2a, N \u4e0a\u4e00\u4e2a More detail \u00b6 \u52a0\u5165 \\c \u8868\u793a\u5927\u5c0f\u5199\u654f\u611f\uff0c \\C \u8868\u793a\u5927\u5c0f\u5199\u654fo\u611f /foo\\c q/ \u67e5\u770b\u5411\u4e0b\u67e5\u627e\u5386\u53f2 q? \u67e5\u770b\u5411\u4e0a\u67e5\u627e\u5386\u53f2 \u5728 Normal \u6a21\u5f0f\u4e0b\u6309 * \u5373\u53ef\u67e5\u627e\u5f53\u524dword \u66ff\u6362 \u00b6 :[Limit Section]s/{source)/{target}/{flag} Limit Section \u00b6 Bash 1 2 3 4 5 6 7 - :s/foo/bar/g #\u5f53\u524d\u884c\u66ff\u6362 - :%s/foo/bar/g #\u5168\u6587\u66ff\u6362 - :<begin,end>s/foo/bar/g #\u9009\u533a\uff0cv\u9009\u533a\u540e\u8f93\u5165 : \u81ea\u52a8\u66ff\u6362\u4e3a\u533a\u95f4 - :.,+ns/foo/bar/g #\u5f53\u524d . \u884c\u4e0e\u63a5\u4e0b\u6765 n \u884c Flag \u00b6 g \u8868\u793a\u5168\u5c40\u66ff\u6362 \u4e3a\u7a7a\u8868\u793a\u53ea\u66ff\u6362\u4e00\u6b21 i/I \u5927\u5c0f\u5199\u654f\u611f/\u4e0d\u654f\u611f c \u8868\u793a\u6bcf\u6b21\u66ff\u6362\u9700\u8981\u786e\u8ba4, \u56de\u8f66\u540e: y/n \u662f/\u5426\u66ff\u6362\u5f53\u524d\u4f4d\u7f6e a \u8868\u793a\u66ff\u6362\u4e4b\u540e\u6240\u6709 q \u9000\u51fa l \u66ff\u6362\u5f53\u524dword\u540e\u9000\u51fa","title":"\u67e5\u627e\u4e0e\u66ff\u6362"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#config","text":"\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u641c\u7d22\u4e00\u6b21 set incsearch \u8bbe\u7f6e\u641c\u7d22\u9ad8\u4eae set hlsearch","title":"Config"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#_1","text":"* \u67e5\u627e\u5f53\u524d\u5b57\u7b26 \u8f93\u5165 /+target \u5411\u540e\u67e5\u627e \u8f93\u5165 ?+target \u5411\u524d\u67e5\u627e \u56de\u8f66\u540e: n \u4e0b\u4e00\u4e2a, N \u4e0a\u4e00\u4e2a","title":"\u67e5\u627e"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#more-detail","text":"\u52a0\u5165 \\c \u8868\u793a\u5927\u5c0f\u5199\u654f\u611f\uff0c \\C \u8868\u793a\u5927\u5c0f\u5199\u654fo\u611f /foo\\c q/ \u67e5\u770b\u5411\u4e0b\u67e5\u627e\u5386\u53f2 q? \u67e5\u770b\u5411\u4e0a\u67e5\u627e\u5386\u53f2 \u5728 Normal \u6a21\u5f0f\u4e0b\u6309 * \u5373\u53ef\u67e5\u627e\u5f53\u524dword","title":"More detail"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#_2","text":":[Limit Section]s/{source)/{target}/{flag}","title":"\u66ff\u6362"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#limit-section","text":"Bash 1 2 3 4 5 6 7 - :s/foo/bar/g #\u5f53\u524d\u884c\u66ff\u6362 - :%s/foo/bar/g #\u5168\u6587\u66ff\u6362 - :<begin,end>s/foo/bar/g #\u9009\u533a\uff0cv\u9009\u533a\u540e\u8f93\u5165 : \u81ea\u52a8\u66ff\u6362\u4e3a\u533a\u95f4 - :.,+ns/foo/bar/g #\u5f53\u524d . \u884c\u4e0e\u63a5\u4e0b\u6765 n \u884c","title":"Limit Section"},{"location":"Tools/Vim/%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2/#flag","text":"g \u8868\u793a\u5168\u5c40\u66ff\u6362 \u4e3a\u7a7a\u8868\u793a\u53ea\u66ff\u6362\u4e00\u6b21 i/I \u5927\u5c0f\u5199\u654f\u611f/\u4e0d\u654f\u611f c \u8868\u793a\u6bcf\u6b21\u66ff\u6362\u9700\u8981\u786e\u8ba4, \u56de\u8f66\u540e: y/n \u662f/\u5426\u66ff\u6362\u5f53\u524d\u4f4d\u7f6e a \u8868\u793a\u66ff\u6362\u4e4b\u540e\u6240\u6709 q \u9000\u51fa l \u66ff\u6362\u5f53\u524dword\u540e\u9000\u51fa","title":"Flag"},{"location":"Tools/Vim/%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C/","text":"Reload file (Flush buffer) Text Only 1 2 3 4 - :e - :e! #Abandoned current modification, force reload - :bufdo e #For all buffer - :bufdo e! Delete content before/after cursor Bash 1 2 3 4 5 dgg : before dG : after d0 : befroe to head of line d$ or D : after to end of line Folding","title":"\u8fdb\u9636\u64cd\u4f5c"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/","text":"\u5982\u4f55\u4f7f\u7528vim\u914d\u7f6e\u4e00\u4e2aC/C++\u5f00\u53d1\u73af\u5883 \u00b6 \u8865\u5168\u65b9\u6848\u9009\u62e9 \u00b6 clangd + coc.nvim \u4e3a\u4ec0\u4e48\u4f7f\u7528 coc \u800c\u4e0d\u662f ycm\uff1f youcompleteme \u53ef\u4ee5\u8bf4\u662f\u6700\u96be\u5b89\u88c5\u7684\u4e00\u6b3evim\u63d2\u4ef6\uff0c\u6bcf\u6b21\u5b89\u88c5\u7684\u4f53\u9a8c\u90fd\u53ef\u4ee5\u8bf4\u662f\u6298\u78e8\u3002\u5982\u679c\u7f51\u7edc\u6761\u4ef6\u4e0d\u597d\uff0c\u53ef\u80fd\u4e00\u5929\u4e0b\u6765\uff0c\u4ee3\u7801\u8fd8\u6ca1\u6709\u4ecegithub\u4e0a\u62c9\u53d6\u4e0b\u6765 ycm \u534a\u5f02\u6b65(\u53ef\u80fd)\u7684\u673a\u5236\u5728\u8fdb\u884c\u5927\u6587\u672c\u6587\u4ef6\u5206\u6790\u65f6\u53d8\u5f97\u5f88\u5361\u987f, \u4eb2\u8eab\u4f53\u9a8c ycm \u662f\u57fa\u4e8e python\uff0c \u53ef\u4ee5\u8bf4\u662f\u9501\u6b7b\u4e86\u5355\u7ebf\u7a0b, coc - type script \u914d\u7f6e \u00b6 1. \u5b89\u88c5 vim-plug \u00b6 https://github.com/junegunn/vim-plug 2. \u5b89\u88c5 coc.nvim \u00b6 https://github.com/neoclide/coc.nvim Require : nodejs>=14.14 vim >= 8.1.1719 clangd \u66f4\u65b0 node : https://blog.csdn.net/qq_22713201/article/details/122486841 3. \u5b89\u88c5coc\u63d2\u4ef6 \u00b6 clangd / coc-clangd coc-json 4. \u914d\u7f6e\u6587\u4ef6 \u00b6 CocConfig JSON 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 { \"languageserver\" : { \"clangd\" : { \"command\" : \"clangd\" , \"rootPatterns\" : [ \"compile_flags.txt\" , \"compile_commands.json\" ], \"filetypes\" : [ \"c\" , \"cc\" , \"cpp\" , \"c++\" , \"objc\" , \"objcpp\" ], \"args\" : [ // \"--completion-style=bundled\", // bundled \u8865\u5168\u6253\u5305\u4e3a\u4e00\u4e2a\u5efa\u8bae, \u76f8\u53cd\u4e3a detailed \"-j=4\" , \"--background-index\" , // \u540e\u53f0\u81ea\u52a8\u5206\u6790\u6587\u4ef6(compile_commands) \"--clang-tidy\" , // \"--pretty\", // \u7f8e\u5316\u8f93\u51fa\u7684json \"--cross-file-rename\" , // \u8de8\u6587\u4ef6\u91cd\u547d\u540d\u53d8\u91cf \"--function-arg-placeholders=false\" // \u542f\u7528\u8fd9\u9879\u65f6\uff0c\u8865\u5168\u51fd\u6570\u65f6\uff0c\u5c06\u4f1a\u7ed9\u53c2\u6570\u63d0\u4f9b\u5360\u4f4d\u7b26\uff0c\u952e\u5165\u540e\u6309 Tab \u53ef\u4ee5\u5207\u6362\u5230\u4e0b\u4e00\u5360\u4f4d\u7b26\uff0c\u4e43\u81f3\u51fd\u6570\u672bk ] }, \"golang\" : { \"command\" : \"gopls\" , \"rootPatterns\" : [ \"go.mod\" ], \"filetypes\" : [ \"go\" ] } } } vimrc Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 call plug#begin () \"Plug 'ycm-core/YouCompleteMe' Plug 'neoclide/coc.nvim', {'do': 'yarn install --frozen-lockfile'} Plug 'scrooloose/nerdtree' \" \u76ee\u5f55\u6811 Plug 'frazrepo/vim-rainbow' \"\u5f69\u8679\u62ec\u53f7 Plug 'tpope/vim-surround' Plug 'jiangmiao/auto-pairs' \" \u62ec\u53f7\u914d\u5bf9 Plug 'vim-scripts/a.vim' Plug 'octol/vim-cpp-enhanced-highlight' \" Theme Plug 'joshdick/onedark.vim' Plug 'rakr/vim-one' \" All of your Plugins must be added before the following line call plug#end () \" required \" Credit joshdick \"Use 24-bit (true-color) mode in Vim/Neovim when outside tmux. \" If you 're using tmux version 2.2 or later, you can remove the outermost $TMUX check and use tmux' s 24 -bit color support \"(see < http://sunaku.github.io/tmux-24bit-color.html#usage > for more information.) if (empty( $TMUX )) if (has(\" nvim \")) \" For Neovim 0 .1.3 and 0 .1.4 < https://github.com/neovim/neovim/pull/2198 > let $NVIM_TUI_ENABLE_TRUE_COLOR = 1 endif \"For Neovim > 0.1.5 and Vim > patch 7.4.1799 < https://github.com/vim/vim/commit/61be73bb0f965a895bfb064ea3e55476ac175162 > \" Based on Vim patch 7 .4.1770 ( ` guicolors ` option ) < https://github.com/vim/vim/commit/8a633e3427b47286869aa4b96f2bfc1fe65b25cd > \" < https://github.com/neovim/neovim/wiki/Following-HEAD#20160511 > if (has(\" termguicolors \")) set termguicolors endif endif \" Status Tab set laststatus = 2 set statusline = %1* \\% <%.50F \\ \"\u663e\u793a\u6587\u4ef6\u540d\u548c\u6587\u4ef6\u8def\u5f84 (%<\u5e94\u8be5\u53ef\u4ee5\u53bb\u6389) set statusline+=%=%2*\\%y%m%r%h%w\\ %* \" \u663e\u793a\u6587\u4ef6\u7c7b\u578b\u53ca\u6587\u4ef6\u72b6\u6001 set statusline += %3* \\% { & ff } \\[ % { & fenc }] \\ %* \"\u663e\u793a\u6587\u4ef6\u7f16\u7801\u7c7b\u578b set statusline+=%4*\\ row:%l/%L,col:%c\\ %* \" \u663e\u793a\u5149\u6807\u6240\u5728\u884c\u548c\u5217 set statusline += %5* \\% 3p%% \\% * \"\u663e\u793a\u5149\u6807\u524d\u6587\u672c\u6240\u5360\u603b\u6587\u672c\u7684\u6bd4\u4f8b let g:rainbow_active=1 set encoding=utf-8 \" Some servers have issues with backup files, see #649. set nobackup set nowritebackup syntax on syntax enable set shiftwidth = 4 set tabstop = 4 set cindent set number set foldmethod = syntax set autoindent set showcmd set mouse = a set hlsearch set incsearch set path^ = /usr/include set list set listchars = tab:\u2192 \\ ,eol:\u2193 filetype indent on \" Command Line View set wildmode=list:full \" set wildmenu set background = dark \" for the dark version \" set background = light \" for the light version colorscheme onedark \" Make <TAB> to accept selected completion item or notify coc.nvim to format \" <C-g>u breaks current undo, please make your own choice. inoremap <silent><expr> <TAB> coc#pum#visible() ? coc#pum#confirm():\" \\< TAB> \" \" Use ` [ g ` and ` ] g ` to navigate diagnostics \" Use `:CocDiagnostics` to get all diagnostics of current buffer in location list. nmap <silent> [g <Plug>(coc-diagnostic-prev) nmap <silent> ]g <Plug>(coc-diagnostic-next) \" GoTo code navigation. nmap <silent> gd <Plug> ( coc-definition ) nmap <silent> gy <Plug> ( coc-type-definition ) nmap <silent> gi <Plug> ( coc-implementation ) nmap <silent> gr <Plug> ( coc-references ) nmap <leader> rn <Plug> ( coc-rename ) \" hover show detail or 'K' nnoremap <silent> K :call ShowDocumentation()<CR> function! ShowDocumentation() if CocAction('hasProvider', 'hover') call CocActionAsync('doHover') else call feedkeys('K', 'in') endif endfunction \" Neartree map <F3> :NERDTreeMirror<CR> map <F3> :NERDTreeToggle<CR> noremap <C-d> :call SavedAndOpenTerm () <CR> noremap <C-s> :call SaveAndFormat () <CR> noremap <C-h> <Plug> ( coc-fix-current ) def SavedAndOpenTerm () :w :bo term enddef function SaveAndFormat () call CocAction ( 'format' ) :w endfunction \" Highlight the symbol and its references when holding the cursor. \" autocmd CursorHold * silent call CocActionAsync ( 'highlight' ) \" Mappings for CoCList \" Show all diagnostics. nnoremap <silent><nowait> <space>a :<C-u>CocList diagnostics<cr> \" Manage extensions. nnoremap <silent><nowait> <space>e :<C-u>CocList extensions<cr> \" Show commands. nnoremap <silent><nowait> <space>c :<C-u>CocList commands<cr> \" Find symbol of current document. nnoremap <silent><nowait> <space>o :<C-u>CocList outline<cr> \" Search workspace symbols. nnoremap <silent><nowait> <space>s :<C-u>CocList -I symbols<cr> \" Do default action for next item. nnoremap <silent><nowait> <space>j :<C-u>CocNext<CR> \" Do default action for previous item. nnoremap <silent><nowait> <space>k :<C-u>CocPrev<CR> \" Resume latest coc list. nnoremap <silent><nowait> <space>p :<C-u>CocListResume<CR> \" Status Line Color hi User1 cterm = none ctermfg = 27 ctermbg = 0 hi User2 cterm = none ctermfg = 208 ctermbg = 0 hi User3 cterm = none ctermfg = 169 ctermbg = 0 hi User4 cterm = none ctermfg = 100 ctermbg = 0 hi User5 cterm = none ctermfg = green ctermbg = 0 if has ( \"autocmd\" ) au BufReadPost * if line ( \"'\\\"\" ) > 1 && line ( \"'\\\"\" ) < = line ( \" $ \" ) | exe \"normal! g'\\\"\" | endif endif \" cpp highlight let g:cpp_class_scope_highlight=1 let g:cpp_variable_highlight=1 let g:cpp_class_decl_highlight=1 let g:cpp_posix_standard = 1 let g:cpp_experimental_simple_template_highlight = 1 let g:cpp_concepts_highlight = 1 bashrc Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # If not running interactively, don't do anything [[ $- ! = *i* ]] && return alias ls = 'ls --color=auto' # ls background color eval \" $( dircolors -p | \\ sed 's/ 4[0-9];/ 01;/; s/;4[0-9];/;01;/g; s/;4[0-9] /;01 /' | \\ dircolors /dev/stdin ) \" PROMPT_COMMAND = build_prompt build_prompt () { EXIT = $? # save exit code of last command red = '\\[\\e[0;31m\\]' # colors green = '\\[\\e[0;32m\\]' cyan = '\\[\\e[1;36m\\]' diy = '\\[\\e[0;25m\\]' PS1 = '${debian_chroot:+($debian_chroot)}' # begin prompt if [ $EXIT ! = 0 ] ; then # add arrow color dependent on exit code PS1 += \" $red \" else PS1 += \" $green \" fi #PS1+=\"\u2192$reset $cyan\\W$reset \\\\$ \" # construct rest of prompt PS1 += \"\u2192 $reset $cyan \\W $reset $diy $ \" # construct rest of prompt } alias gr = \"go run\" alias py = \"python\"","title":"\u914d\u7f6e\u4e00\u4e2aC_Cpp\u5f00\u53d1\u73af\u5883"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#vimcc","text":"","title":"\u5982\u4f55\u4f7f\u7528vim\u914d\u7f6e\u4e00\u4e2aC/C++\u5f00\u53d1\u73af\u5883"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#_1","text":"clangd + coc.nvim \u4e3a\u4ec0\u4e48\u4f7f\u7528 coc \u800c\u4e0d\u662f ycm\uff1f youcompleteme \u53ef\u4ee5\u8bf4\u662f\u6700\u96be\u5b89\u88c5\u7684\u4e00\u6b3evim\u63d2\u4ef6\uff0c\u6bcf\u6b21\u5b89\u88c5\u7684\u4f53\u9a8c\u90fd\u53ef\u4ee5\u8bf4\u662f\u6298\u78e8\u3002\u5982\u679c\u7f51\u7edc\u6761\u4ef6\u4e0d\u597d\uff0c\u53ef\u80fd\u4e00\u5929\u4e0b\u6765\uff0c\u4ee3\u7801\u8fd8\u6ca1\u6709\u4ecegithub\u4e0a\u62c9\u53d6\u4e0b\u6765 ycm \u534a\u5f02\u6b65(\u53ef\u80fd)\u7684\u673a\u5236\u5728\u8fdb\u884c\u5927\u6587\u672c\u6587\u4ef6\u5206\u6790\u65f6\u53d8\u5f97\u5f88\u5361\u987f, \u4eb2\u8eab\u4f53\u9a8c ycm \u662f\u57fa\u4e8e python\uff0c \u53ef\u4ee5\u8bf4\u662f\u9501\u6b7b\u4e86\u5355\u7ebf\u7a0b, coc - type script","title":"\u8865\u5168\u65b9\u6848\u9009\u62e9"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#_2","text":"","title":"\u914d\u7f6e"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#1-vim-plug","text":"https://github.com/junegunn/vim-plug","title":"1. \u5b89\u88c5 vim-plug"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#2-cocnvim","text":"https://github.com/neoclide/coc.nvim Require : nodejs>=14.14 vim >= 8.1.1719 clangd \u66f4\u65b0 node : https://blog.csdn.net/qq_22713201/article/details/122486841","title":"2. \u5b89\u88c5 coc.nvim"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#3-coc","text":"clangd / coc-clangd coc-json","title":"3. \u5b89\u88c5coc\u63d2\u4ef6"},{"location":"Tools/Vim/%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAC_Cpp%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/#4","text":"CocConfig JSON 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 { \"languageserver\" : { \"clangd\" : { \"command\" : \"clangd\" , \"rootPatterns\" : [ \"compile_flags.txt\" , \"compile_commands.json\" ], \"filetypes\" : [ \"c\" , \"cc\" , \"cpp\" , \"c++\" , \"objc\" , \"objcpp\" ], \"args\" : [ // \"--completion-style=bundled\", // bundled \u8865\u5168\u6253\u5305\u4e3a\u4e00\u4e2a\u5efa\u8bae, \u76f8\u53cd\u4e3a detailed \"-j=4\" , \"--background-index\" , // \u540e\u53f0\u81ea\u52a8\u5206\u6790\u6587\u4ef6(compile_commands) \"--clang-tidy\" , // \"--pretty\", // \u7f8e\u5316\u8f93\u51fa\u7684json \"--cross-file-rename\" , // \u8de8\u6587\u4ef6\u91cd\u547d\u540d\u53d8\u91cf \"--function-arg-placeholders=false\" // \u542f\u7528\u8fd9\u9879\u65f6\uff0c\u8865\u5168\u51fd\u6570\u65f6\uff0c\u5c06\u4f1a\u7ed9\u53c2\u6570\u63d0\u4f9b\u5360\u4f4d\u7b26\uff0c\u952e\u5165\u540e\u6309 Tab \u53ef\u4ee5\u5207\u6362\u5230\u4e0b\u4e00\u5360\u4f4d\u7b26\uff0c\u4e43\u81f3\u51fd\u6570\u672bk ] }, \"golang\" : { \"command\" : \"gopls\" , \"rootPatterns\" : [ \"go.mod\" ], \"filetypes\" : [ \"go\" ] } } } vimrc Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 call plug#begin () \"Plug 'ycm-core/YouCompleteMe' Plug 'neoclide/coc.nvim', {'do': 'yarn install --frozen-lockfile'} Plug 'scrooloose/nerdtree' \" \u76ee\u5f55\u6811 Plug 'frazrepo/vim-rainbow' \"\u5f69\u8679\u62ec\u53f7 Plug 'tpope/vim-surround' Plug 'jiangmiao/auto-pairs' \" \u62ec\u53f7\u914d\u5bf9 Plug 'vim-scripts/a.vim' Plug 'octol/vim-cpp-enhanced-highlight' \" Theme Plug 'joshdick/onedark.vim' Plug 'rakr/vim-one' \" All of your Plugins must be added before the following line call plug#end () \" required \" Credit joshdick \"Use 24-bit (true-color) mode in Vim/Neovim when outside tmux. \" If you 're using tmux version 2.2 or later, you can remove the outermost $TMUX check and use tmux' s 24 -bit color support \"(see < http://sunaku.github.io/tmux-24bit-color.html#usage > for more information.) if (empty( $TMUX )) if (has(\" nvim \")) \" For Neovim 0 .1.3 and 0 .1.4 < https://github.com/neovim/neovim/pull/2198 > let $NVIM_TUI_ENABLE_TRUE_COLOR = 1 endif \"For Neovim > 0.1.5 and Vim > patch 7.4.1799 < https://github.com/vim/vim/commit/61be73bb0f965a895bfb064ea3e55476ac175162 > \" Based on Vim patch 7 .4.1770 ( ` guicolors ` option ) < https://github.com/vim/vim/commit/8a633e3427b47286869aa4b96f2bfc1fe65b25cd > \" < https://github.com/neovim/neovim/wiki/Following-HEAD#20160511 > if (has(\" termguicolors \")) set termguicolors endif endif \" Status Tab set laststatus = 2 set statusline = %1* \\% <%.50F \\ \"\u663e\u793a\u6587\u4ef6\u540d\u548c\u6587\u4ef6\u8def\u5f84 (%<\u5e94\u8be5\u53ef\u4ee5\u53bb\u6389) set statusline+=%=%2*\\%y%m%r%h%w\\ %* \" \u663e\u793a\u6587\u4ef6\u7c7b\u578b\u53ca\u6587\u4ef6\u72b6\u6001 set statusline += %3* \\% { & ff } \\[ % { & fenc }] \\ %* \"\u663e\u793a\u6587\u4ef6\u7f16\u7801\u7c7b\u578b set statusline+=%4*\\ row:%l/%L,col:%c\\ %* \" \u663e\u793a\u5149\u6807\u6240\u5728\u884c\u548c\u5217 set statusline += %5* \\% 3p%% \\% * \"\u663e\u793a\u5149\u6807\u524d\u6587\u672c\u6240\u5360\u603b\u6587\u672c\u7684\u6bd4\u4f8b let g:rainbow_active=1 set encoding=utf-8 \" Some servers have issues with backup files, see #649. set nobackup set nowritebackup syntax on syntax enable set shiftwidth = 4 set tabstop = 4 set cindent set number set foldmethod = syntax set autoindent set showcmd set mouse = a set hlsearch set incsearch set path^ = /usr/include set list set listchars = tab:\u2192 \\ ,eol:\u2193 filetype indent on \" Command Line View set wildmode=list:full \" set wildmenu set background = dark \" for the dark version \" set background = light \" for the light version colorscheme onedark \" Make <TAB> to accept selected completion item or notify coc.nvim to format \" <C-g>u breaks current undo, please make your own choice. inoremap <silent><expr> <TAB> coc#pum#visible() ? coc#pum#confirm():\" \\< TAB> \" \" Use ` [ g ` and ` ] g ` to navigate diagnostics \" Use `:CocDiagnostics` to get all diagnostics of current buffer in location list. nmap <silent> [g <Plug>(coc-diagnostic-prev) nmap <silent> ]g <Plug>(coc-diagnostic-next) \" GoTo code navigation. nmap <silent> gd <Plug> ( coc-definition ) nmap <silent> gy <Plug> ( coc-type-definition ) nmap <silent> gi <Plug> ( coc-implementation ) nmap <silent> gr <Plug> ( coc-references ) nmap <leader> rn <Plug> ( coc-rename ) \" hover show detail or 'K' nnoremap <silent> K :call ShowDocumentation()<CR> function! ShowDocumentation() if CocAction('hasProvider', 'hover') call CocActionAsync('doHover') else call feedkeys('K', 'in') endif endfunction \" Neartree map <F3> :NERDTreeMirror<CR> map <F3> :NERDTreeToggle<CR> noremap <C-d> :call SavedAndOpenTerm () <CR> noremap <C-s> :call SaveAndFormat () <CR> noremap <C-h> <Plug> ( coc-fix-current ) def SavedAndOpenTerm () :w :bo term enddef function SaveAndFormat () call CocAction ( 'format' ) :w endfunction \" Highlight the symbol and its references when holding the cursor. \" autocmd CursorHold * silent call CocActionAsync ( 'highlight' ) \" Mappings for CoCList \" Show all diagnostics. nnoremap <silent><nowait> <space>a :<C-u>CocList diagnostics<cr> \" Manage extensions. nnoremap <silent><nowait> <space>e :<C-u>CocList extensions<cr> \" Show commands. nnoremap <silent><nowait> <space>c :<C-u>CocList commands<cr> \" Find symbol of current document. nnoremap <silent><nowait> <space>o :<C-u>CocList outline<cr> \" Search workspace symbols. nnoremap <silent><nowait> <space>s :<C-u>CocList -I symbols<cr> \" Do default action for next item. nnoremap <silent><nowait> <space>j :<C-u>CocNext<CR> \" Do default action for previous item. nnoremap <silent><nowait> <space>k :<C-u>CocPrev<CR> \" Resume latest coc list. nnoremap <silent><nowait> <space>p :<C-u>CocListResume<CR> \" Status Line Color hi User1 cterm = none ctermfg = 27 ctermbg = 0 hi User2 cterm = none ctermfg = 208 ctermbg = 0 hi User3 cterm = none ctermfg = 169 ctermbg = 0 hi User4 cterm = none ctermfg = 100 ctermbg = 0 hi User5 cterm = none ctermfg = green ctermbg = 0 if has ( \"autocmd\" ) au BufReadPost * if line ( \"'\\\"\" ) > 1 && line ( \"'\\\"\" ) < = line ( \" $ \" ) | exe \"normal! g'\\\"\" | endif endif \" cpp highlight let g:cpp_class_scope_highlight=1 let g:cpp_variable_highlight=1 let g:cpp_class_decl_highlight=1 let g:cpp_posix_standard = 1 let g:cpp_experimental_simple_template_highlight = 1 let g:cpp_concepts_highlight = 1 bashrc Bash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 # If not running interactively, don't do anything [[ $- ! = *i* ]] && return alias ls = 'ls --color=auto' # ls background color eval \" $( dircolors -p | \\ sed 's/ 4[0-9];/ 01;/; s/;4[0-9];/;01;/g; s/;4[0-9] /;01 /' | \\ dircolors /dev/stdin ) \" PROMPT_COMMAND = build_prompt build_prompt () { EXIT = $? # save exit code of last command red = '\\[\\e[0;31m\\]' # colors green = '\\[\\e[0;32m\\]' cyan = '\\[\\e[1;36m\\]' diy = '\\[\\e[0;25m\\]' PS1 = '${debian_chroot:+($debian_chroot)}' # begin prompt if [ $EXIT ! = 0 ] ; then # add arrow color dependent on exit code PS1 += \" $red \" else PS1 += \" $green \" fi #PS1+=\"\u2192$reset $cyan\\W$reset \\\\$ \" # construct rest of prompt PS1 += \"\u2192 $reset $cyan \\W $reset $diy $ \" # construct rest of prompt } alias gr = \"go run\" alias py = \"python\"","title":"4. \u914d\u7f6e\u6587\u4ef6"},{"location":"Tools/emu/Freestanding/","text":"Freestanding \u00b6 \u7a0b\u5e8f\u4e00\u822c\u7f16\u8bd1\u4e3a\u57fa\u4e8e\u5bbf\u4e3b\u73af\u5883\u7684elf\uff0c\u518d\u8c03\u7528\u5982linux\u7684\u7cfb\u7edf\u8c03\u7528\u5b8c\u6210\u7684 freestanding \u4e0d\u4f9d\u9760\u4e8e\u5bbf\u4e3b\u73af\u5883 qemu \u00b6 0x10000000 \u662f quemu-system-riscv virt\u673a\u5668\u6a21\u578b\u7684\u4e32\u53e3\u5730\u5740 C 1 2 3 4 5 6 7 8 #include <stdint.h> void _start () { volatile uint8_t * p = ( uint8_t * )( uintptr_t ) 0x10000000 ; * p = 'A' ; while ( 1 ) ; } Bash 1 2 3 riscv64-linux-gnu-gcc -ffreestanding -nostdlib -Wl, -Ttext = 0x80000000 -O2 a.c qemu-system-riscv64 -nographic -M virt -bios none -kernel a.out \u5982\u4f55\u7ed3\u675f\u8fd0\u884c\uff1f \u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\u65e0\u6cd5 C-c C-d \u518dvirt \u6a21\u578b\u4e2d\uff0c \u5728\u4e00\u4e2a\u5947\u7279\u7684\u5730\u5740\u5199\u5165\u4e00\u4e2a\u5b89\u597d\u5373\u53ef C 1 2 3 volatitle uint32 * exit = ( uint32_t * )( uintptr_t ) 0x100000 ; * exit = 0x5555 ; // magic number _start (); //\u9012\u5f52\u8c03\u7528","title":"Freestanding"},{"location":"Tools/emu/Freestanding/#freestanding","text":"\u7a0b\u5e8f\u4e00\u822c\u7f16\u8bd1\u4e3a\u57fa\u4e8e\u5bbf\u4e3b\u73af\u5883\u7684elf\uff0c\u518d\u8c03\u7528\u5982linux\u7684\u7cfb\u7edf\u8c03\u7528\u5b8c\u6210\u7684 freestanding \u4e0d\u4f9d\u9760\u4e8e\u5bbf\u4e3b\u73af\u5883","title":"Freestanding"},{"location":"Tools/emu/Freestanding/#qemu","text":"0x10000000 \u662f quemu-system-riscv virt\u673a\u5668\u6a21\u578b\u7684\u4e32\u53e3\u5730\u5740 C 1 2 3 4 5 6 7 8 #include <stdint.h> void _start () { volatile uint8_t * p = ( uint8_t * )( uintptr_t ) 0x10000000 ; * p = 'A' ; while ( 1 ) ; } Bash 1 2 3 riscv64-linux-gnu-gcc -ffreestanding -nostdlib -Wl, -Ttext = 0x80000000 -O2 a.c qemu-system-riscv64 -nographic -M virt -bios none -kernel a.out \u5982\u4f55\u7ed3\u675f\u8fd0\u884c\uff1f \u6ca1\u6709\u64cd\u4f5c\u7cfb\u7edf\u65e0\u6cd5 C-c C-d \u518dvirt \u6a21\u578b\u4e2d\uff0c \u5728\u4e00\u4e2a\u5947\u7279\u7684\u5730\u5740\u5199\u5165\u4e00\u4e2a\u5b89\u597d\u5373\u53ef C 1 2 3 volatitle uint32 * exit = ( uint32_t * )( uintptr_t ) 0x100000 ; * exit = 0x5555 ; // magic number _start (); //\u9012\u5f52\u8c03\u7528","title":"qemu"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/1.%20%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/","text":"1. \u5efa\u8bbe\u6cd5\u89c4 \u00b6 \u5efa\u8bbe\u6cd5\u89c4\u8c03\u6574\u5bf9\u8c61\uff1a 1. \u884c\u653f\u5173\u7cfb 2. \u7ecf\u6d4e\u534f\u4f5c\u5173\u7cfb 3. \u6c11\u4e8b\u5173\u7cfb \u503a\u5238\u5236\u5ea6 \u00b6 \u6839\u636e\u4ea7\u751f\u7684\u7f18\u7531: \u5408\u540c\u4e4b\u503a \u4fb5\u6743\u4e4b\u503a \u65e0\u7ba1\u7406\u4e4b\u503a \u4e0d\u5f53\u5f97\u5229\u4e4b\u503a \u5efa\u8bbe\u9886\u57df\u5e38\u89c1\u503a\u5238\u503a\u52a1\uff1a \u65bd\u5de5\u5408\u540c\u503a \u4e70\u5356\u5408\u540c\u503a \u4fb5\u6743\u4e4b\u503a \u62c5\u4fdd\u5236\u5ea6 \u00b6 \u5efa\u8bbe\u9886\u57df\u5e38\u89c1\u62c5\u4fdd\u79cd\u7c7b: \u65bd\u5de5\u6295\u6807\u4fdd\u8bc1\u91d1 \u65bd\u5de5\u5408\u540c\u5c65\u7ea6\u4fdd\u8bc1\u91d1 \u5de5\u7a0b\u6b3e\u652f\u4ed8\u62c5\u4fdd \u9884\u4ed8\u6b3e\u62c5\u4fdd \u5efa\u8bbe\u6cd5\u89c4\u539f\u5219 \u00b6 \u81ea\u7136\u7ecf\u6d4e\u539f\u5219","title":"1. \u5efa\u8bbe\u6cd5\u89c4"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/1.%20%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/#1","text":"\u5efa\u8bbe\u6cd5\u89c4\u8c03\u6574\u5bf9\u8c61\uff1a 1. \u884c\u653f\u5173\u7cfb 2. \u7ecf\u6d4e\u534f\u4f5c\u5173\u7cfb 3. \u6c11\u4e8b\u5173\u7cfb","title":"1. \u5efa\u8bbe\u6cd5\u89c4"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/1.%20%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/#_1","text":"\u6839\u636e\u4ea7\u751f\u7684\u7f18\u7531: \u5408\u540c\u4e4b\u503a \u4fb5\u6743\u4e4b\u503a \u65e0\u7ba1\u7406\u4e4b\u503a \u4e0d\u5f53\u5f97\u5229\u4e4b\u503a \u5efa\u8bbe\u9886\u57df\u5e38\u89c1\u503a\u5238\u503a\u52a1\uff1a \u65bd\u5de5\u5408\u540c\u503a \u4e70\u5356\u5408\u540c\u503a \u4fb5\u6743\u4e4b\u503a","title":"\u503a\u5238\u5236\u5ea6"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/1.%20%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/#_2","text":"\u5efa\u8bbe\u9886\u57df\u5e38\u89c1\u62c5\u4fdd\u79cd\u7c7b: \u65bd\u5de5\u6295\u6807\u4fdd\u8bc1\u91d1 \u65bd\u5de5\u5408\u540c\u5c65\u7ea6\u4fdd\u8bc1\u91d1 \u5de5\u7a0b\u6b3e\u652f\u4ed8\u62c5\u4fdd \u9884\u4ed8\u6b3e\u62c5\u4fdd","title":"\u62c5\u4fdd\u5236\u5ea6"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/1.%20%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/#_3","text":"\u81ea\u7136\u7ecf\u6d4e\u539f\u5219","title":"\u5efa\u8bbe\u6cd5\u89c4\u539f\u5219"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%9C%9F%E6%9C%A8%E5%B7%A5%E7%A8%8B%E5%BB%BA%E8%AE%BE%E6%B3%95%E8%A7%84/2%20%E6%B3%95%E5%BE%8B%E6%B3%95%E8%A7%84/","text":"","title":"2 \u6cd5\u5f8b\u6cd5\u89c4"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/","text":"\u5efa\u8bbe\u9879\u76ee\u6295\u8d44\u4f30\u7b97\u548c\u8d22\u52a1\u5206\u6790 \u00b6 \u5efa\u8bbe\u9879\u76ee\u603b\u6295\u8d44 \u00b6 \u56fa\u6001\u8d44\u4ea7\u6295\u8d44(\u5de5\u7a0b\u9020\u4ef7) \u00b6 \u5efa\u8bbe\u603b\u6295\u8d44 \u5de5\u7a0b\u5efa\u8bbe\u8d39\u7528 \u5efa\u5b89\u5de5\u7a0b\u8d39 \u8bbe\u5907\u53ca\u5de5\u5668\u5177\u8d2d\u7f6e\u8d39 \u5de5\u7a0b\u5efa\u8bbe\u5176\u4ed6\u8d39\u7528 \u9884\u5907\u8d39 \u57fa\u672c\u9884\u5907\u8d39 \u4ef7\u5dee\u9884\u5907\u8d39 \u5efa\u8bbe\u671f\u5229\u606f \u6d41\u52a8\u8d44\u4ea7\u6295\u8d44 \u00b6 \u6d41\u52a8\u8d44\u91d1(\u539f\u6750\u6599: \u706b\u7535\u5382, \u5236\u8863\u5382) \u603b\u6210\u672c\u8d39\u7528 \u00b6 \u7ef4\u6301\u8fd0\u8425\u6295\u8d44 \u6298\u65e7\u8d39 \u7ecf\u8425\u6210\u672c \u644a\u9500\u8d39 \u5229\u606f \u5229\u6da6 \u00b6 \u603b\u5229\u6da6= \u6536\u5165- \u603b\u6210\u672c\u8d39\u7528 \u606f\u7a0e\u524d\u5229\u6da6= \u6536\u5165 - \u603b\u6210\u672c\u8d39\u7528 + \u5229\u606f + \u8865\u8d34\u6536\u5165 \u6240\u5f97\u7a0e = \u5229\u6da6\u603b\u989d X \u7a0e\u7387 \u8c03\u6574\u6240\u5f97\u7a0e = [ \u5229\u6da6\u603b\u989d - (\u9500\u9879\u7a0e - \u8fdb\u9879\u7a0e - \u53ef\u62b5\u6263\u8fdb\u9879\u7a0e)>0? ] X \u7a0e\u7387 \u4ef7\u5dee\u9884\u5907\u8d39 \u00b6 F = \u6bcf\u4e00\u5e74\u7684\u9759\u6001\u6295\u8d44(\u5305\u542b\u57fa\u672c\u9884\u5907\u8d39) f = \u5efa\u8bbe\u671f\u5e74\u5747\u4ef7\u683c\u4e0a\u6da8\u7387 \\(\u6bcf\u4e00\u5e74\u4ef7\u5dee\u9884\u5907\u8d39 = F * ( (1+f)^{m_{(\u524d\u671f\u5e74\u9650)}}(1+f)^{0.5}(1+f)^{t_{(\u7b2c\u51e0\u5e74)}-1}-1)\\) \u8d39\u7387 \u00b6 \u8fd0\u8f93\u4fdd\u9669\u8d39\u548c\u6d88\u8d39\u7a0e\u4e3a \u4ef7\u5185\u7a0e \u7a0e\u989d = (\u57fa\u4ef7 X \u8d39\u7387) / (1- \u8d39\u7387) \u751f\u4ea7\u80fd\u529b\u6307\u6570\u6cd5 \u00b6 \u51b3\u7b56\u6811 \u00b6 \u65b9\u6846: \u51b3\u7b56\u70b9 \u5706\u5708: \u673a\u4f1a\u70b9 \u5408\u540c\u7ba1\u7406\u4e0e\u5de5\u7a0b\u7d22\u8d54 \u00b6 \u62db\u6807 \u00b6 \u62db\u6807\u6587\u4ef6\u8981 \u5177\u4f53\u7684\u65f6\u95f4, \u5177\u4f53\u7684\u5730\u70b9\u552e\u5356, \u552e\u5356\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e5d \u6295\u6807 \u00b6 \u6295\u6807\u6709\u6548\u671f 60~90d, \u5927\u578b\u9879\u76ee 120d \u5f00\u6807 \u00b6 \u5728\u786e\u5b9a\u4e2d\u6807\u4eba15d \u5185\u5411\u76f8\u5173\u90e8\u95e8\u62a5\u544a \u4e2d\u6807\u901a\u77e5\u4e66\u53d1\u51fa 30d \u5185\u53cc\u65b9\u7b7e\u8ba2\u5408\u540c, \u79c1\u4e0b\u4e0d\u5f97\u518d\u7b7e\u5408\u540c \u5de5\u7a0b\u51b3\u7b97 \u00b6 \u542f\u6263\u70b9 \u00b6 \\(P_{(\u8d77\u6263\u70b9)}= T_{(\u603b\u6295\u8d44)} - M_{(\u5de5\u7a0b\u9884\u4ed8\u6b3e)}/N_{(\u4e3b\u8981\u6750\u6599\u8d39\u5360\u603b\u4f53\u6bd4\u4f8b)}\\)","title":"\u5efa\u8bbe\u9879\u76ee\u6295\u8d44\u4f30\u7b97\u548c\u8d22\u52a1\u5206\u6790"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_1","text":"","title":"\u5efa\u8bbe\u9879\u76ee\u6295\u8d44\u4f30\u7b97\u548c\u8d22\u52a1\u5206\u6790"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_2","text":"","title":"\u5efa\u8bbe\u9879\u76ee\u603b\u6295\u8d44"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_3","text":"\u5efa\u8bbe\u603b\u6295\u8d44 \u5de5\u7a0b\u5efa\u8bbe\u8d39\u7528 \u5efa\u5b89\u5de5\u7a0b\u8d39 \u8bbe\u5907\u53ca\u5de5\u5668\u5177\u8d2d\u7f6e\u8d39 \u5de5\u7a0b\u5efa\u8bbe\u5176\u4ed6\u8d39\u7528 \u9884\u5907\u8d39 \u57fa\u672c\u9884\u5907\u8d39 \u4ef7\u5dee\u9884\u5907\u8d39 \u5efa\u8bbe\u671f\u5229\u606f","title":"\u56fa\u6001\u8d44\u4ea7\u6295\u8d44(\u5de5\u7a0b\u9020\u4ef7)"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_4","text":"\u6d41\u52a8\u8d44\u91d1(\u539f\u6750\u6599: \u706b\u7535\u5382, \u5236\u8863\u5382)","title":"\u6d41\u52a8\u8d44\u4ea7\u6295\u8d44"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_5","text":"\u7ef4\u6301\u8fd0\u8425\u6295\u8d44 \u6298\u65e7\u8d39 \u7ecf\u8425\u6210\u672c \u644a\u9500\u8d39 \u5229\u606f","title":"\u603b\u6210\u672c\u8d39\u7528"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_6","text":"\u603b\u5229\u6da6= \u6536\u5165- \u603b\u6210\u672c\u8d39\u7528 \u606f\u7a0e\u524d\u5229\u6da6= \u6536\u5165 - \u603b\u6210\u672c\u8d39\u7528 + \u5229\u606f + \u8865\u8d34\u6536\u5165 \u6240\u5f97\u7a0e = \u5229\u6da6\u603b\u989d X \u7a0e\u7387 \u8c03\u6574\u6240\u5f97\u7a0e = [ \u5229\u6da6\u603b\u989d - (\u9500\u9879\u7a0e - \u8fdb\u9879\u7a0e - \u53ef\u62b5\u6263\u8fdb\u9879\u7a0e)>0? ] X \u7a0e\u7387","title":"\u5229\u6da6"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_7","text":"F = \u6bcf\u4e00\u5e74\u7684\u9759\u6001\u6295\u8d44(\u5305\u542b\u57fa\u672c\u9884\u5907\u8d39) f = \u5efa\u8bbe\u671f\u5e74\u5747\u4ef7\u683c\u4e0a\u6da8\u7387 \\(\u6bcf\u4e00\u5e74\u4ef7\u5dee\u9884\u5907\u8d39 = F * ( (1+f)^{m_{(\u524d\u671f\u5e74\u9650)}}(1+f)^{0.5}(1+f)^{t_{(\u7b2c\u51e0\u5e74)}-1}-1)\\)","title":"\u4ef7\u5dee\u9884\u5907\u8d39"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_8","text":"\u8fd0\u8f93\u4fdd\u9669\u8d39\u548c\u6d88\u8d39\u7a0e\u4e3a \u4ef7\u5185\u7a0e \u7a0e\u989d = (\u57fa\u4ef7 X \u8d39\u7387) / (1- \u8d39\u7387)","title":"\u8d39\u7387"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_9","text":"","title":"\u751f\u4ea7\u80fd\u529b\u6307\u6570\u6cd5"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_10","text":"\u65b9\u6846: \u51b3\u7b56\u70b9 \u5706\u5708: \u673a\u4f1a\u70b9","title":"\u51b3\u7b56\u6811"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_11","text":"","title":"\u5408\u540c\u7ba1\u7406\u4e0e\u5de5\u7a0b\u7d22\u8d54"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_12","text":"\u62db\u6807\u6587\u4ef6\u8981 \u5177\u4f53\u7684\u65f6\u95f4, \u5177\u4f53\u7684\u5730\u70b9\u552e\u5356, \u552e\u5356\u65f6\u95f4\u4e0d\u80fd\u5c0f\u4e8e5d","title":"\u62db\u6807"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_13","text":"\u6295\u6807\u6709\u6548\u671f 60~90d, \u5927\u578b\u9879\u76ee 120d","title":"\u6295\u6807"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_14","text":"\u5728\u786e\u5b9a\u4e2d\u6807\u4eba15d \u5185\u5411\u76f8\u5173\u90e8\u95e8\u62a5\u544a \u4e2d\u6807\u901a\u77e5\u4e66\u53d1\u51fa 30d \u5185\u53cc\u65b9\u7b7e\u8ba2\u5408\u540c, \u79c1\u4e0b\u4e0d\u5f97\u518d\u7b7e\u5408\u540c","title":"\u5f00\u6807"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_15","text":"","title":"\u5de5\u7a0b\u51b3\u7b97"},{"location":"%E5%9C%9F%E6%9C%A8/%E5%BB%BA%E8%AE%BE%E5%B7%A5%E7%A8%8B%E9%80%A0%E4%BB%B7%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/%E5%BB%BA%E8%AE%BE%E9%A1%B9%E7%9B%AE%E6%8A%95%E8%B5%84%E4%BC%B0%E7%AE%97%E5%92%8C%E8%B4%A2%E5%8A%A1%E5%88%86%E6%9E%90/#_16","text":"\\(P_{(\u8d77\u6263\u70b9)}= T_{(\u603b\u6295\u8d44)} - M_{(\u5de5\u7a0b\u9884\u4ed8\u6b3e)}/N_{(\u4e3b\u8981\u6750\u6599\u8d39\u5360\u603b\u4f53\u6bd4\u4f8b)}\\)","title":"\u542f\u6263\u70b9"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E5%BF%AB/","text":"Why Redis so fast? \u00b6 1. Is redis is single thread? \u00b6 No, Redis is not single thread. It have multiply thread into its process But, All commands and service only received and handled by the Main Thread\uff08 Redis Server ) 2. Why handle operator with single-thread? \u00b6 \u901a\u5e38\u8fdb\u7a0b\u5185\u90e8\u6709\u4ee5\u4e0b\u51e0\u4e2a\u7ebf\u7a0b: redis-server bio_close_file (close big file) bio_aof_fsync (\u6301\u4e45\u5316\u5237\u76d8) bio_lazy_free (free big memory) io_thd_1/2/3 (\u7f51\u7edcIO) jemalloc_bg_thread (\u5206\u914d\u5185\u5b58) Long-Running (\u8017\u65f6) Operator \u6709: IO \u5bc6\u96c6 CPU \u5bc6\u96c6 disk IO\u3001\u6301\u4e45\u5316 (data persistence: rdb, aof, aof\u590d\u5199,rdb-aof \u6df7\u7528) \u3001 Close\u5927\u6587\u4ef6\u3001 \u5f02\u6b65\u6301\u4e45\u5316\u6587\u4ef6\uff0c\u4ea7\u751f IO intensive\uff08\u5bc6\u96c6\uff09\u64cd\u4f5c\u3002 \u4e8e\u662f\u5728\u522b\u7684\u7ebf\u7a0b\u4e2d\u8fdb\u884c\u8fd9\u4e9b\u64cd\u4f5c \u5982\u679c\u91c7\u7528\u591a\u4e3b\u7ebf\u7a0b\u6709\u4ec0\u4e48\u95ee\u9898\uff1f \u5728\u4e0d\u540c\u7684\u7ebf\u7a0b\u95f4\u52a0\u9501\u5f71\u54cd\u6027\u80fd\uff0c\u9501\u590d\u6742\uff0c\u7c92\u5ea6\u4e0d\u597d\u63a7\u5236 \u7ebf\u7a0b\u5207\u6362\u4e0d\u6d89\u53ca\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4f46\u662f\u9891\u7e41\u4e0a\u4e0b\u6587\u5207\u6362\u4f1a\u5bfc\u81f4\u7f13\u5b58\u5931\u6548\uff0c\u6216\u96ea\u5d29 \u4e3a\u4f55\u8fd9\u4e48\u5feb\uff1f \u91c7\u7528\u4e86\u5185\u5b58\u7ed3\u6784\u4f53\u6765\u5b58\u50a8 reactor \u6a21\u578b\u7684\u4e3b\u7ebf\u7a0b\u670d\u52a1\uff0c\u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94\uff0c\u4ee5\u4e8b\u4ef6\u56de\u8c03\u6765\u5f02\u6b65\u5904\u7406\u6307\u4ee4\uff0c\u4e0d\u7528\u751f\u6210\u591a\u6761\u7ebf\u7a0b\u6765\u670d\u52a1\u94fe\u63a5\uff0c\u5728io\u5faa\u73af\u4e2d\u7531\u521b\u5efa\u597d\u7684\u5de5\u4f5c\u7ebf\u7a0b\u6765\u5904\u7406 \u5c06 \u963b\u585e\u7684 \u8017\u65f6\u64cd\u4f5c\u7531\u5de5\u4f5c\u7ebf\u7a0b\u5f02\u6b65\u5904\u7406 \u5c06\u590d\u6742\u7684IO\u5bc6\u96c6\uff0ccpu\u5bc6\u96c6\u5de5\u4f5c\u5206\u6cbb\u4e3a\u5c0f\u5de5\u4f5c\uff0c\u5982\u5c06rehash\u5206\u644a\u5728\u6bcf\u4e2a\u64cd\u4f5c\u4e2d \u9ad8\u6548\u7684\u6570\u636e\u7ec4\u7ec7\u7ed3\u6784\u65b9\u5f0f--hashtable\uff1aO(1\uff09\uff0c\u4e24\u4e2a hashtable \u6765\u5e94\u5bf9\u6269\u5bb9 \u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784: string: int-raw-embstr, hash: ziplist-dict, list: quicklist(\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e3aziplist), set: intset-skiplist+dict, \u5e76\u4e14\u5185\u7f6e stream \u6d88\u606f\u961f\u5217\u3002 \u5728\u6267\u884c\u6548\u7387\u548c\u7a7a\u95f4\u5360\u7528\u4fdd\u6301\u5747\u8861 3. \u6e90\u7801\u7ed3\u6784 \u00b6 redisDb \u7ed3\u6784\u4f53\uff0816\u4e2a\u4e4b\u4e00\uff09\u50a8\u5b58\u4e86\u8fd9\u4e2adb\u7684\u6240\u6709\u6570\u636e","title":"Redis\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5feb"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E5%BF%AB/#why-redis-so-fast","text":"","title":"Why Redis so fast?"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E5%BF%AB/#1-is-redis-is-single-thread","text":"No, Redis is not single thread. It have multiply thread into its process But, All commands and service only received and handled by the Main Thread\uff08 Redis Server )","title":"1. Is redis is single thread?"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E5%BF%AB/#2-why-handle-operator-with-single-thread","text":"\u901a\u5e38\u8fdb\u7a0b\u5185\u90e8\u6709\u4ee5\u4e0b\u51e0\u4e2a\u7ebf\u7a0b: redis-server bio_close_file (close big file) bio_aof_fsync (\u6301\u4e45\u5316\u5237\u76d8) bio_lazy_free (free big memory) io_thd_1/2/3 (\u7f51\u7edcIO) jemalloc_bg_thread (\u5206\u914d\u5185\u5b58) Long-Running (\u8017\u65f6) Operator \u6709: IO \u5bc6\u96c6 CPU \u5bc6\u96c6 disk IO\u3001\u6301\u4e45\u5316 (data persistence: rdb, aof, aof\u590d\u5199,rdb-aof \u6df7\u7528) \u3001 Close\u5927\u6587\u4ef6\u3001 \u5f02\u6b65\u6301\u4e45\u5316\u6587\u4ef6\uff0c\u4ea7\u751f IO intensive\uff08\u5bc6\u96c6\uff09\u64cd\u4f5c\u3002 \u4e8e\u662f\u5728\u522b\u7684\u7ebf\u7a0b\u4e2d\u8fdb\u884c\u8fd9\u4e9b\u64cd\u4f5c \u5982\u679c\u91c7\u7528\u591a\u4e3b\u7ebf\u7a0b\u6709\u4ec0\u4e48\u95ee\u9898\uff1f \u5728\u4e0d\u540c\u7684\u7ebf\u7a0b\u95f4\u52a0\u9501\u5f71\u54cd\u6027\u80fd\uff0c\u9501\u590d\u6742\uff0c\u7c92\u5ea6\u4e0d\u597d\u63a7\u5236 \u7ebf\u7a0b\u5207\u6362\u4e0d\u6d89\u53ca\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u4f46\u662f\u9891\u7e41\u4e0a\u4e0b\u6587\u5207\u6362\u4f1a\u5bfc\u81f4\u7f13\u5b58\u5931\u6548\uff0c\u6216\u96ea\u5d29 \u4e3a\u4f55\u8fd9\u4e48\u5feb\uff1f \u91c7\u7528\u4e86\u5185\u5b58\u7ed3\u6784\u4f53\u6765\u5b58\u50a8 reactor \u6a21\u578b\u7684\u4e3b\u7ebf\u7a0b\u670d\u52a1\uff0c\u4e00\u4e2a\u8bf7\u6c42\u4e00\u4e2a\u56de\u5e94\uff0c\u4ee5\u4e8b\u4ef6\u56de\u8c03\u6765\u5f02\u6b65\u5904\u7406\u6307\u4ee4\uff0c\u4e0d\u7528\u751f\u6210\u591a\u6761\u7ebf\u7a0b\u6765\u670d\u52a1\u94fe\u63a5\uff0c\u5728io\u5faa\u73af\u4e2d\u7531\u521b\u5efa\u597d\u7684\u5de5\u4f5c\u7ebf\u7a0b\u6765\u5904\u7406 \u5c06 \u963b\u585e\u7684 \u8017\u65f6\u64cd\u4f5c\u7531\u5de5\u4f5c\u7ebf\u7a0b\u5f02\u6b65\u5904\u7406 \u5c06\u590d\u6742\u7684IO\u5bc6\u96c6\uff0ccpu\u5bc6\u96c6\u5de5\u4f5c\u5206\u6cbb\u4e3a\u5c0f\u5de5\u4f5c\uff0c\u5982\u5c06rehash\u5206\u644a\u5728\u6bcf\u4e2a\u64cd\u4f5c\u4e2d \u9ad8\u6548\u7684\u6570\u636e\u7ec4\u7ec7\u7ed3\u6784\u65b9\u5f0f--hashtable\uff1aO(1\uff09\uff0c\u4e24\u4e2a hashtable \u6765\u5e94\u5bf9\u6269\u5bb9 \u9ad8\u6548\u7684\u6570\u636e\u7ed3\u6784: string: int-raw-embstr, hash: ziplist-dict, list: quicklist(\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e3aziplist), set: intset-skiplist+dict, \u5e76\u4e14\u5185\u7f6e stream \u6d88\u606f\u961f\u5217\u3002 \u5728\u6267\u884c\u6548\u7387\u548c\u7a7a\u95f4\u5360\u7528\u4fdd\u6301\u5747\u8861","title":"2. Why handle operator with single-thread?"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/Redis%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E5%BF%AB/#3","text":"redisDb \u7ed3\u6784\u4f53\uff0816\u4e2a\u4e4b\u4e00\uff09\u50a8\u5b58\u4e86\u8fd9\u4e2adb\u7684\u6240\u6709\u6570\u636e","title":"3. \u6e90\u7801\u7ed3\u6784"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/","text":"TinyWebserver \u00b6 \u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65IO Webserver \u5173\u952e\u70b9 \u00b6 epoll \u5b9a\u65f6\u5668 \u7ebf\u7a0b\u6c60 \u53cd\u5e94\u5806\u6a21\u578b \u975e\u963b\u585e+\u5f02\u6b65 \u96f6\u62f7\u8d1d sendfile TCP \u53c2\u6570(\u9676\u8f89\uff0c\u6781\u5ba2\u65f6\u95f4) \u534f\u7a0b c++20 QPS \u538b\u6d4b MYSQL\u6570\u636e\u5e93 \u00b6 \u4e8b\u52a1ACID \u9694\u79bb\u7ea7\u522b \u5e7b\u8bfb \u9501, MVCC redo log, undo log, binlog log B+\u6570 InooDB \u5185\u5e55 \u5382 \u00b6 \u5916\u4f01\u4f18\u5148 : \u82f1\u6587\u81ea\u6211\u4ecb\u7ecd \u5927\u5382 \u5176\u4ed6 \u6570\u636e\u7ed3\u6784 \u00b6 B+ \u8df3\u8868 \u5806 \u7ea2\u9ed1\u6811 LSM\u6811 \u4e00\u81f4\u6027\u54c8\u5e0c \u719f\u6089raft\u5171\u8bc6\u7b97\u6cd5\uff0c\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u5206\u5e03\u5f0f\u9501 Star \u6cd5\u5219 \u00b6 Situation Task Action Result TinyStl \u00b6 \u5173\u952e\u7279\u6027: - \u5185\u5b58\u5206\u914d\uff1a \u7269\u7406\u5185\u5b58\uff0c\u865a\u62df\u5185\u5b58\uff0c\u5206\u9875\uff0c\u4f19\u4f34\u7cfb\u7edf\uff0cslab\u5206\u914d\u5668 - \u7ebf\u7a0b\u5b89\u5168\uff1a \u9501\uff0c\u5e76\u53d1\u95ee\u9898","title":"TinyWebserver\u4e2d\u7684\u8981\u70b9"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#tinywebserver","text":"\u963b\u585e\u4e0e\u975e\u963b\u585e\u3001\u540c\u6b65\u4e0e\u5f02\u6b65\u3001\u5f02\u6b65IO","title":"TinyWebserver"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#webserver","text":"epoll \u5b9a\u65f6\u5668 \u7ebf\u7a0b\u6c60 \u53cd\u5e94\u5806\u6a21\u578b \u975e\u963b\u585e+\u5f02\u6b65 \u96f6\u62f7\u8d1d sendfile TCP \u53c2\u6570(\u9676\u8f89\uff0c\u6781\u5ba2\u65f6\u95f4) \u534f\u7a0b c++20 QPS \u538b\u6d4b","title":"Webserver \u5173\u952e\u70b9"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#mysql","text":"\u4e8b\u52a1ACID \u9694\u79bb\u7ea7\u522b \u5e7b\u8bfb \u9501, MVCC redo log, undo log, binlog log B+\u6570 InooDB \u5185\u5e55","title":"MYSQL\u6570\u636e\u5e93"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#_1","text":"\u5916\u4f01\u4f18\u5148 : \u82f1\u6587\u81ea\u6211\u4ecb\u7ecd \u5927\u5382 \u5176\u4ed6","title":"\u5382"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#_2","text":"B+ \u8df3\u8868 \u5806 \u7ea2\u9ed1\u6811 LSM\u6811 \u4e00\u81f4\u6027\u54c8\u5e0c \u719f\u6089raft\u5171\u8bc6\u7b97\u6cd5\uff0c\u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u5206\u5e03\u5f0f\u9501","title":"\u6570\u636e\u7ed3\u6784"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#star","text":"Situation Task Action Result","title":"Star \u6cd5\u5219"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/TinyWebserver%E4%B8%AD%E7%9A%84%E8%A6%81%E7%82%B9/#tinystl","text":"\u5173\u952e\u7279\u6027: - \u5185\u5b58\u5206\u914d\uff1a \u7269\u7406\u5185\u5b58\uff0c\u865a\u62df\u5185\u5b58\uff0c\u5206\u9875\uff0c\u4f19\u4f34\u7cfb\u7edf\uff0cslab\u5206\u914d\u5668 - \u7ebf\u7a0b\u5b89\u5168\uff1a \u9501\uff0c\u5e76\u53d1\u95ee\u9898","title":"TinyStl"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/","text":"\u8bbe\u8ba1\u4e00\u4e2a\u65e0\u9501\u961f\u5217 \u00b6 1. \u4e3a\u4ec0\u4e48\u8981\u7528\u65e0\u9501\u961f\u5217 \u00b6 cache \u5931\u6548\u95ee\u9898 \u52a0\u9501\u7ebf\u7a0b\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u8f6c\u6362cache\u53ef\u80fd\u4f1a\u4e22\u5931 \u7ebf\u7a0b\u6765\u56de\u5207\u6362\uff0ccache \u7a7a\u95f4\u4e0d\u8db3\u65f6 \u540c\u6b65\u673a\u5236\u4e0a\u7684\u7ade\u4e89- \u4e89\u593a\u9501\uff0c\u5f71\u54cd\u6027\u80fd \u94fe\u8868\u65b9\u5f0f\u5b9e\u73b0\u65f6 \u9700\u8981\u52a8\u6001\u5206\u914d\u8282\u70b9 \uff08\u5206\u914d\u5185\u5b58\u4e5f\u9700\u8981\u5207\u6362\u5230\u5185\u6838\u6001\uff09 \u94fe\u8868\u65b9\u5f0f\u57281\u5bf91\uff08Producer & Consumer) \u662f\u6ca1\u6709\u6570\u7ec4\u5feb\u7684 2. \u5b9e\u73b0 \u00b6 \u5728\u6027\u80fd\u8db3\u591f\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u822c\u4e0d\u8981\u53bb\u505a\u65e0\u9501\u4f18\u5316\uff0c\u4fdd\u8bc1\u6570\u636e\u540c\u6b65\u5b89\u5168 \u65b9\u6848 \u00b6 \u591a\u4e2a\u7ebf\u7a0b\u5171\u7528\u4e00\u4e2a\u961f\u5217 \u4e00\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u4e00\u4e2a\u961f\u5217(\u907f\u514d\u4e89\u62a2) \u6570\u636e\u7ed3\u6784 \u00b6 \u94fe\u8868\uff08\u52a8\u6001\u5206\u914d\uff09 \u6570\u7ec4\uff08\u56fa\u5b9a\u5927\u5c0f\uff09 zmq ypipct \uff08\u94fe\u8868\u52a0\u6570\u7ec4\u7684\u65b9\u5f0f\uff09 \u7528\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u7ec4\uff08chunk\uff09 \u4ee5\u94fe\u8868\u8fde\u63a5, chunk \u4f5c\u4e3a\u4e00\u4e2a\u5206\u914d\u5355\u5143 \u5927\u6982\u5206\u914d\u6bd4\u4f8b 200-300, n=100, chunk= 3 \u4f7f\u7528\u5b8c\u4e00\u4e2achunk\u540e\u600e\u4e48\u5904\u7406 \u628a\u8fd9\u4e2achunk\uff0c\u8fde\u63a5\u5230\u961f\u5217\u672b \u6ca1\u6709\u6570\u636e\u53ef\u8bfb\u53d6\u65f6\uff0c\u600e\u4e48\u529e\uff1f \u00b6 usleep(1ms) , \u6216\u80051ms\u65f6\u95f4\u592a\u957f mutex : notify : condition \u4ec0\u4e48\u65f6\u5019\u89e6\u53d1notify? \u4e0e\u6709\u9501\u7684condition \u6709\u4f55\u533a\u522b? \u6bcf\u6b21 push \u90fd notify\uff1f zmq \u7684\u65e0\u9501\u961f\u5217\u5982\u4f55\u89e3\u51b3\u5524\u9192\u95ee\u9898","title":"\u8bbe\u8ba1\u4e00\u4e2a\u65e0\u9501\u961f\u5217"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#_1","text":"","title":"\u8bbe\u8ba1\u4e00\u4e2a\u65e0\u9501\u961f\u5217"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#1","text":"cache \u5931\u6548\u95ee\u9898 \u52a0\u9501\u7ebf\u7a0b\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u8f6c\u6362cache\u53ef\u80fd\u4f1a\u4e22\u5931 \u7ebf\u7a0b\u6765\u56de\u5207\u6362\uff0ccache \u7a7a\u95f4\u4e0d\u8db3\u65f6 \u540c\u6b65\u673a\u5236\u4e0a\u7684\u7ade\u4e89- \u4e89\u593a\u9501\uff0c\u5f71\u54cd\u6027\u80fd \u94fe\u8868\u65b9\u5f0f\u5b9e\u73b0\u65f6 \u9700\u8981\u52a8\u6001\u5206\u914d\u8282\u70b9 \uff08\u5206\u914d\u5185\u5b58\u4e5f\u9700\u8981\u5207\u6362\u5230\u5185\u6838\u6001\uff09 \u94fe\u8868\u65b9\u5f0f\u57281\u5bf91\uff08Producer & Consumer) \u662f\u6ca1\u6709\u6570\u7ec4\u5feb\u7684","title":"1. \u4e3a\u4ec0\u4e48\u8981\u7528\u65e0\u9501\u961f\u5217"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#2","text":"\u5728\u6027\u80fd\u8db3\u591f\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u822c\u4e0d\u8981\u53bb\u505a\u65e0\u9501\u4f18\u5316\uff0c\u4fdd\u8bc1\u6570\u636e\u540c\u6b65\u5b89\u5168","title":"2. \u5b9e\u73b0"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#_2","text":"\u591a\u4e2a\u7ebf\u7a0b\u5171\u7528\u4e00\u4e2a\u961f\u5217 \u4e00\u4e2a\u7ebf\u7a0b\u4f7f\u7528\u4e00\u4e2a\u961f\u5217(\u907f\u514d\u4e89\u62a2)","title":"\u65b9\u6848"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#_3","text":"\u94fe\u8868\uff08\u52a8\u6001\u5206\u914d\uff09 \u6570\u7ec4\uff08\u56fa\u5b9a\u5927\u5c0f\uff09 zmq ypipct \uff08\u94fe\u8868\u52a0\u6570\u7ec4\u7684\u65b9\u5f0f\uff09 \u7528\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u7ec4\uff08chunk\uff09 \u4ee5\u94fe\u8868\u8fde\u63a5, chunk \u4f5c\u4e3a\u4e00\u4e2a\u5206\u914d\u5355\u5143 \u5927\u6982\u5206\u914d\u6bd4\u4f8b 200-300, n=100, chunk= 3 \u4f7f\u7528\u5b8c\u4e00\u4e2achunk\u540e\u600e\u4e48\u5904\u7406 \u628a\u8fd9\u4e2achunk\uff0c\u8fde\u63a5\u5230\u961f\u5217\u672b","title":"\u6570\u636e\u7ed3\u6784"},{"location":"%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%97%A0%E9%94%81%E9%98%9F%E5%88%97/#_4","text":"usleep(1ms) , \u6216\u80051ms\u65f6\u95f4\u592a\u957f mutex : notify : condition \u4ec0\u4e48\u65f6\u5019\u89e6\u53d1notify? \u4e0e\u6709\u9501\u7684condition \u6709\u4f55\u533a\u522b? \u6bcf\u6b21 push \u90fd notify\uff1f zmq \u7684\u65e0\u9501\u961f\u5217\u5982\u4f55\u89e3\u51b3\u5524\u9192\u95ee\u9898","title":"\u6ca1\u6709\u6570\u636e\u53ef\u8bfb\u53d6\u65f6\uff0c\u600e\u4e48\u529e\uff1f"}]}